import{u as Gt,j as e,N as ja,r as m,B as Sa,a as Na,b as Pe,d as ka}from"./vendor-react-B0Xi4u7S.js";import{H as wa,L as Ca,P as Pt,G as le,S as Es,I as Rs,M as Aa,U as Ia,a as zs,B as Ta,V as $t,b as ce,A as Ea,T as Ve,C as Os,c as vt,d as Ra,F as Qe,e as za,f as Oa,g as La,h as Ls,i as Da,j as Ds,k as _a,l as Wt,E as Ma,m as Ht,n as H,o as se,p as Ba,q as Ot,r as Lt,X as Ft,s as Pa,t as js,u as $a,v as Xe,w as Yt,x as Fa,y as Ya,z as qa,D as Ua,J as _s,K as Ga,N as Wa,O as Ha,Q as Dt,R as Ss,W as Ka}from"./vendor-ui-CJ6XshMZ.js";import{i as Za}from"./vendor-editor-BvsJV83P.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))p(g);new MutationObserver(g=>{for(const y of g)if(y.type==="childList")for(const h of y.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&p(h)}).observe(document,{childList:!0,subtree:!0});function n(g){const y={};return g.integrity&&(y.integrity=g.integrity),g.referrerPolicy&&(y.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?y.credentials="include":g.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function p(g){if(g.ep)return;g.ep=!0;const y=n(g);fetch(g.href,y)}})();const Va=({menuItems:s,user:i,onLogout:n})=>{const p=i?.role||"secondary",g=Gt(),y={Layout:Pt,Home:_a,Menu:Ds,Maximize:Da,Type:Ls,Star:La,Anchor:Oa,Info:za,FileText:Qe,List:Ra,Calendar:vt,Clock:Os,Trophy:Ve,Award:Ea,Image:ce,Video:$t,BookOpen:Ta,Phone:zs,Users:Ia,Monitor:Aa,Inbox:Rs,Settings:Es,Globe:le},h=({name:N,className:C})=>{const o=y[N];return o?e.jsx(o,{className:C,size:18}):e.jsx(Pt,{className:C,size:18})},S=N=>N?N.includes("?")?g.pathname+g.search===N:g.pathname===N:!1,b=(N,C,o)=>e.jsx("li",{className:"sidebar-item",children:e.jsxs(ja,{to:o||N.path||"#",className:()=>`sidebar-link ${S(o||N.path)?"active":""}`,children:[(N.icon||C)&&e.jsx(h,{name:N.icon||C||"",className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:N.title}),N.badge&&e.jsx("span",{className:`badge ${N.badge.color} sidebar-badge`,children:N.badge.text})]})},N.title),v=N=>{const C=["/frontend-settings","/users-management"];return N.map(u=>{const E=u.children?v(u.children):void 0;return p==="secondary"&&C.some(I=>u.path?.toLowerCase()===I)||!u.path&&(!E||E.length===0)?null:{...u,children:E}}).filter(Boolean)};return e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"brand-logo",children:[e.jsx(wa,{className:"logo-icon",size:24,fill:"currentColor"}),e.jsxs("span",{className:"brand-name",children:["FORSAJ",e.jsx("span",{children:"PANEL"})]})]})}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:"ƏSAS NAVİQASİYA"}),e.jsxs("ul",{className:"sidebar-menu",children:[v(s).map(N=>{const C=N.children?.find(o=>!!o.path)?.path;return b(N,N.icon,N.path||C)}),s.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:"Menyu boşdur"})})]})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:n,children:[e.jsx(Ca,{size:18}),e.jsx("span",{children:"Çıxış"})]})})]})},Qa=({user:s})=>e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("button",{className:"icon-btn toggle-sidebar",children:e.jsx(Ds,{size:20})}),e.jsxs("div",{className:"header-search",children:[e.jsx(Wt,{size:18,className:"search-icon"}),e.jsx("input",{type:"text",placeholder:"Hər şeyi axtar..."})]})]}),e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(Ma,{size:16})," Sayta Bax"]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:s?.name||"Forsaj İdarəçisi"}),e.jsx("span",{className:"profile-status",children:s?.role==="master"?"Baş Admin":"Sayt Redaktoru"})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${s?.name||"Admin"}&background=random`,alt:"Profil"})]})]})]});let Xa={data:""},Ja=s=>{if(typeof window=="object"){let i=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return i.nonce=window.__nonce__,i.parentNode||(s||document.head).appendChild(i),i.firstChild}return s||Xa},ei=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ti=/\/\*[^]*?\*\/|  +/g,Ns=/\n+/g,ye=(s,i)=>{let n="",p="",g="";for(let y in s){let h=s[y];y[0]=="@"?y[1]=="i"?n=y+" "+h+";":p+=y[1]=="f"?ye(h,y):y+"{"+ye(h,y[1]=="k"?"":i)+"}":typeof h=="object"?p+=ye(h,i?i.replace(/([^,])+/g,S=>y.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,b=>/&/.test(b)?b.replace(/&/g,S):S?S+" "+b:b)):y):h!=null&&(y=/^--/.test(y)?y:y.replace(/[A-Z]/g,"-$&").toLowerCase(),g+=ye.p?ye.p(y,h):y+":"+h+";")}return n+(i&&g?i+"{"+g+"}":g)+p},ue={},Ms=s=>{if(typeof s=="object"){let i="";for(let n in s)i+=n+Ms(s[n]);return i}return s},si=(s,i,n,p,g)=>{let y=Ms(s),h=ue[y]||(ue[y]=(b=>{let v=0,N=11;for(;v<b.length;)N=101*N+b.charCodeAt(v++)>>>0;return"go"+N})(y));if(!ue[h]){let b=y!==s?s:(v=>{let N,C,o=[{}];for(;N=ei.exec(v.replace(ti,""));)N[4]?o.shift():N[3]?(C=N[3].replace(Ns," ").trim(),o.unshift(o[0][C]=o[0][C]||{})):o[0][N[1]]=N[2].replace(Ns," ").trim();return o[0]})(s);ue[h]=ye(g?{["@keyframes "+h]:b}:b,n?"":"."+h)}let S=n&&ue.g?ue.g:null;return n&&(ue.g=ue[h]),((b,v,N,C)=>{C?v.data=v.data.replace(C,b):v.data.indexOf(b)===-1&&(v.data=N?b+v.data:v.data+b)})(ue[h],i,p,S),h},ai=(s,i,n)=>s.reduce((p,g,y)=>{let h=i[y];if(h&&h.call){let S=h(n),b=S&&S.props&&S.props.className||/^go/.test(S)&&S;h=b?"."+b:S&&typeof S=="object"?S.props?"":ye(S,""):S===!1?"":S}return p+g+(h??"")},"");function jt(s){let i=this||{},n=s.call?s(i.p):s;return si(n.unshift?n.raw?ai(n,[].slice.call(arguments,1),i.p):n.reduce((p,g)=>Object.assign(p,g&&g.call?g(i.p):g),{}):n,Ja(i.target),i.g,i.o,i.k)}let Bs,qt,Ut;jt.bind({g:1});let me=jt.bind({k:1});function ii(s,i,n,p){ye.p=i,Bs=s,qt=n,Ut=p}function be(s,i){let n=this||{};return function(){let p=arguments;function g(y,h){let S=Object.assign({},y),b=S.className||g.className;n.p=Object.assign({theme:qt&&qt()},S),n.o=/ *go\d+/.test(b),S.className=jt.apply(n,p)+(b?" "+b:"");let v=s;return s[0]&&(v=S.as||s,delete S.as),Ut&&v[0]&&Ut(S),Bs(v,S)}return g}}var ri=s=>typeof s=="function",bt=(s,i)=>ri(s)?s(i):s,ni=(()=>{let s=0;return()=>(++s).toString()})(),Ps=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");s=!i||i.matches}return s}})(),li=20,Kt="default",$s=(s,i)=>{let{toastLimit:n}=s.settings;switch(i.type){case 0:return{...s,toasts:[i.toast,...s.toasts].slice(0,n)};case 1:return{...s,toasts:s.toasts.map(h=>h.id===i.toast.id?{...h,...i.toast}:h)};case 2:let{toast:p}=i;return $s(s,{type:s.toasts.find(h=>h.id===p.id)?1:0,toast:p});case 3:let{toastId:g}=i;return{...s,toasts:s.toasts.map(h=>h.id===g||g===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return i.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(h=>h.id!==i.toastId)};case 5:return{...s,pausedAt:i.time};case 6:let y=i.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+y}))}}},yt=[],Fs={toasts:[],pausedAt:void 0,settings:{toastLimit:li}},pe={},Ys=(s,i=Kt)=>{pe[i]=$s(pe[i]||Fs,s),yt.forEach(([n,p])=>{n===i&&p(pe[i])})},qs=s=>Object.keys(pe).forEach(i=>Ys(s,i)),oi=s=>Object.keys(pe).find(i=>pe[i].toasts.some(n=>n.id===s)),St=(s=Kt)=>i=>{Ys(i,s)},di={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ci=(s={},i=Kt)=>{let[n,p]=m.useState(pe[i]||Fs),g=m.useRef(pe[i]);m.useEffect(()=>(g.current!==pe[i]&&p(pe[i]),yt.push([i,p]),()=>{let h=yt.findIndex(([S])=>S===i);h>-1&&yt.splice(h,1)}),[i]);let y=n.toasts.map(h=>{var S,b,v;return{...s,...s[h.type],...h,removeDelay:h.removeDelay||((S=s[h.type])==null?void 0:S.removeDelay)||s?.removeDelay,duration:h.duration||((b=s[h.type])==null?void 0:b.duration)||s?.duration||di[h.type],style:{...s.style,...(v=s[h.type])==null?void 0:v.style,...h.style}}});return{...n,toasts:y}},pi=(s,i="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:n?.id||ni()}),Je=s=>(i,n)=>{let p=pi(i,s,n);return St(p.toasterId||oi(p.id))({type:2,toast:p}),p.id},q=(s,i)=>Je("blank")(s,i);q.error=Je("error");q.success=Je("success");q.loading=Je("loading");q.custom=Je("custom");q.dismiss=(s,i)=>{let n={type:3,toastId:s};i?St(i)(n):qs(n)};q.dismissAll=s=>q.dismiss(void 0,s);q.remove=(s,i)=>{let n={type:4,toastId:s};i?St(i)(n):qs(n)};q.removeAll=s=>q.remove(void 0,s);q.promise=(s,i,n)=>{let p=q.loading(i.loading,{...n,...n?.loading});return typeof s=="function"&&(s=s()),s.then(g=>{let y=i.success?bt(i.success,g):void 0;return y?q.success(y,{id:p,...n,...n?.success}):q.dismiss(p),g}).catch(g=>{let y=i.error?bt(i.error,g):void 0;y?q.error(y,{id:p,...n,...n?.error}):q.dismiss(p)}),s};var ui=1e3,xi=(s,i="default")=>{let{toasts:n,pausedAt:p}=ci(s,i),g=m.useRef(new Map).current,y=m.useCallback((C,o=ui)=>{if(g.has(C))return;let u=setTimeout(()=>{g.delete(C),h({type:4,toastId:C})},o);g.set(C,u)},[]);m.useEffect(()=>{if(p)return;let C=Date.now(),o=n.map(u=>{if(u.duration===1/0)return;let E=(u.duration||0)+u.pauseDuration-(C-u.createdAt);if(E<0){u.visible&&q.dismiss(u.id);return}return setTimeout(()=>q.dismiss(u.id,i),E)});return()=>{o.forEach(u=>u&&clearTimeout(u))}},[n,p,i]);let h=m.useCallback(St(i),[i]),S=m.useCallback(()=>{h({type:5,time:Date.now()})},[h]),b=m.useCallback((C,o)=>{h({type:1,toast:{id:C,height:o}})},[h]),v=m.useCallback(()=>{p&&h({type:6,time:Date.now()})},[p,h]),N=m.useCallback((C,o)=>{let{reverseOrder:u=!1,gutter:E=8,defaultPosition:w}=o||{},I=n.filter(K=>(K.position||w)===(C.position||w)&&K.height),O=I.findIndex(K=>K.id===C.id),Y=I.filter((K,J)=>J<O&&K.visible).length;return I.filter(K=>K.visible).slice(...u?[Y+1]:[0,Y]).reduce((K,J)=>K+(J.height||0)+E,0)},[n]);return m.useEffect(()=>{n.forEach(C=>{if(C.dismissed)y(C.id,C.removeDelay);else{let o=g.get(C.id);o&&(clearTimeout(o),g.delete(C.id))}})},[n,y]),{toasts:n,handlers:{updateHeight:b,startPause:S,endPause:v,calculateOffset:N}}},hi=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,mi=me`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fi=me`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gi=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${mi} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vi=me`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yi=be("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${vi} 1s linear infinite;
`,bi=me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ji=me`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Si=be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ji} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ni=be("div")`
  position: absolute;
`,ki=be("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wi=me`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ci=be("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wi} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ai=({toast:s})=>{let{icon:i,type:n,iconTheme:p}=s;return i!==void 0?typeof i=="string"?m.createElement(Ci,null,i):i:n==="blank"?null:m.createElement(ki,null,m.createElement(yi,{...p}),n!=="loading"&&m.createElement(Ni,null,n==="error"?m.createElement(gi,{...p}):m.createElement(Si,{...p})))},Ii=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ti=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Ei="0%{opacity:0;} 100%{opacity:1;}",Ri="0%{opacity:1;} 100%{opacity:0;}",zi=be("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Oi=be("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Li=(s,i)=>{let n=s.includes("top")?1:-1,[p,g]=Ps()?[Ei,Ri]:[Ii(n),Ti(n)];return{animation:i?`${me(p)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${me(g)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Di=m.memo(({toast:s,position:i,style:n,children:p})=>{let g=s.height?Li(s.position||i||"top-center",s.visible):{opacity:0},y=m.createElement(Ai,{toast:s}),h=m.createElement(Oi,{...s.ariaProps},bt(s.message,s));return m.createElement(zi,{className:s.className,style:{...g,...n,...s.style}},typeof p=="function"?p({icon:y,message:h}):m.createElement(m.Fragment,null,y,h))});ii(m.createElement);var _i=({id:s,className:i,style:n,onHeightUpdate:p,children:g})=>{let y=m.useCallback(h=>{if(h){let S=()=>{let b=h.getBoundingClientRect().height;p(s,b)};S(),new MutationObserver(S).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[s,p]);return m.createElement("div",{ref:y,className:i,style:n},g)},Mi=(s,i)=>{let n=s.includes("top"),p=n?{top:0}:{bottom:0},g=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ps()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(n?1:-1)}px)`,...p,...g}},Bi=jt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ht=16,Pi=({reverseOrder:s,position:i="top-center",toastOptions:n,gutter:p,children:g,toasterId:y,containerStyle:h,containerClassName:S})=>{let{toasts:b,handlers:v}=xi(n,y);return m.createElement("div",{"data-rht-toaster":y||"",style:{position:"fixed",zIndex:9999,top:ht,left:ht,right:ht,bottom:ht,pointerEvents:"none",...h},className:S,onMouseEnter:v.startPause,onMouseLeave:v.endPause},b.map(N=>{let C=N.position||i,o=v.calculateOffset(N,{reverseOrder:s,gutter:p,defaultPosition:i}),u=Mi(C,o);return m.createElement(_i,{id:N.id,key:N.id,onHeightUpdate:v.updateHeight,className:N.visible?Bi:"",style:u},N.type==="custom"?bt(N.message,N):g?g(N):m.createElement(Di,{toast:N,position:C}))}))},k=q;const $i={toolbar:[[{header:[2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},ks=["Shield","Users","Leaf","Zap","Target","Globe","Star","Flag"],mt=s=>{if(!s)return"";const i=s.replace(/\\+\[/g,"[").replace(/\\+\]/g,"]");if(!/\[(\/?)(B|I|U|S|CENTER|FONT|URL|IMG|COLOR|SIZE|QUOTE|CODE|LIST|\*)[\]=\s\w"':#.,+-]*\]/i.test(i))return i;let p=i;return p=p.replace(/\[CENTER\]([\s\S]*?)\[\/CENTER\]/gi,'<div style="text-align:center;">$1</div>'),p=p.replace(/\[FONT=([^\]]+)\]([\s\S]*?)\[\/FONT\]/gi,'<span style="font-family:$1;">$2</span>'),p=p.replace(/\[B\]([\s\S]*?)\[\/B\]/gi,"<strong>$1</strong>"),p=p.replace(/\[I\]([\s\S]*?)\[\/I\]/gi,"<em>$1</em>"),p=p.replace(/\[U\]([\s\S]*?)\[\/U\]/gi,'<span style="text-decoration:underline;">$1</span>'),p=p.replace(/\[S\]([\s\S]*?)\[\/S\]/gi,"<strike>$1</strike>"),p=p.replace(/\[URL=([^\]]+)\]([\s\S]*?)\[\/URL\]/gi,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>'),p=p.replace(/\[IMG\]([\s\S]*?)\[\/IMG\]/gi,'<img src="$1" style="max-width:100%;" />'),p=p.replace(/\[COLOR=([^\]]+)\]([\s\S]*?)\[\/COLOR\]/gi,'<span style="color:$1;">$2</span>'),p=p.replace(/\[SIZE=([^\]]+)\]([\s\S]*?)\[\/SIZE\]/gi,'<span style="font-size:$1px;">$2</span>'),p=p.replace(/\[QUOTE\]([\s\S]*?)\[\/QUOTE\]/gi,"<blockquote>$1</blockquote>"),p=p.replace(/\[CODE\]([\s\S]*?)\[\/CODE\]/gi,"<pre><code>$1</code></pre>"),p=p.replace(/\r?\n/g,"<br />"),p},ft=({value:s,onChange:i,id:n,readOnly:p=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:n,children:e.jsx(Za,{theme:"snow",value:s||"",onChange:i,modules:p?{toolbar:!1}:$i,readOnly:p,placeholder:"Məzmunu daxil edin..."})}),ze=s=>{if(/^[A-Z0-9_]+$/.test(s.id))return s.id.trim();const i=(s.label||"").trim();return i.startsWith("KEY:")?i.replace(/^KEY:\s*/i,"").trim():""},Fi=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,Us=s=>Fi.test((s||"").trim()),ws=s=>s.replace(/_/g," ").replace(/\s+/g," ").trim(),gt=s=>{if(!s)return"";let i=s;for(let p=0;p<4;p++){const y=(new DOMParser().parseFromString(i,"text/html").body.textContent||"").trim();if(!y||y===i)break;i=y}return(new DOMParser().parseFromString(i,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},_t=s=>{const i=(s||"").trim();if(!i)return"";if(/^(https?:)?\/\//i.test(i))return i;const n=i.startsWith("/")?i:`/${i}`;return`${window.location.origin}${n}`},Gs=s=>/&(?:lt|gt|nbsp|quot|amp);|<\/?[a-z][^>]*>/i.test(s||""),Yi=s=>/<(ul|ol|li|a|img|iframe|video|table|h[1-6])\b|\[(b|i|u|url|img|center)\]/i.test(s||""),qi=s=>!!(ze(s)||Re(s.id)||s.id.startsWith("txt-")||s.id.startsWith("val-")||s.id.startsWith("RULES_")||s.id.startsWith("PAGE_")||s.id.startsWith("BTN_")||s.id.startsWith("DOC_")||Gs(s.value||"")&&!Yi(s.value||"")),xe="label-stat-",he="value-stat-",Re=s=>s.startsWith(xe)||s.startsWith(he),Cs=s=>s.startsWith(xe)?s.slice(xe.length):s.startsWith(he)?s.slice(he.length):"",$e=(s,i)=>ze(s)?i==="value":!0,Ui=s=>!ze(s),As=s=>{const i=ze(s);return!!(i&&i.includes("_")||!i&&Us(s.value))},Mt=/^PARTNER_(\d+)_(NAME|TAG|ICON|USE_IMAGE|IMAGE_ID)$/,Gi=s=>s==="NAME"?"name":s==="TAG"?"tag":s==="ICON"?"icon":s==="USE_IMAGE"?"useImage":s==="IMAGE_ID"?"imageId":null,Bt={hero:"Hero Bölməsi",marquee:"Marquee Yazısı",navbar:"Menyu və Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər",drivers:"Sürücülər",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya",videos:"Videolar",videoarchive:"Video Arxiv",footer:"Footer",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},Fe={home:["navbar","hero","marquee","categoryleaders","footer"],abouttab:["about"],newstab:["newspage"],eventstab:["eventspage"],driverstab:["drivers"],gallerytab:["gallerypage","gallery","videos","videoarchive"],rulestab:["rulespage"],contacttab:["contactpage"]},Ws=Object.entries(Fe).reduce((s,[i,n])=>(n.forEach(p=>{s[p]=i}),s),{}),Is=s=>{if(!s)return[];if(Fe[s])return Fe[s];const i=Ws[s];return i&&Fe[i]?Fe[i]:[s]},Ts="forsaj_site_content_version",X=(s,i)=>Number.isFinite(s)?s:i,Wi=()=>{const[s,i]=m.useState([]),[n,p]=m.useState(0),[g,y]=m.useState(!1),[h,S]=m.useState(!1),[b,v]=m.useState(0),[N,C]=m.useState(""),[o,u]=m.useState(!1),[E,w]=m.useState(!1),[I,O]=m.useState(!1),[Y,K]=m.useState([]),[J,Z]=m.useState(null),[oe,de]=m.useState(""),[W,Hs]=m.useState(""),[je,et]=m.useState([]),[Oe,tt]=m.useState(null),[D,st]=m.useState({}),[Se,at]=m.useState([]),[Le,it]=m.useState(null),[U,rt]=m.useState({}),[Ne,nt]=m.useState([]),[Ye,Nt]=m.useState(null),[ae,kt]=m.useState({}),wt=Gt(),Zt=new URLSearchParams(wt.search),Ct=Zt.get("mode"),fe=Zt.get("page"),[G,ie]=m.useState("extract"),[At,lt]=m.useState([]),Vt=m.useRef(!1),[qe,Qt]=m.useState(null),[ke,It]=m.useState({});m.useEffect(()=>{ie(Ct||"extract")},[Ct,fe]);const[re,we]=m.useState([]),[V,Ue]=m.useState(null),[De,Ge]=m.useState(null),[te,_e]=m.useState({}),Xt=async()=>{try{const a=await(await fetch("/api/site-content")).json();if(Array.isArray(a)){const f=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","news","drivers","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],T=[...a],_=R=>{const A=R.sections||[],L=R.images||[],z=($,M,ve)=>{A.some(zt=>zt.id===$)||A.push({id:$,type:"text",label:M,value:ve})},ge=($,M,ve)=>{L.some(zt=>zt.id===$)||L.push({id:$,path:M,alt:ve,type:"remote",order:L.length})};if(z("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),z("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),z("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),z("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),z("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),z("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),z("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),z("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),z("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),z("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),z("val-icon-1","Dəyər 1 İkonu","Shield"),z("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),z("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),z("val-icon-2","Dəyər 2 İkonu","Users"),z("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),z("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),z("val-icon-3","Dəyər 3 İkonu","Leaf"),z("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),z("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),z("val-icon-4","Dəyər 4 İkonu","Zap"),z("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),z("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),A.some($=>$.id.includes("label-stat"))&&A.some($=>$.id.includes("value-stat"))){R.sections=A,ge("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),R.images=L;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach(($,M)=>{const ve=`${M+1}`;A.push({id:`label-stat-${ve}`,type:"text",label:`Statistika Etiketi ${M+1}`,value:$.label}),A.push({id:`value-stat-${ve}`,type:"text",label:`Statistika Dəyəri ${M+1}`,value:$.value})}),R.sections=A,ge("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),R.images=L},P=R=>{const A=R.sections||[],L=R.images||[],z=(Q,$,M)=>{A.some(ve=>ve.id===Q)||A.push({id:Q,type:"text",label:$,value:M})},ge=Q=>{L.some($=>$.id===Q)||L.push({id:Q,path:"",alt:Q,type:"local",order:L.length})};z("SECTION_TITLE","Bölmə Başlığı","RƏSMİ TƏRƏFDAŞLARIMIZ"),[{name:"AZMF",tag:"OFFICIAL PARTNER",icon:"ShieldCheck"},{name:"OFFROAD AZ",tag:"OFFICIAL PARTNER",icon:"Truck"},{name:"GLOBAL 4X4",tag:"OFFICIAL PARTNER",icon:"Globe"},{name:"RACE TECH",tag:"OFFICIAL PARTNER",icon:"Zap"}].forEach((Q,$)=>{const M=$+1;z(`PARTNER_${M}_NAME`,`Tərəfdaş ${M} Ad`,Q.name),z(`PARTNER_${M}_TAG`,`Tərəfdaş ${M} Etiket`,Q.tag),z(`PARTNER_${M}_ICON`,`Tərəfdaş ${M} İkon`,Q.icon),z(`PARTNER_${M}_USE_IMAGE`,`Tərəfdaş ${M} Görsel İstifadə`,"false"),z(`PARTNER_${M}_IMAGE_ID`,`Tərəfdaş ${M} Görsel ID`,`partner-image-${M}`),ge(`partner-image-${M}`)}),R.sections=A,R.images=L},Be=R=>{const A=R.sections||[],L=(z,ge,Ze,Q)=>{const $=A.findIndex(M=>M.id===z);if($===-1){A.push({id:z,type:"text",label:ge,value:Ze,...Q?{url:Q}:{}});return}Q&&!A[$].url&&(A[$].url=Q)};L("text-3","Hero Düymə 1","YARIŞLARA BAX","events"),L("text-4","Hero Düymə 2","HAQQIMIZDA","about"),R.sections=A};f.forEach(R=>{const A=T.find(L=>L.id===R);A?R==="about"?_(A):R==="partners"?P(A):R==="hero"&&Be(A):T.push({id:R,title:Bt[R]||R,sections:[{id:`${R}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const F=T.find(R=>R.id==="about");F&&_(F);const ys=T.find(R=>R.id==="partners");ys&&P(ys);const bs=T.find(R=>R.id==="hero");bs&&Be(bs);const xt=new Map(f.map((R,A)=>[R,A]));T.sort((R,A)=>{const L=xt.has(R.id)?xt.get(R.id):Number.MAX_SAFE_INTEGER,z=xt.has(A.id)?xt.get(A.id):Number.MAX_SAFE_INTEGER;return L!==z?L-z:(R.title||R.id).localeCompare(A.title||A.id)});const ba=T.map(R=>({...R,sections:(R.sections||[]).map((A,L)=>{if(A.type!=="text")return A;const ge=qi(A)?gt(A.value||""):(A.value||"").replace(/\u00a0/g," "),Ze=Gs(A.label||"")?gt(A.label||""):A.label;return{...A,label:Ze,value:ge,...A.url?{url:_t(A.url)}:{},order:X(A.order,L)}}).sort((A,L)=>X(A.order,0)-X(L.order,0)),images:(R.images||[]).map((A,L)=>({...A,order:X(A.order,L)})).sort((A,L)=>X(A.order,0)-X(L.order,0))}));i(ba)}const[r,l,c,d,x,j]=await Promise.all([fetch(`/api/all-images?v=${Date.now()}`).then(f=>f.json()).catch(()=>({})),fetch("/api/events").then(f=>f.json()).catch(()=>[]),fetch("/api/news").then(f=>f.json()).catch(()=>[]),fetch("/api/drivers").then(f=>f.json()).catch(()=>[]),fetch("/api/gallery-photos").then(f=>f.json()).catch(()=>[]),fetch("/api/videos").then(f=>f.json()).catch(()=>[])]);r?.local&&K(r.local),Array.isArray(l)&&(et(l),l.length>0&&Oe===null&&(tt(l[0].id),st(l[0]))),Array.isArray(c)&&(at(c),c.length>0&&Le===null&&(it(c[0].id),rt({...c[0]}))),Array.isArray(d)&&(we(d),d.length>0&&V===null&&Ue(d[0].id)),Array.isArray(x)&&lt(x),Array.isArray(j)&&(nt(j),j.length>0&&Ye===null&&ls(j[0].id))}catch(t){console.error("Content load error:",t)}};m.useEffect(()=>{Xt()},[]),m.useEffect(()=>{if(!s.length)return;const t=s.findIndex(j=>j.id==="about");if(t===-1||(s[t].sections||[]).some(j=>Re(j.id)))return;const l=[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}],c=[...s],d={...c[t]},x=[...d.sections||[]];l.forEach((j,f)=>{const T=`${f+1}`;x.push({id:`${xe}${T}`,type:"text",label:`Statistika Etiketi ${f+1}`,value:j.label},{id:`${he}${T}`,type:"text",label:`Statistika Dəyəri ${f+1}`,value:j.value})}),d.sections=x,c[t]=d,i(c)},[s]),m.useEffect(()=>{Vt.current||(Vt.current=!0,Jt())},[]),m.useEffect(()=>{const t=new URLSearchParams(wt.search),a=t.get("mode"),r=t.get("page");if(a&&["extract","events","news","drivers","videos","photos"].includes(a))ie(a);else if(r){ie("extract");const l=Is(r),c=s.findIndex(d=>l.includes(d.id));c!==-1&&p(c)}},[wt.search,s]);const Jt=async()=>{S(!0),C("Front-end komponentləri skan edilir..."),v(30);const t=Date.now(),a=k.loading("Sinxronizasiya başladı...");try{const r=await fetch("/api/extract-content",{method:"POST"});if(!r.ok){const j=await r.text();throw new Error(j||"Extraction failed")}v(60),C("Bulud bazası ilə sinxronizasiya edilir...");const l=await r.json(),c=l.pages||l,d=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok){const j=await d.text();throw new Error(j||"Save failed")}v(90),i(c);const x=Date.now()-t;x<800&&await new Promise(j=>setTimeout(j,800-x)),v(100),C("Tamamlandı!"),setTimeout(()=>{S(!1),localStorage.setItem("forsaj_extracted","true"),localStorage.setItem(Ts,Date.now().toString()),k.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:a})},500)}catch(r){console.error("Extraction error:",r),S(!1),k.error(`Sinxronizasiya xətası: ${r.message}`,{id:a})}},ee=(t,a,r,l)=>{const c=[...s],d=c[t].sections.findIndex(x=>x.id===a);if(d!==-1){const x=c[t].sections[d];if(!$e(x,r))return;let j=l;const T=!!ze(x)||Re(x.id)||x.id.startsWith("val-")||x.id.startsWith("txt-");(r==="value"||r==="label")&&T&&(j=gt(l)),c[t].sections[d][r]=j,i(c)}},es=(t,a)=>{const r=s[t];if(!r)return;const l=r.sections.find(d=>d.id===a);if(!l||!l.url)return;const c=_t(l.url);c&&c!==l.url&&ee(t,a,"url",c)},ts=(t,a,r)=>{const l=[...s],c=l[t].images.findIndex(d=>d.id===a);c!==-1&&(l[t].images[c].alt=r,i(l))},Ks=()=>{if(!oe.trim()){k.error("Başlıq daxil edin!");return}const a={id:oe.toLowerCase().replace(/\s+/g,"-"),title:oe,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};i([...s,a]),p(s.length),u(!1),de(""),k.success("Yeni bölmə əlavə edildi!")},We=(t,a,r)=>{if(n<0||n>=s.length)return;const l=[...s],c=l[n];if(c){if(t==="text"){const d=r||`text-${c.sections.length}-${Date.now()}`,x=c.sections.reduce((j,f,T)=>Math.max(j,X(f.order,T)),-1)+1;c.sections.push({id:d,type:"text",label:a||"Bölmə",value:"Yeni mətn sahəsi...",order:x}),k.success(`${a||"Yeni mətn"} sahəsi əlavə edildi`)}else{const d=r||`img-${c.images.length}-${Date.now()}`,x=c.images.reduce((j,f,T)=>Math.max(j,X(f.order,T)),-1)+1;c.images.push({id:d,path:"",alt:"",type:"local",order:x}),k.success("Yeni şəkil sahəsi əlavə edildi")}i(l)}},ss=(t,a)=>{if(n<0||n>=s.length)return;const r=[...s],l=r[n];l&&(t==="text"?(l.sections=l.sections.filter(c=>c.id!==a),l.sections=l.sections.map((c,d)=>({...c,order:d}))):(l.images=l.images.filter(c=>c.id!==a),l.images=l.images.map((c,d)=>({...c,order:d}))),i(r),k.success("Sahə silindi"))},ot=(t,a,r)=>{if(n<0||n>=s.length)return;const l=[...s],c=l[n];if(!c)return;const d=t==="text"?c.sections:c.images,x=d.findIndex(T=>T.id===a);if(x===-1)return;const j=r==="up"?x-1:x+1;if(j<0||j>=d.length)return;const f=d[x];d[x]=d[j],d[j]=f,t==="text"?c.sections=(c.sections||[]).map((T,_)=>({...T,order:_})):c.images=(c.images||[]).map((T,_)=>({...T,order:_})),i(l)},Tt=(t=n)=>{if(t<0||t>=s.length)return;const a=[...s],r=a[t];if(!r||r.id!=="about")return;const l=`${Date.now()}`;r.sections.push({id:`${xe}${l}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${he}${l}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),i(a),k.success("Yeni statistika əlavə edildi")},dt=(t,a,r,l=n)=>{if(l<0||l>=s.length)return;const c=[...s],d=c[l];if(!d||d.id!=="about")return;const x=a==="label"?`${xe}${t}`:`${he}${t}`,j=d.sections.findIndex(T=>T.id===x),f=gt(r);j!==-1?d.sections[j].value=f:d.sections.push({id:x,type:"text",label:a==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:f}),i(c)},as=(t,a=n)=>{if(a<0||a>=s.length)return;const r=[...s],l=r[a];!l||l.id!=="about"||(l.sections=l.sections.filter(c=>c.id!==`${xe}${t}`&&c.id!==`${he}${t}`),i(r),k.success("Statistika silindi"))},He=t=>{if(!t)return[];const a=new Map;return(t.sections||[]).forEach(r=>{const l=r.id.match(Mt);if(!l)return;const c=Number(l[1]),d=Gi(l[2]);if(!d)return;const x=a.get(c)||{index:c,name:"",tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${c}`};x[d]=r.value||"",a.set(c,x)}),Array.from(a.values()).sort((r,l)=>r.index-l.index)},ct=t=>{if(n<0||n>=s.length)return;const a=[...s],r=a[n];if(!r||r.id!=="partners")return;const l=(r.sections||[]).filter(f=>!Mt.test(f.id)),c=[];t.forEach(f=>{c.push({id:`PARTNER_${f.index}_NAME`,type:"text",label:`Tərəfdaş ${f.index} Ad`,value:f.name},{id:`PARTNER_${f.index}_TAG`,type:"text",label:`Tərəfdaş ${f.index} Etiket`,value:f.tag},{id:`PARTNER_${f.index}_ICON`,type:"text",label:`Tərəfdaş ${f.index} İkon`,value:f.icon},{id:`PARTNER_${f.index}_USE_IMAGE`,type:"text",label:`Tərəfdaş ${f.index} Görsel İstifadə`,value:f.useImage},{id:`PARTNER_${f.index}_IMAGE_ID`,type:"text",label:`Tərəfdaş ${f.index} Görsel ID`,value:f.imageId||`partner-image-${f.index}`})});const d=r.images||[],x=new Set(t.map(f=>f.imageId||`partner-image-${f.index}`)),j=[...d];x.forEach(f=>{j.some(T=>T.id===f)||j.push({id:f,path:"",alt:f,type:"local",order:j.length})}),r.sections=[...l,...c],r.images=j.map((f,T)=>({...f,order:T})),i(a)},Ke=(t,a,r)=>{const l=He(s[n]).map(c=>c.index===t?{...c,[a]:r}:c);ct(l)},Zs=()=>{const t=He(s[n]),a=(t[t.length-1]?.index||0)+1;t.push({index:a,name:`PARTNER ${a}`,tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${a}`}),ct(t)},Vs=t=>{const a=He(s[n]).filter(r=>r.index!==t);ct(a)},is=(t,a)=>{const r=He(s[n]),l=r.findIndex(j=>j.index===t);if(l===-1)return;const c=a==="up"?l-1:l+1;if(c<0||c>=r.length)return;const d=r[l];r[l]=r[c],r[c]=d;const x=r.map((j,f)=>({...j,index:f+1,imageId:j.imageId||`partner-image-${f+1}`}));ct(x)},rs=(t,a)=>{Z({pageIdx:t,imgId:a}),w(!0)},ns=async(t,a)=>{const r=new FormData;r.append("image",t);const l=k.loading(a?.loadingText||"Şəkil yüklənir...");try{const c=await fetch("/api/upload-image",{method:"POST",body:r});if(c.ok){const d=await c.json();return k.success(a?.successText||"Şəkil uğurla yükləndi",{id:l}),d.url}else throw new Error("Upload fail")}catch(c){return console.error("Upload error:",c),k.error(a?.errorText||"Görsəl yüklənərkən xəta baş verdi",{id:l}),null}},Ce=async t=>ns(t),Qs=async(t,a,r)=>{const l=t.target.files?.[0];if(!l)return;const c=await Ce(l);if(c){const d=[...s],x=d[a].images.findIndex(j=>j.id===r);x!==-1&&(d[a].images[x].path=c,d[a].images[x].type="local",i(d))}},Xs=t=>{if(!J)return;const a=[...s];if(I){const r=`img-${a[J.pageIdx].images.length}-${Date.now()}`;a[J.pageIdx].images.push({id:r,path:t,alt:"Daxil edildi",type:"local"}),O(!1)}else{const r=a[J.pageIdx].images.findIndex(l=>l.id===J.imgId);r!==-1&&(a[J.pageIdx].images[r].path=t,a[J.pageIdx].images[r].type="local")}i(a),w(!1),k.success("Şəkil seçildi")},Et=async()=>{y(!0);const t=k.loading("Yadda saxlanılır...");try{if(G==="extract"){const a=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(await a.text());localStorage.setItem(Ts,Date.now().toString())}else if(G==="events"){const a=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)});if(!a.ok)throw new Error(await a.text())}else if(G==="news"){const a=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Se)});if(!a.ok)throw new Error(await a.text())}else if(G==="drivers"){const a=await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!a.ok)throw new Error(await a.text())}else if(G==="videos"){const a=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ne)});if(!a.ok)throw new Error(await a.text())}else if(G==="photos"){const a=await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(At)});if(!a.ok)throw new Error(await a.text())}k.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:t}),await Xt()}catch(a){console.error("Save error:",a),k.error(`Yadda saxlama xətası: ${a.message} `,{id:t})}finally{y(!1)}},Js=t=>{const a=je.find(r=>r.id===t);a&&(tt(t),st({...a}))},ne=(t,a,r)=>{const l=r||Oe;st(c=>{const x=!r||r===Oe?{...c,[t]:a}:c;return l&&et(j=>j.map(f=>f.id===l?{...f,[t]:a}:f)),x})},ea=()=>{const t=je.length>0?Math.max(...je.map(r=>r.id))+1:1,a={id:t,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",status:"planned"};et([...je,a]),tt(t),st(a),k.success("Yeni tədbir yaradıldı")},ta=async(t,a)=>{a.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(et(je.filter(r=>r.id!==t)),Oe===t&&tt(null),k.success("Tədbir silindi"))},sa=t=>{const a=Se.find(r=>r.id===t);a&&(it(t),rt({...a}))},Ae=(t,a,r)=>{const l=r||Le;rt(c=>{const x=!r||r===Le?{...c,[t]:a}:c;return l&&at(j=>j.map(f=>f.id===l?{...f,[t]:a}:f)),x})},aa=()=>{const t=Se.length>0?Math.max(...Se.map(r=>r.id))+1:1,a={id:t,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};at([...Se,a]),it(t),rt(a),k.success("Yeni xəbər yaradıldı")},ls=t=>{Nt(t);const a=Ne.find(r=>r.id===t);a&&kt({...a})},pt=(t,a,r)=>{const l=Ye;kt(c=>{let x={...c,[t]:a};if(t==="youtubeUrl"){const j=os(a);j&&(x={...x,videoId:j,thumbnail:`https://img.youtube.com/vi/${j}/maxresdefault.jpg`})}return l&&nt(j=>j.map(f=>{if(f.id===l){let T={...f,[t]:a};if(t==="youtubeUrl"){const _=os(a);_&&(T.videoId=_,T.thumbnail=`https://img.youtube.com/vi/${_}/maxresdefault.jpg`)}return T}return f})),x})},os=t=>{const a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,r=t.match(a);return r&&r[2].length===11?r[2]:null},ds=t=>{Qt(t);const a=At.find(r=>r.id===t);a&&It({...a})},ia=()=>{const t=Date.now(),a={id:t,title:"Yeni Şəkil",url:""};lt(r=>[...r,a]),ds(t)},ra=async(t,a)=>{a.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(lt(r=>r.filter(l=>l.id!==t)),qe===t&&(Qt(null),It({})),k.success("Şəkil silindi"))},Rt=(t,a)=>{It(r=>{const l={...r,[t]:a};return qe&&lt(c=>c.map(d=>d.id===qe?l:d)),l})},na=async t=>{const a=t.target.files?.[0];if(!a)return;const r=await Ce(a);r&&Rt("url",r)},la=()=>{const t=Ne.length>0?Math.max(...Ne.map(r=>r.id))+1:1,a={id:t,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};nt([...Ne,a]),Nt(t),kt(a),k.success("Yeni video əlavə edildi")},oa=async(t,a)=>{a.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(nt(Ne.filter(r=>r.id!==t)),Ye===t&&Nt(null),k.success("Video silindi"))},da=async(t,a)=>{a.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(at(Se.filter(r=>r.id!==t)),Le===t&&it(null),k.success("Xəbər silindi"))},ca=t=>{Ue(t),Ge(null),_e({})},pa=t=>{Ge(t);const r=re.find(l=>l.id===V)?.drivers.find(l=>l.id===t);r&&_e({...r})},Ie=(t,a)=>{!V||!De||_e(r=>{const l={...r,[t]:a};return we(c=>c.map(d=>d.id===V?{...d,drivers:d.drivers.map(x=>x.id===De?l:x)}:d)),l})},ua=()=>{if(!V){k.error("Öncə kateqoriya seçin və ya yaradın");return}const t=Date.now(),a={id:t,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};we(r=>r.map(l=>l.id===V?{...l,drivers:[...l.drivers,a]}:l)),Ge(t),_e(a),k.success("Yeni sürücü siyahıya əlavə edildi")},xa=t=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&(we(a=>a.map(r=>r.id===V?{...r,drivers:r.drivers.filter(l=>l.id!==t)}:r)),De===t&&(Ge(null),_e({})),k.success("Sürücü silindi"))},ha=async()=>{const t=te,a=re.map(l=>l.id===V?{...l,drivers:l.drivers.map(c=>c.id===De?{...c,...t}:c)}:l);y(!0);const r=k.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Yadda saxlama uğursuz oldu");we(a),k.success("Bütün sürücü məlumatları qeyd edildi",{id:r})}catch{k.error("Xəta baş verdi",{id:r})}finally{y(!1)}},ma=()=>{const t=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!t)return;const a=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(re.find(l=>l.id===a)){k.error("Bu adda kateqoriya artıq mövcuddur");return}const r={id:a,name:t,drivers:[]};we([...re,r]),Ue(a),k.success("Kateqoriya əlavə edildi")},fa=()=>{if(!V)return;const t=re.find(a=>a.id===V);if(t&&window.confirm(`"${t.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const a=re.filter(r=>r.id!==V);we(a),a.length>0?Ue(a[0].id):Ue(null),Ge(null),_e({}),k.success("Kateqoriya silindi")}};if(s.length===0&&!h&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(le,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:Jt,children:"Sinxronizasiyanı Başlat"})]})});if(h)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${b}%`}})}),e.jsx("div",{className:"step-label",children:N})]})});const B=s[n],cs=Is(fe).map(t=>{const a=s.findIndex(r=>r.id===t);return a===-1?null:{page:s[a],pageIdx:a}}).filter(Boolean),ga=!!fe&&(!!Fe[fe]||!!Ws[fe]),va=G==="extract"&&ga&&cs.length>0,ps=(B?.sections||[]).filter(t=>As(t)||B?.id==="about"&&Re(t.id)||B?.id==="partners"&&(Mt.test(t.id)||t.id==="SECTION_TITLE")?!1:!W||t.label.toLowerCase().includes(W.toLowerCase())||t.value.toLowerCase().includes(W.toLowerCase())).sort((t,a)=>X(t.order,0)-X(a.order,0)),us=B?.id==="about"?(()=>{const t=new Map;(B.sections||[]).forEach(l=>{if(!Re(l.id))return;const c=Cs(l.id)||l.id,d=t.get(c)||{label:"",value:""};l.id.startsWith(xe)&&(d.label=l.value||""),l.id.startsWith(he)&&(d.value=l.value||""),t.set(c,d)});const a=Array.from(t.entries()).sort(([l],[c])=>l.localeCompare(c,void 0,{numeric:!0})).map(([l,c])=>({suffix:l,...c}));if(!W)return a;const r=W.toLowerCase();return a.filter(l=>l.label.toLowerCase().includes(r)||l.value.toLowerCase().includes(r))})():[],xs=B?.id==="partners"?He(B):[],ut=(B?.images||[]).filter(t=>!W||t.alt.toLowerCase().includes(W.toLowerCase())||t.path.toLowerCase().includes(W.toLowerCase())).sort((t,a)=>X(t.order,0)-X(a.order,0)),ya=t=>{const a=(t.value||"").toLowerCase();return a.includes("<p")||a.includes("<br")||a.includes("[b]")||a.includes("[i]")||a.includes("[u]")||a.includes("[url")||a.includes("[img")||a.includes("[center]")},hs=t=>t.id.startsWith("val-icon-")||/ikon|icon/i.test(t.label||""),Te=W.trim().toLowerCase(),Me=(...t)=>Te?t.some(a=>(a||"").toString().toLowerCase().includes(Te)):!0,ms=Se.filter(t=>Me(t.title,t.date,t.category,t.status,t.description)),fs=je.filter(t=>Me(t.title,t.date,t.location,t.category,t.status,t.description)),gs=Ne.filter(t=>Me(t.title,t.duration,t.youtubeUrl,t.videoId,t.created_at)),vs=At.filter(t=>Me(t.title,t.url));return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(le,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(Wt,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:W,onChange:t=>Hs(t.target.value),className:"header-search-input"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:`save-btn ${g?"saving":""}`,onClick:Et,disabled:g,children:g?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(Ht,{size:16})," Saxla"]})})})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${G==="extract"?"active":""}`,onClick:()=>ie("extract"),children:"Ana Səhifə"}),e.jsx("button",{className:`mode-btn ${G==="events"?"active":""}`,onClick:()=>ie("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${G==="news"?"active":""}`,onClick:()=>ie("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${G==="drivers"?"active":""}`,onClick:()=>ie("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${G==="videos"?"active":""}`,onClick:()=>ie("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${G==="photos"?"active":""}`,onClick:()=>ie("photos"),children:"Fotolar"})]})]}),G==="news"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:aa,children:e.jsx(H,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:ms.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:Te?"Axtarışa uyğun xəbər tapılmadı.":'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):ms.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Le===t.id?"active":""}`,onClick:()=>sa(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Qe,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>da(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:Le!==null&&U.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Qe,{size:22})," Xəbəri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[U.title," // ID: ",U.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:U.title,onChange:t=>Ae("title",t.target.value,U.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:U.date,onChange:t=>Ae("date",t.target.value,U.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:U.category,onChange:t=>Ae("category",t.target.value,U.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:U.status,onChange:t=>Ae("status",t.target.value,U.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:U.img?e.jsx("img",{src:U.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:U.img,onChange:t=>Ae("img",t.target.value,U.id)}),e.jsx("input",{type:"file",id:"news-full-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await Ce(a);r&&Ae("img",r,U.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(ft,{id:"news-full-desc",value:mt(U.description||""),onChange:t=>Ae("description",t,U.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Qe,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):G==="events"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:ea,children:e.jsx(H,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:fs.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:Te?"Axtarışa uyğun tədbir tapılmadı.":'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):fs.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Oe===t.id?"active":""}`,onClick:()=>Js(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(vt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>ta(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:Oe!==null&&D.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(vt,{size:22})," Tədbiri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[D.title," // ID: ",D.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:D.title,onChange:t=>ne("title",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:D.date,onChange:t=>ne("date",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:D.location,onChange:t=>ne("location",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:D.category,onChange:t=>ne("category",t.target.value,D.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:D.status,onChange:t=>ne("status",t.target.value,D.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:D.img?e.jsx("img",{src:D.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:D.img,onChange:t=>ne("img",t.target.value,D.id)}),e.jsx("input",{type:"file",id:"event-full-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await Ce(a);r&&ne("img",r,D.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(ft,{id:"event-full-desc",value:mt(D.description||""),onChange:t=>ne("description",t,D.id)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PDF URL"}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:D.pdfUrl||"",onChange:t=>ne("pdfUrl",t.target.value,D.id),placeholder:"https://.../rules.pdf"}),e.jsx("input",{type:"file",id:"event-full-pdf",accept:".pdf,application/pdf",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(!a)return;if(a.type!=="application/pdf"&&!a.name.toLowerCase().endsWith(".pdf")){k.error("Yalnız PDF faylı yüklənə bilər");return}const r=await ns(a,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"});r&&ne("pdfUrl",r,D.id),t.target.value=""}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-full-pdf")?.click(),className:"btn-secondary",children:"PDF Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(ft,{id:"event-full-rules",value:mt(D.rules||""),onChange:t=>ne("rules",t,D.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(vt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):G==="drivers"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:ma,title:"Kateqoriya əlavə et",children:e.jsx(H,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:fa,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(se,{size:16})})]})]}),e.jsx("select",{value:V||"",onChange:t=>ca(t.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:re.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:ua,children:e.jsx(H,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:V&&(re.find(t=>t.id===V)?.drivers||[]).filter(t=>Me(t.name,t.license,t.team,t.rank,t.points,t.wins)).length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:Te?"Axtarışa uyğun sürücü tapılmadı.":"Bu kateqoriyada sürücü yoxdur."}):(re.find(t=>t.id===V)?.drivers||[]).filter(t=>Me(t.name,t.license,t.team,t.rank,t.points,t.wins)).map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${De===t.id?"active":""}`,onClick:()=>pa(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",t.rank]})," ",t.name]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),xa(t.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:De!==null&&te.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:te.name}),e.jsxs("p",{style:{color:"#64748b"},children:[re.find(t=>t.id===V)?.name," // RANK #",te.rank]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:te.name,onChange:t=>Ie("name",t.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:te.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:te.license,onChange:t=>Ie("license",t.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:te.team,onChange:t=>Ie("team",t.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:te.wins,onChange:t=>Ie("wins",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:te.points,onChange:t=>Ie("points",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{className:"input-row",children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:te.img?e.jsx("img",{src:te.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ce,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{className:"input-row",style:{flex:1},children:[e.jsx("input",{type:"text",value:te.img||"",onChange:t=>Ie("img",t.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await Ce(a);r&&Ie("img",r)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:ha,disabled:g,children:g?"Gözləyin...":"Sürücünü Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ve,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):G==="videos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:la,children:e.jsx(H,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:gs.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:Te?"Axtarışa uyğun video tapılmadı.":"Heç bir video əlavə edilməyib."}):gs.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Ye===t.id?"active":""}`,onClick:()=>ls(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),oa(t.id,a)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:Ye!==null&&ae.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[ae.title," // ID: ",ae.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:ae.title,onChange:t=>pt("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(le,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:ae.youtubeUrl,onChange:t=>pt("youtubeUrl",t.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{className:"edit-grid grid-2-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:ae.duration,onChange:t=>pt("duration",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:ae.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:ae.created_at||"",onChange:t=>pt("created_at",t.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[ae.thumbnail?e.jsx("img",{src:ae.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx($t,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),ae.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(ae.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(Ba,{size:24,fill:"currentColor"})})})]})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx($t,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):G==="photos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Foto Arxiv"}),e.jsx("button",{className:"add-section-btn",onClick:ia,title:"Yeni şəkil əlavə et",children:e.jsx(H,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:vs.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:Te?"Axtarışa uyğun şəkil tapılmadı.":"Şəkil yoxdur"}):vs.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${qe===t.id?"active":""}`,onClick:()=>ds(t.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:t.url?e.jsx("img",{src:t.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(ce,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>ra(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(se,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:qe!==null&&ke.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[ke.title," // ID: ",ke.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:ke.title,onChange:t=>Rt("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[ke.url?e.jsx("img",{src:ke.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(ce,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:na}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(H,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:ke.url||"",onChange:t=>Rt("url",t.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(ce,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsx("div",{className:"editor-layout",children:e.jsx("main",{className:"editor-canvas",style:{width:"100%"},children:va?e.jsxs("div",{className:"edit-fields",style:{width:"100%"},children:[fe==="home"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"Ana Səhifə Blokları"})}),fe==="abouttab"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"HAQQIMIZDA"})}),cs.map(({page:t,pageIdx:a})=>{const r=(t.sections||[]).filter(d=>!(As(d)||t.id==="about"&&Re(d.id))).sort((d,x)=>X(d.order,0)-X(x.order,0)),l=(t.images||[]).sort((d,x)=>X(d.order,0)-X(x.order,0)),c=t.id==="about"?(()=>{const d=new Map;return(t.sections||[]).forEach(x=>{if(!Re(x.id))return;const j=Cs(x.id)||x.id,f=d.get(j)||{label:"",value:""};x.id.startsWith(xe)&&(f.label=x.value||""),x.id.startsWith(he)&&(f.value=x.value||""),d.set(j,f)}),Array.from(d.entries()).sort(([x],[j])=>x.localeCompare(j,void 0,{numeric:!0})).map(([x,j])=>({suffix:x,...j}))})():[];return e.jsxs("div",{className:"field-group",children:[e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.05rem",fontWeight:800,color:"var(--text-main)"},children:Bt[t.id]||t.title})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[t.id==="about"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Statistikalar"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Tt(a),children:[e.jsx(H,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:c.map(d=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:d.label,onChange:x=>dt(d.suffix,"label",x.target.value,a),placeholder:"Statistika adı",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:d.value,onChange:x=>dt(d.suffix,"value",x.target.value,a),placeholder:"Dəyər",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{type:"button",onClick:()=>as(d.suffix,a),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(se,{size:14})})]},d.suffix))})]}),r.map(d=>{const x=ze(d),j=$e(d,"value"),f=$e(d,"url"),T=!!d.url?.trim(),_=hs(d);return e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:700,marginBottom:"6px"},children:x?ws(x):d.label}),_?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 1fr",gap:"8px"},children:[e.jsx("select",{value:d.value||"",disabled:!j,onChange:P=>ee(a,d.id,"value",P.target.value),style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"},children:ks.map(P=>e.jsx("option",{value:P,children:P},P))}),e.jsx("input",{type:"text",value:d.value||"",disabled:!j,onChange:P=>ee(a,d.id,"value",P.target.value),style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"}})]}):e.jsx("textarea",{rows:3,value:d.value,disabled:!j,onChange:P=>ee(a,d.id,"value",P.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:1.4,resize:"vertical"}}),T&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(le,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:d.url||"",disabled:!f,onChange:P=>ee(a,d.id,"url",P.target.value),onBlur:()=>es(a,d.id),placeholder:"https://example.com/path",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),!T&&f&&e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>ee(a,d.id,"url",`${window.location.origin}/`),style:{marginTop:"0.75rem"},children:[e.jsx(H,{size:14})," Link əlavə et"]})]},`${t.id}-${d.id}`)})]}),e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:700},children:"Şəkillər"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>{const d=[...s],x=d[a];x&&(x.images.push({id:`img-${x.images.length}-${Date.now()}`,path:"",alt:"",type:"local",order:x.images.length}),i(d))},children:[e.jsx(H,{size:14})," Yeni Şəkil"]})]}),e.jsxs("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:[l.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Bu bölmədə şəkil yoxdur."}),l.map(d=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",padding:"0.75rem",background:"#fff"},children:[e.jsx("div",{style:{height:"120px",background:"#f8fafc",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:d.path?e.jsx("img",{src:d.path,alt:d.alt||d.id,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:"Önizləmə yoxdur"})}),e.jsx("input",{type:"text",value:d.path,placeholder:"Tam şəkil linki",onChange:x=>{const j=[...s],f=j[a];if(!f)return;const T=f.images.findIndex(_=>_.id===d.id);T!==-1&&(f.images[T].path=x.target.value,i(j))},style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",marginBottom:"8px"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:`group-file-up-${t.id}-${d.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async x=>{const j=x.target.files?.[0];if(!j)return;const f=await Ce(j);if(!f)return;const T=[...s],_=T[a];if(!_)return;const P=_.images.findIndex(Be=>Be.id===d.id);P!==-1&&(_.images[P].path=f,_.images[P].type="local",i(T))}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`group-file-up-${t.id}-${d.id}`)?.click(),style:{fontSize:"11px",padding:"6px 10px"},children:"Fayldan yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>rs(a,d.id),style:{fontSize:"11px",padding:"6px 10px"},children:"Kitabxanadan seç"})]}),e.jsx("input",{type:"text",value:d.alt,placeholder:"Alt mətni",onChange:x=>ts(a,d.id,x.target.value),style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px"}})]},`${t.id}-${d.id}`))]})]})]},t.id)})]}):B?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:Bt[B.id]||B.title}),e.jsxs("div",{className:"canvas-actions",children:[B.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Tt(),style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(Ve,{size:14})," Statistika Əlavə Et"]}),B.id==="values"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>{We("text","İkon Kodu (Shield/Users/Leaf/Zap)",`val-icon-${Date.now()}`),We("text","Dəyər Başlığı",`val-title-${Date.now()}`),We("text","Dəyər Təsviri",`val-desc-${Date.now()}`)},style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(H,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const t=[...s];t[n].active=B?.active===!1,i(t),k.success(t[n].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:B?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:B?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[B.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ve,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Tt(),children:[e.jsx(H,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:us.length>0?us.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:t.label,onChange:a=>dt(t.suffix,"label",a.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.value,onChange:a=>dt(t.suffix,"value",a.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>as(t.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(se,{size:14})})]},t.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:W?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),B.id==="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ve,{size:16})," Tərəfdaş Kartları"]}),e.jsxs("button",{className:"add-field-minimal",onClick:Zs,children:[e.jsx(H,{size:14})," Tərəfdaş Əlavə Et"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"6px",fontWeight:700},children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:B.sections.find(t=>t.id==="SECTION_TITLE")?.value||"",onChange:t=>ee(n,"SECTION_TITLE","value",t.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:xs.map((t,a)=>{const r=a>0,l=a<xs.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 200px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:c=>Ke(t.index,"name",c.target.value),placeholder:"Tərəfdaş adı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.tag,onChange:c=>Ke(t.index,"tag",c.target.value),placeholder:"Etiket",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.icon,onChange:c=>Ke(t.index,"icon",c.target.value),placeholder:"ShieldCheck / Truck / Globe / Zap",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>is(t.index,"up"),disabled:!r,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:r?"#334155":"#cbd5e1"},children:e.jsx(Ot,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>is(t.index,"down"),disabled:!l,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:l?"#334155":"#cbd5e1"},children:e.jsx(Lt,{size:14})}),e.jsx("button",{title:"Sil",onClick:()=>Vs(t.index),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(se,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"170px 1fr",gap:"8px",alignItems:"center"},children:[e.jsxs("select",{value:t.useImage,onChange:c=>Ke(t.index,"useImage",c.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"false",children:"İkon istifadə et"}),e.jsx("option",{value:"true",children:"Görsel istifadə et"})]}),e.jsx("input",{type:"text",value:t.imageId,onChange:c=>Ke(t.index,"imageId",c.target.value),placeholder:"Görsel ID (Məs: partner-image-1)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]})]},t.index)})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ls,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>We("text"),children:[e.jsx(H,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:ps.length===0&&W?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):ps.map((t,a)=>{const r=ze(t),l=$e(t,"label"),c=$e(t,"value"),d=$e(t,"url"),x=!!(t.url||"").trim(),j=Ui(t),f=B?.sections||[],T=f.findIndex(F=>F.id===t.id),_=T>0,P=T>=0&&T<f.length-1,Be=hs(t);return e.jsxs("div",{className:"field-item-wrapper",style:{background:"#fcfcfd",padding:"1.25rem",borderRadius:"14px",border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",value:Us(t.label)?ws(t.label):t.label,onChange:F=>ee(n,t.id,"label",F.target.value),disabled:!l,style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),r&&e.jsx("span",{style:{fontSize:"10px",color:"#475569",background:"#f1f5f9",borderRadius:"999px",padding:"3px 8px",fontWeight:700},children:"Açar mətn"}),e.jsxs("span",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginLeft:"auto"},children:["Sıra: ",a+1]})]}),Be?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 1fr",gap:"8px"},children:[e.jsx("select",{value:t.value||"",onChange:F=>ee(n,t.id,"value",F.target.value),disabled:!c,style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"},children:ks.map(F=>e.jsx("option",{value:F,children:F},F))}),e.jsx("input",{type:"text",value:t.value||"",onChange:F=>ee(n,t.id,"value",F.target.value),disabled:!c,style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"}})]}):r||!ya(t)?e.jsx("textarea",{value:t.value||"",onChange:F=>ee(n,t.id,"value",F.target.value),disabled:!c,rows:4,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(ft,{id:`editor-${t.id}`,value:mt(t.value||""),onChange:F=>ee(n,t.id,"value",F),readOnly:!c}),x&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(le,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:_t(t.url||""),onChange:F=>ee(n,t.id,"url",F.target.value),onBlur:()=>es(n,t.id),disabled:!d,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginTop:"0.9rem"},children:[!x&&d&&e.jsxs("button",{title:"Link əlavə et",onClick:()=>ee(n,t.id,"url",`${window.location.origin}/`),style:{background:"#fff",border:"1px solid #dbeafe",color:"#2563eb",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(le,{size:12})," Link əlavə et"]}),e.jsxs("button",{title:"Yuxarı daşı",onClick:()=>ot("text",t.id,"up"),disabled:!_,style:{background:"#fff",border:"1px solid #e2e8f0",color:_?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:_?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Ot,{size:12})," Yuxarı"]}),e.jsxs("button",{title:"Aşağı daşı",onClick:()=>ot("text",t.id,"down"),disabled:!P,style:{background:"#fff",border:"1px solid #e2e8f0",color:P?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:P?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Lt,{size:12})," Aşağı"]}),j&&e.jsxs("button",{className:"field-delete-btn",onClick:()=>ss("text",t.id),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(se,{size:12})," Sil"]})]})]},t.id)})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ce,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>We("image"),children:[e.jsx(H,{size:14})," Yeni Şəkil Yeri"]})]}),ut.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:800,color:"#64748b",marginBottom:"8px"},children:"Komponent Daxili Önizləmə (Sıra ilə)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:ut.map((t,a)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",background:"#fff"},children:[e.jsx("div",{style:{height:"84px",background:"#f8fafc"},children:t.path?e.jsx("img",{src:t.path,alt:t.alt||`Preview ${a+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"11px"},children:"Şəkil yoxdur"})}),e.jsxs("div",{style:{padding:"6px 8px",fontSize:"10px",color:"#475569",fontWeight:700},children:["#",a+1," • ",t.id]})]},`preview-${t.id}`))})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:ut.length>0?ut.map((t,a)=>{const r=B?.images||[],l=r.findIndex(x=>x.id===t.id),c=l>0,d=l>=0&&l<r.length-1;return e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>ss("image",t.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(se,{size:12})}),e.jsxs("div",{style:{position:"absolute",right:"40px",top:"8px",zIndex:10,display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı daşı",onClick:()=>ot("image",t.id,"up"),disabled:!c,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:c?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:c?"pointer":"not-allowed"},children:e.jsx(Ot,{size:12})}),e.jsx("button",{title:"Aşağı daşı",onClick:()=>ot("image",t.id,"down"),disabled:!d,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:d?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:d?"pointer":"not-allowed"},children:e.jsx(Lt,{size:12})})]}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:t.path&&(t.path.startsWith("http")||t.path.startsWith("/"))?e.jsx("img",{src:t.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(ce,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginBottom:"6px"},children:["Sıra: ",a+1]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:t.path,onChange:x=>{if(n<0||n>=s.length)return;const j=[...s],f=j[n];if(!f)return;const T=f.images.findIndex(_=>_.id===t.id);T!==-1&&(f.images[T].path=x.target.value,i(j))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>rs(n,t.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(le,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${t.id}`,style:{display:"none"},accept:"image/*",onChange:x=>Qs(x,n,t.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${t.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(H,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:t.alt,onChange:x=>ts(n,t.id,x.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},t.id)}):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:W?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(ce,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(H,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=async a=>{const r=a.target.files?.[0];if(!r)return;const l=await Ce(r);if(l&&n>=0&&n<s.length){const c=[...s],d=c[n];if(d){const x=`img-${d.images.length}-${Date.now()}`;d.images.push({id:x,path:l,alt:"",type:"local"}),i(c),k.success("Yeni şəkil əlavə edildi")}}},t.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=`img-${(B.images||[]).length}`;Z({pageIdx:n,imgId:t}),O(!0),w(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx(Pt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})})}),o&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>u(!1),children:e.jsx(Ft,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:oe,onChange:t=>de(t.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>u(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:Ks,children:"Əlavə et"})]})]})}),E&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>w(!1),children:e.jsx(Ft,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:Y.length>0?Y.map((t,a)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>Xs(t),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:t.split("/").pop()})]},a)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Bağla"})})]})})]})},Hi=({currentUser:s})=>{const[i,n]=m.useState([]),[p,g]=m.useState(!0),[y,h]=m.useState(!1),[S,b]=m.useState(null),v=async()=>{try{const u=localStorage.getItem("forsaj_admin_token"),E=await fetch("/api/users",{headers:{Authorization:`Bearer ${u}`}});if(!E.ok)throw new Error("Yükləmə uğursuz oldu");const w=await E.json();n(w||[])}catch{k.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{g(!1)}};m.useEffect(()=>{v()},[]);const N=async u=>{if(u.preventDefault(),!S?.username||!S?.name||!S?.id&&!S?.password){k.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const E=localStorage.getItem("forsaj_admin_token"),w=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify(S)});if(w.ok)k.success(S.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),h(!1),b(null),v();else{const I=await w.json();k.error(I.error||"Xəta baş verdi")}}catch{k.error("Serverlə bağlantı kəsildi")}},C=async u=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const E=localStorage.getItem("forsaj_admin_token"),w=await fetch(`/api/users/${u}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}});if(w.ok)k.success("İstifadəçi silindi"),v();else{const I=await w.json();k.error(I.error||"Silmək mümkün olmadı")}}catch{k.error("Serverlə bağlantı kəsildi")}},o=(u=null)=>{b(u?{...u}:{username:"",name:"",password:"",role:"secondary"}),h(!0)};return p?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),s.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>o(),children:[e.jsx(Pa,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:i.map(u=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${u.name}&background=${u.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:u.name}),e.jsxs("div",{className:`role-badge ${u.role||"secondary"}`,children:[e.jsx(js,{size:10})," ",u.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:u.name}),e.jsxs("span",{children:["@",u.username||"username"]})]}),s.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>o(u),title:"Düzəliş et",children:e.jsx($a,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>C(u.id.toString()),title:"Sil",children:e.jsx(se,{size:16})})]})]},u.id))}),y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:S?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>h(!1),children:e.jsx(Ft,{size:20})})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Xe,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:S?.name||"",onChange:u=>b({...S,name:u.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Xe,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:S?.username||"",onChange:u=>b({...S,username:u.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Yt,{size:14})," Şifrə ",S?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:S?.password||"",onChange:u=>b({...S,password:u.target.value}),placeholder:"••••••••",required:!S?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(js,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:S?.role||"secondary",onChange:u=>b({...S,role:u.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),S?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx(Fa,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>h(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(Ht,{size:18})," Yadda Saxla"]})]})]})]})})]})},Ki=()=>{const[s,i]=m.useState(!1),n=async()=>{i(!0);const g=k.loading("Front qovluğu skan edilir...");try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error("Skan xətası");k.success("Skan tamamlandı! Panel yenilənir...",{id:g}),setTimeout(()=>window.location.reload(),1500)}catch{k.error("Skan uğursuz oldu!",{id:g})}finally{i(!1)}},p=[{id:1,title:"Sitemap Faylını Yaradın",description:"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.",path:"public/sitemap.json",icon:Ya},{id:2,title:"Front Layihəsini Sinxronlaşdırın",description:"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.",path:"/front/src/pages",icon:qa},{id:3,title:"Sistem Ayarlarını Tənzimləyin",description:"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.",path:"Sistem Ayarları",icon:Es}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:"Forsaj Club İdarəetmə"})]}),e.jsx("h1",{children:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq"}),e.jsx("p",{children:"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin."})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:p.map(g=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(g.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:g.title}),e.jsx("p",{children:g.description}),e.jsx("span",{className:"step-badge",children:g.path})]})]},g.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(Ua,{size:32}),e.jsx("h4",{children:"Yeni Səhifə Əlavə Et"}),e.jsx("p",{children:"Dinamik olaraq yeni admin səhifəsi yaradın."})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(Wt,{size:32}),e.jsx("h4",{children:"Front Skaner"}),e.jsx("p",{children:"/front qosulub. Skanlamağa hazırdır."}),e.jsx("button",{className:`scan-btn ${s?"loading":""}`,onClick:n,disabled:s,children:s?e.jsx(_s,{className:"animate-spin"}):"İndi Skan Et"})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Məlumat:"})," /front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək."]})})]})},Zi=({onLogin:s})=>{const[i,n]=m.useState(!0),[p,g]=m.useState(""),[y,h]=m.useState(""),[S,b]=m.useState(""),[v,N]=m.useState(!1);m.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&n(!1)}catch(u){console.error("Setup check failed",u)}})()},[]);const C=async o=>{o.preventDefault();const u=p.trim(),E=S.trim();if(!u||!y.trim()){k.error("İstifadəçi adı və şifrə mütləqdir");return}if(!i&&!E){k.error("Tam ad mütləqdir");return}if(!i&&y.length<6){k.error("Şifrə ən azı 6 simvol olmalıdır");return}N(!0);try{const O=await fetch(i?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i?{username:u,password:y}:{username:u,password:y,name:E})}),Y=await O.json();if(!O.ok)throw new Error(Y.error||(i?"Giriş uğursuz oldu":"Quraşdırma uğursuz oldu"));i?(localStorage.setItem("forsaj_admin_token",Y.token),localStorage.setItem("forsaj_admin_user",JSON.stringify(Y.user)),s(Y.user),k.success("Xoş gəldiniz!")):(k.success("Baza uğurla başladıldı! İndi daxil ola bilərsiniz."),n(!0))}catch(w){k.error(w.message||"Əməliyyat uğursuz oldu")}finally{N(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:i?e.jsx(Ga,{size:40,className:"logo-icon"}):e.jsx(Yt,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:i?"Forsaj İdarəetmə Paneli":"Sistem Quraşdırılması"}),e.jsx("p",{children:i?"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin":"İlkin Baş Admin hesabını yaradaraq sistemi başladın"})]}),e.jsxs("form",{className:"login-form",onSubmit:C,children:[!i&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Xe,{size:16})," Tam Adınız"]}),e.jsx("input",{type:"text",value:S,onChange:o=>b(o.target.value),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Xe,{size:16})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:p,onChange:o=>g(o.target.value),placeholder:"Məs: admin",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Yt,{size:16})," Şifrə"]}),e.jsx("input",{type:"password",value:y,onChange:o=>h(o.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:v,children:v?e.jsxs("div",{className:"loader-container",children:[e.jsx(_s,{className:"animate-spin",size:20}),e.jsx("span",{children:"Gözləyin..."})]}):i?"Daxil ol":"Sistemi başlat"})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin."})})]})})},Vi=()=>{const[s,i]=m.useState([]),[n,p]=m.useState(null),[g,y]=m.useState(!0),[h,S]=m.useState("all"),b=async()=>{const u=localStorage.getItem("forsaj_admin_token");try{const E=await fetch("/api/applications",{headers:{Authorization:`Bearer ${u}`}});if(E.ok){const w=await E.json();i(w)}}catch{k.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{y(!1)}};m.useEffect(()=>{b()},[]);const v=async u=>{const E=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${u}/read`,{method:"POST",headers:{Authorization:`Bearer ${E}`}})).ok&&(i(I=>I.map(O=>O.id===u?{...O,status:"read"}:O)),n?.id===u&&p(I=>I?{...I,status:"read"}:null))}catch(w){console.error(w)}},N=async u=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const E=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${u}`,{method:"DELETE",headers:{Authorization:`Bearer ${E}`}})).ok&&(i(I=>I.filter(O=>O.id!==u)),n?.id===u&&p(null),k.success("Müraciət silindi"))}catch{k.error("Silinmə zamanı xəta baş verdi")}},C=s.filter(u=>h==="unread"?u.status==="unread":h==="read"?u.status==="read":!0),o=u=>{try{const E=JSON.parse(u);return e.jsx("div",{className:"app-details-grid",children:Object.entries(E).map(([w,I])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[w.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String(I)})]},w))})}catch{return e.jsx("div",{className:"detail-text",children:u})}};return g?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:h==="all"?"active":"",onClick:()=>S("all"),children:"Hamısı"}),e.jsx("button",{className:h==="unread"?"active":"",onClick:()=>S("unread"),children:"Oxunmamış"}),e.jsx("button",{className:h==="read"?"active":"",onClick:()=>S("read"),children:"Oxunmuş"})]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:C.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):C.map(u=>e.jsxs("div",{className:`application-item ${u.status} ${n?.id===u.id?"selected":""}`,onClick:()=>{p(u),u.status==="unread"&&v(u.id)},children:[e.jsx("div",{className:"app-item-icon",children:u.status==="unread"?e.jsx(Os,{className:"icon-unread"}):e.jsx(Wa,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:u.name}),e.jsx("span",{className:"app-item-date",children:new Date(u.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:u.type})]}),e.jsx(Ha,{size:16,className:"chevron"})]},u.id))}),e.jsx("div",{className:"application-details",children:n?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${n.status}`,children:n.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>N(n.id),children:e.jsx(se,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Xe,{size:16})," Göndərən"]}),e.jsx("p",{children:n.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(zs,{size:16})," Əlaqə"]}),e.jsx("p",{children:n.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Qe,{size:16})," Kateqoriya"]}),e.jsx("p",{children:n.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:o(n.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(Rs,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},Qi=()=>{const[s,i]=m.useState([]),[n,p]=m.useState(!1),[g,y]=m.useState(!0),h=Gt(),S=async()=>{try{const u=await(await fetch("/api/site-content")).json();i(u),y(!1)}catch{k.error("Ayarlar yüklənərkən xəta baş verdi")}};m.useEffect(()=>{S()},[]),m.useEffect(()=>{if(g)return;const u=new URLSearchParams(h.search).get("tab"),w=u?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"social-links",stats:"stats"}[u]:"";w&&setTimeout(()=>{const I=document.querySelector(`[data-settings-section="${w}"]`);I&&I.scrollIntoView({behavior:"smooth",block:"start"})},50)},[h.search,g]);const b=(o,u,E=!1)=>{const w=[...s];let I=w.findIndex(O=>O.id==="general");if(I===-1&&(w.push({id:"general",title:"SİSTEM AYARLARI",sections:[],images:[]}),I=w.length-1),E){const O=w[I].images.findIndex(Y=>Y.id===o);O===-1?w[I].images.push({id:o,path:u,alt:o,type:"local"}):w[I].images[O].path=u}else{const O=w[I].sections.findIndex(Y=>Y.id===o);O===-1?w[I].sections.push({id:o,type:"text",label:o,value:u}):w[I].sections[O].value=u}i(w)},v=(o,u=!1)=>{const E=s.find(w=>w.id==="general");return E?u?E.images.find(w=>w.id===o)?.path||"":E.sections.find(w=>w.id===o)?.value||"":""},N=async(o,u)=>{const E=o.target.files?.[0];if(!E)return;const w=new FormData;w.append("image",E);const I=k.loading("Şəkil yüklənir...");try{const O=await fetch("/api/upload-image",{method:"POST",body:w});if(O.ok){const Y=await O.json();b(u,Y.url,!0),k.success("Şəkil yükləndi",{id:I})}}catch{k.error("Yükləmə xətası",{id:I})}},C=async()=>{p(!0);const o=k.loading("Yadda saxlanılır...");try{await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),k.success("Ayarlar qeyd edildi!",{id:o})}catch{k.error("Xəta baş verdi",{id:o})}finally{p(!1)}};return g?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:C,disabled:n,children:[e.jsx(Ht,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(le,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:v("SEO_TITLE"),onChange:o=>b("SEO_TITLE",o.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:v("SEO_DESCRIPTION"),onChange:o=>b("SEO_DESCRIPTION",o.target.value),placeholder:"Sayt haqqında qısa məlumat..."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:v("SEO_KEYWORDS"),onChange:o=>b("SEO_KEYWORDS",o.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:v("SEO_CANONICAL_URL"),onChange:o=>b("SEO_CANONICAL_URL",o.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:v("SEO_ROBOTS"),onChange:o=>b("SEO_ROBOTS",o.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:v("SEO_AUTHOR"),onChange:o=>b("SEO_AUTHOR",o.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:v("SEO_LANGUAGE"),onChange:o=>b("SEO_LANGUAGE",o.target.value),placeholder:"az"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(le,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:v("SEO_OG_TITLE"),onChange:o=>b("SEO_OG_TITLE",o.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:v("SEO_OG_DESCRIPTION"),onChange:o=>b("SEO_OG_DESCRIPTION",o.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:v("SEO_OG_URL"),onChange:o=>b("SEO_OG_URL",o.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:v("SEO_TWITTER_CARD"),onChange:o=>b("SEO_TWITTER_CARD",o.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:v("SEO_TWITTER_SITE"),onChange:o=>b("SEO_TWITTER_SITE",o.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:v("SEO_TWITTER_CREATOR"),onChange:o=>b("SEO_TWITTER_CREATOR",o.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:v("SEO_OG_IMAGE",!0)?e.jsx("img",{src:v("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:o=>N(o,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:v("SEO_OG_IMAGE",!0),onChange:o=>b("SEO_OG_IMAGE",o.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ss,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:v("SEO_GOOGLE_VERIFICATION"),onChange:o=>b("SEO_GOOGLE_VERIFICATION",o.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:v("SEO_BING_VERIFICATION"),onChange:o=>b("SEO_BING_VERIFICATION",o.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:v("SEO_YANDEX_VERIFICATION"),onChange:o=>b("SEO_YANDEX_VERIFICATION",o.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ce,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:v("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:v("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:o=>N(o,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:v("SITE_LOGO_DARK",!0)?e.jsx("img",{src:v("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:o=>N(o,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ce,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:v("CONTACT_ADDRESS_1"),onChange:o=>b("CONTACT_ADDRESS_1",o.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:v("CONTACT_ADDRESS_2"),onChange:o=>b("CONTACT_ADDRESS_2",o.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:v("CONTACT_HOURS"),onChange:o=>b("CONTACT_HOURS",o.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:v("CONTACT_PHONE"),onChange:o=>b("CONTACT_PHONE",o.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:v("CONTACT_EMAIL"),onChange:o=>b("CONTACT_EMAIL",o.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ka,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:v("DEPT_HQ_EMAIL"),onChange:o=>b("DEPT_HQ_EMAIL",o.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:v("DEPT_PR_EMAIL"),onChange:o=>b("DEPT_PR_EMAIL",o.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:v("DEPT_TECH_EMAIL"),onChange:o=>b("DEPT_TECH_EMAIL",o.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(le,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsx("input",{type:"text",value:v("SOCIAL_INSTAGRAM"),onChange:o=>b("SOCIAL_INSTAGRAM",o.target.value),placeholder:"https://instagram.com/forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsx("input",{type:"text",value:v("SOCIAL_YOUTUBE"),onChange:o=>b("SOCIAL_YOUTUBE",o.target.value),placeholder:"https://youtube.com/@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsx("input",{type:"text",value:v("SOCIAL_FACEBOOK"),onChange:o=>b("SOCIAL_FACEBOOK",o.target.value),placeholder:"https://facebook.com/forsajclub"})]})]})]}),e.jsxs("div",{className:"settings-card shadow-sm","data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ss,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:v("STATS_PILOTS"),onChange:o=>b("STATS_PILOTS",o.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:v("STATS_RACES"),onChange:o=>b("STATS_RACES",o.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:v("STATS_YOUTH"),onChange:o=>b("STATS_YOUTH",o.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},Ee=s=>s.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Xi={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Sayt Məzmunu",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Sistem Ayarları"},Ji={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},er=s=>{const i=Xi[s.title]||s.title;return{...s,title:i,children:s.children?.map(n=>({...n,title:Ji[n.title]||n.title}))}},tr=()=>{const[s,i]=m.useState(null),[n,p]=m.useState([]),[g,y]=m.useState(0),[h,S]=m.useState(!0);if(m.useEffect(()=>{const v=localStorage.getItem("forsaj_admin_user"),N=localStorage.getItem("forsaj_admin_token");if(v&&N)try{i(JSON.parse(v))}catch{localStorage.removeItem("forsaj_admin_user"),localStorage.removeItem("forsaj_admin_token"),i(null)}else i(null);S(!1)},[]),m.useEffect(()=>{const v=async()=>{const C=localStorage.getItem("forsaj_admin_token");if(C)try{let o=g;const u=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${C}`}});if(u.ok){const{count:w}=await u.json();o=Number(w)||0,y(o)}const E=await fetch(`/api/sitemap?v=${Date.now()}`);if(E.ok){const w=await E.json();let I=Array.isArray(w)?w:[];I=I.map(Z=>er(Z));const O=I.find(Z=>Z.path==="/applications");O?o>0?O.badge={text:o.toString(),color:"bg-red-500"}:delete O.badge:I=[...I,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:o>0?{text:o.toString(),color:"bg-red-500"}:void 0}];const Y=[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Parametrlər",path:"/general-settings?tab=general",icon:"Sliders"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"},{title:"Tətbiq Ayarları",path:"/general-settings?tab=stats",icon:"Activity"}],K=I.findIndex(Z=>Ee(Z?.title||"")==="sistem ayarlari");if(K===-1)I=[...I,{title:"Sistem Ayarları",icon:"Settings",children:Y}];else{const Z=I[K],oe=new Map;(Z.children||[]).forEach(de=>{const W=`${Ee(de.title)}|${Ee(de.path||"")}`;oe.set(W,de)}),Y.forEach(de=>{const W=`${Ee(de.title)}|${Ee(de.path||"")}`;oe.set(W,de)}),I[K]={...Z,children:Array.from(oe.values()),icon:Z.icon||"Settings"}}const J=new Map;for(const Z of I){const oe=`${Ee(Z.path||"")}|${Ee(Z.title||"")}`;J.set(oe,Z)}p(Array.from(J.values()))}}catch(o){console.error("Fetch data failed",o)}finally{S(!1)}};v();const N=setInterval(v,3e4);return()=>clearInterval(N)},[s]),h)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:"Yüklənir..."});const b=!n||n.length===0;return e.jsx(Sa,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(Pi,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),s?e.jsxs(e.Fragment,{children:[e.jsx(Va,{menuItems:n,user:s,onLogout:()=>{localStorage.removeItem("forsaj_admin_user"),localStorage.removeItem("forsaj_admin_token"),i(null)}}),e.jsxs("main",{className:"main-content",children:[e.jsx(Qa,{user:s}),e.jsx("div",{className:"content-body",children:e.jsx(Na,{children:b?e.jsx(Pe,{path:"*",element:e.jsx(Ki,{})}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{path:"/",element:e.jsx(Wi,{})}),e.jsx(Pe,{path:"/applications",element:e.jsx(Vi,{})}),e.jsx(Pe,{path:"/general-settings",element:e.jsx(Qi,{})}),e.jsx(Pe,{path:"/users-management",element:e.jsx(Hi,{currentUser:s})}),e.jsx(Pe,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:"Səhifə tapılmadı"})})})]})})})]})]}):e.jsx(Zi,{onLogin:i})]})})};ka.createRoot(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(tr,{})}));
