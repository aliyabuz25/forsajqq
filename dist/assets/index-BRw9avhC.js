import{u as ms,j as e,N as gi,r as g,B as bi,a as vi,b as at,d as yi}from"./vendor-react-B0Xi4u7S.js";import{H as ji,L as Si,P as Pt,A as ha,E as fa,G as xe,S as ga,I as ba,M as Ai,U as Ei,a as va,B as Ni,V as os,b as Ee,c as Ti,T as ft,C as ya,d as Bt,e as Ri,F as gt,f as Li,g as Ci,h as ki,i as ja,j as Ii,k as Sa,l as _i,m as hs,n as Oi,o as fs,p as J,q as ne,r as Di,s as mt,t as ht,X as ds,u as Mi,v as la,w as wi,x as vt,y as cs,z as zi,D as Bi,J as Ui,K as Pi,N as Aa,O as Fi,Q as Yi,R as Ki,W as Dt,Y as ra,Z as $i,_ as qi}from"./vendor-ui-CCda32OA.js";import{i as Hi}from"./vendor-editor-BvsJV83P.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))h(b);new MutationObserver(b=>{for(const v of b)if(v.type==="childList")for(const f of v.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&h(f)}).observe(document,{childList:!0,subtree:!0});function o(b){const v={};return b.integrity&&(v.integrity=b.integrity),b.referrerPolicy&&(v.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?v.credentials="include":b.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function h(b){if(b.ep)return;b.ep=!0;const v=o(b);fetch(b.href,v)}})();const Gi=({menuItems:a,user:l,onLogout:o})=>{const h=l?.role||"secondary",b=ms(),v=j=>j&&(j==="/frontend-settings"||j==="/admin/frontend-settings"||j==="/general-settings"||j==="/admin/general-settings"?"/general-settings?tab=general":j),f={Layout:Pt,Home:_i,Menu:Sa,Maximize:Ii,Type:ja,Star:ki,Anchor:Ci,Info:Li,FileText:gt,List:Ri,Calendar:Bt,Clock:ya,Trophy:ft,Award:Ti,Image:Ee,Video:os,BookOpen:Ni,Phone:va,Users:Ei,Monitor:Ai,Inbox:ba,Settings:ga,Globe:xe,Eye:fa,Activity:ha},S=({name:j,className:m})=>{const D=f[j];return D?e.jsx(D,{className:m,size:18}):e.jsx(Pt,{className:m,size:18})},k=j=>{const m=v(j);return m?m.includes("?")?b.pathname+b.search===m:b.pathname===m:!1},I=(j,m,D)=>e.jsx("li",{className:"sidebar-item",children:e.jsxs(gi,{to:v(D||j.path)||"#",className:()=>`sidebar-link ${k(v(D||j.path))?"active":""}`,children:[(j.icon||m)&&e.jsx(S,{name:j.icon||m||"",className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:j.title}),j.badge&&e.jsx("span",{className:`badge ${j.badge.color} sidebar-badge`,children:j.badge.text})]})},j.title),B=j=>{const m=["/frontend-settings","/general-settings","/users-management"];return j.map(M=>{const _=M.children?B(M.children):void 0,V=v(M.path);return h==="secondary"&&m.some(O=>V?.toLowerCase().startsWith(O))||!V&&(!_||_.length===0)?null:{...M,path:V,children:_}}).filter(Boolean)},w=j=>{const m=new Set,D=M=>(M||"").toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();return j.filter(M=>{const _=D(M.title||"");return!_||m.has(_)?!1:(m.add(_),!0)})};return e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"brand-logo",children:[e.jsx(ji,{className:"logo-icon",size:24,fill:"currentColor"}),e.jsxs("span",{className:"brand-name",children:["FORSAJ",e.jsx("span",{children:"PANEL"})]})]})}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:"ƏSAS NAVİQASİYA"}),e.jsxs("ul",{className:"sidebar-menu",children:[w(B(a)).map(j=>{const m=j.children?.find(D=>!!D.path)?.path;return I(j,j.icon,j.path||m)}),a.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:"Menyu boşdur"})})]})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:o,children:[e.jsx(Si,{size:18}),e.jsx("span",{children:"Çıxış"})]})})]})},Qi=({user:a})=>e.jsxs("header",{className:"header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("button",{className:"icon-btn toggle-sidebar",children:e.jsx(Sa,{size:20})}),e.jsxs("div",{className:"header-search",children:[e.jsx(hs,{size:18,className:"search-icon"}),e.jsx("input",{type:"text",placeholder:"Hər şeyi axtar..."})]})]}),e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(Oi,{size:16})," Sayta Bax"]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:a?.name||"Forsaj İdarəçisi"}),e.jsx("span",{className:"profile-status",children:a?.role==="master"?"Baş Admin":"Sayt Redaktoru"})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${a?.name||"Admin"}&background=random`,alt:"Profil"})]})]})]});let Vi={data:""},Wi=a=>{if(typeof window=="object"){let l=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return l.nonce=window.__nonce__,l.parentNode||(a||document.head).appendChild(l),l.firstChild}return a||Vi},Zi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xi=/\/\*[^]*?\*\/|  +/g,na=/\n+/g,Pe=(a,l)=>{let o="",h="",b="";for(let v in a){let f=a[v];v[0]=="@"?v[1]=="i"?o=v+" "+f+";":h+=v[1]=="f"?Pe(f,v):v+"{"+Pe(f,v[1]=="k"?"":l)+"}":typeof f=="object"?h+=Pe(f,l?l.replace(/([^,])+/g,S=>v.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,k=>/&/.test(k)?k.replace(/&/g,S):S?S+" "+k:k)):v):f!=null&&(v=/^--/.test(v)?v:v.replace(/[A-Z]/g,"-$&").toLowerCase(),b+=Pe.p?Pe.p(v,f):v+":"+f+";")}return o+(l&&b?l+"{"+b+"}":b)+h},_e={},Ea=a=>{if(typeof a=="object"){let l="";for(let o in a)l+=o+Ea(a[o]);return l}return a},Ji=(a,l,o,h,b)=>{let v=Ea(a),f=_e[v]||(_e[v]=(k=>{let I=0,B=11;for(;I<k.length;)B=101*B+k.charCodeAt(I++)>>>0;return"go"+B})(v));if(!_e[f]){let k=v!==a?a:(I=>{let B,w,j=[{}];for(;B=Zi.exec(I.replace(Xi,""));)B[4]?j.shift():B[3]?(w=B[3].replace(na," ").trim(),j.unshift(j[0][w]=j[0][w]||{})):j[0][B[1]]=B[2].replace(na," ").trim();return j[0]})(a);_e[f]=Pe(b?{["@keyframes "+f]:k}:k,o?"":"."+f)}let S=o&&_e.g?_e.g:null;return o&&(_e.g=_e[f]),((k,I,B,w)=>{w?I.data=I.data.replace(w,k):I.data.indexOf(k)===-1&&(I.data=B?k+I.data:I.data+k)})(_e[f],l,h,S),f},el=(a,l,o)=>a.reduce((h,b,v)=>{let f=l[v];if(f&&f.call){let S=f(o),k=S&&S.props&&S.props.className||/^go/.test(S)&&S;f=k?"."+k:S&&typeof S=="object"?S.props?"":Pe(S,""):S===!1?"":S}return h+b+(f??"")},"");function Kt(a){let l=this||{},o=a.call?a(l.p):a;return Ji(o.unshift?o.raw?el(o,[].slice.call(arguments,1),l.p):o.reduce((h,b)=>Object.assign(h,b&&b.call?b(l.p):b),{}):o,Wi(l.target),l.g,l.o,l.k)}let Na,us,ps;Kt.bind({g:1});let Me=Kt.bind({k:1});function tl(a,l,o,h){Pe.p=l,Na=a,us=o,ps=h}function Fe(a,l){let o=this||{};return function(){let h=arguments;function b(v,f){let S=Object.assign({},v),k=S.className||b.className;o.p=Object.assign({theme:us&&us()},S),o.o=/ *go\d+/.test(k),S.className=Kt.apply(o,h)+(k?" "+k:"");let I=a;return a[0]&&(I=S.as||a,delete S.as),ps&&I[0]&&ps(S),Na(I,S)}return b}}var sl=a=>typeof a=="function",Ft=(a,l)=>sl(a)?a(l):a,al=(()=>{let a=0;return()=>(++a).toString()})(),Ta=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let l=matchMedia("(prefers-reduced-motion: reduce)");a=!l||l.matches}return a}})(),il=20,gs="default",Ra=(a,l)=>{let{toastLimit:o}=a.settings;switch(l.type){case 0:return{...a,toasts:[l.toast,...a.toasts].slice(0,o)};case 1:return{...a,toasts:a.toasts.map(f=>f.id===l.toast.id?{...f,...l.toast}:f)};case 2:let{toast:h}=l;return Ra(a,{type:a.toasts.find(f=>f.id===h.id)?1:0,toast:h});case 3:let{toastId:b}=l;return{...a,toasts:a.toasts.map(f=>f.id===b||b===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return l.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(f=>f.id!==l.toastId)};case 5:return{...a,pausedAt:l.time};case 6:let v=l.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+v}))}}},Ut=[],La={toasts:[],pausedAt:void 0,settings:{toastLimit:il}},Ne={},Ca=(a,l=gs)=>{Ne[l]=Ra(Ne[l]||La,a),Ut.forEach(([o,h])=>{o===l&&h(Ne[l])})},ka=a=>Object.keys(Ne).forEach(l=>Ca(a,l)),ll=a=>Object.keys(Ne).find(l=>Ne[l].toasts.some(o=>o.id===a)),$t=(a=gs)=>l=>{Ca(l,a)},rl={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nl=(a={},l=gs)=>{let[o,h]=g.useState(Ne[l]||La),b=g.useRef(Ne[l]);g.useEffect(()=>(b.current!==Ne[l]&&h(Ne[l]),Ut.push([l,h]),()=>{let f=Ut.findIndex(([S])=>S===l);f>-1&&Ut.splice(f,1)}),[l]);let v=o.toasts.map(f=>{var S,k,I;return{...a,...a[f.type],...f,removeDelay:f.removeDelay||((S=a[f.type])==null?void 0:S.removeDelay)||a?.removeDelay,duration:f.duration||((k=a[f.type])==null?void 0:k.duration)||a?.duration||rl[f.type],style:{...a.style,...(I=a[f.type])==null?void 0:I.style,...f.style}}});return{...o,toasts:v}},ol=(a,l="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:l,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...o,id:o?.id||al()}),yt=a=>(l,o)=>{let h=ol(l,a,o);return $t(h.toasterId||ll(h.id))({type:2,toast:h}),h.id},se=(a,l)=>yt("blank")(a,l);se.error=yt("error");se.success=yt("success");se.loading=yt("loading");se.custom=yt("custom");se.dismiss=(a,l)=>{let o={type:3,toastId:a};l?$t(l)(o):ka(o)};se.dismissAll=a=>se.dismiss(void 0,a);se.remove=(a,l)=>{let o={type:4,toastId:a};l?$t(l)(o):ka(o)};se.removeAll=a=>se.remove(void 0,a);se.promise=(a,l,o)=>{let h=se.loading(l.loading,{...o,...o?.loading});return typeof a=="function"&&(a=a()),a.then(b=>{let v=l.success?Ft(l.success,b):void 0;return v?se.success(v,{id:h,...o,...o?.success}):se.dismiss(h),b}).catch(b=>{let v=l.error?Ft(l.error,b):void 0;v?se.error(v,{id:h,...o,...o?.error}):se.dismiss(h)}),a};var dl=1e3,cl=(a,l="default")=>{let{toasts:o,pausedAt:h}=nl(a,l),b=g.useRef(new Map).current,v=g.useCallback((w,j=dl)=>{if(b.has(w))return;let m=setTimeout(()=>{b.delete(w),f({type:4,toastId:w})},j);b.set(w,m)},[]);g.useEffect(()=>{if(h)return;let w=Date.now(),j=o.map(m=>{if(m.duration===1/0)return;let D=(m.duration||0)+m.pauseDuration-(w-m.createdAt);if(D<0){m.visible&&se.dismiss(m.id);return}return setTimeout(()=>se.dismiss(m.id,l),D)});return()=>{j.forEach(m=>m&&clearTimeout(m))}},[o,h,l]);let f=g.useCallback($t(l),[l]),S=g.useCallback(()=>{f({type:5,time:Date.now()})},[f]),k=g.useCallback((w,j)=>{f({type:1,toast:{id:w,height:j}})},[f]),I=g.useCallback(()=>{h&&f({type:6,time:Date.now()})},[h,f]),B=g.useCallback((w,j)=>{let{reverseOrder:m=!1,gutter:D=8,defaultPosition:M}=j||{},_=o.filter(O=>(O.position||M)===(w.position||M)&&O.height),V=_.findIndex(O=>O.id===w.id),ae=_.filter((O,C)=>C<V&&O.visible).length;return _.filter(O=>O.visible).slice(...m?[ae+1]:[0,ae]).reduce((O,C)=>O+(C.height||0)+D,0)},[o]);return g.useEffect(()=>{o.forEach(w=>{if(w.dismissed)v(w.id,w.removeDelay);else{let j=b.get(w.id);j&&(clearTimeout(j),b.delete(w.id))}})},[o,v]),{toasts:o,handlers:{updateHeight:k,startPause:S,endPause:I,calculateOffset:B}}},ul=Me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pl=Me`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xl=Me`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ml=Fe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ul} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pl} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xl} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hl=Me`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fl=Fe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${hl} 1s linear infinite;
`,gl=Me`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bl=Me`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vl=Fe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yl=Fe("div")`
  position: absolute;
`,jl=Fe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Sl=Me`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Al=Fe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Sl} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,El=({toast:a})=>{let{icon:l,type:o,iconTheme:h}=a;return l!==void 0?typeof l=="string"?g.createElement(Al,null,l):l:o==="blank"?null:g.createElement(jl,null,g.createElement(fl,{...h}),o!=="loading"&&g.createElement(yl,null,o==="error"?g.createElement(ml,{...h}):g.createElement(vl,{...h})))},Nl=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Tl=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,Rl="0%{opacity:0;} 100%{opacity:1;}",Ll="0%{opacity:1;} 100%{opacity:0;}",Cl=Fe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kl=Fe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Il=(a,l)=>{let o=a.includes("top")?1:-1,[h,b]=Ta()?[Rl,Ll]:[Nl(o),Tl(o)];return{animation:l?`${Me(h)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Me(b)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_l=g.memo(({toast:a,position:l,style:o,children:h})=>{let b=a.height?Il(a.position||l||"top-center",a.visible):{opacity:0},v=g.createElement(El,{toast:a}),f=g.createElement(kl,{...a.ariaProps},Ft(a.message,a));return g.createElement(Cl,{className:a.className,style:{...b,...o,...a.style}},typeof h=="function"?h({icon:v,message:f}):g.createElement(g.Fragment,null,v,f))});tl(g.createElement);var Ol=({id:a,className:l,style:o,onHeightUpdate:h,children:b})=>{let v=g.useCallback(f=>{if(f){let S=()=>{let k=f.getBoundingClientRect().height;h(a,k)};S(),new MutationObserver(S).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[a,h]);return g.createElement("div",{ref:v,className:l,style:o},b)},Dl=(a,l)=>{let o=a.includes("top"),h=o?{top:0}:{bottom:0},b=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ta()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(o?1:-1)}px)`,...h,...b}},Ml=Kt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Mt=16,wl=({reverseOrder:a,position:l="top-center",toastOptions:o,gutter:h,children:b,toasterId:v,containerStyle:f,containerClassName:S})=>{let{toasts:k,handlers:I}=cl(o,v);return g.createElement("div",{"data-rht-toaster":v||"",style:{position:"fixed",zIndex:9999,top:Mt,left:Mt,right:Mt,bottom:Mt,pointerEvents:"none",...f},className:S,onMouseEnter:I.startPause,onMouseLeave:I.endPause},k.map(B=>{let w=B.position||l,j=I.calculateOffset(B,{reverseOrder:a,gutter:h,defaultPosition:l}),m=Dl(w,j);return g.createElement(Ol,{id:B.id,key:B.id,onHeightUpdate:I.updateHeight,className:B.visible?Ml:"",style:m},B.type==="custom"?Ft(B.message,B):b?b(B):g.createElement(_l,{toast:B,position:w}))}))},E=se;const zl={toolbar:[[{header:[2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},oa=["Shield","Users","Leaf","Zap","Target","Globe","Star","Flag"],ss=["Info","Settings","ShieldAlert","Leaf","FileText"],Bl=[{title:"Səhifə və Sistem",subtitle:"Səhifə başlığı, status və sistem mesajları",ids:["PAGE_TITLE","PAGE_SUBTITLE","ONLINE_STATUS_LABEL","FORM_TOAST_REQUIRED","FORM_TOAST_SUCCESS","FORM_TOAST_ERROR"]},{title:"Baş Ofis",subtitle:"Ofis məlumatları və əsas əlaqə sahələri",ids:["OFFICE_LABEL","ADDRESS_LINE_1","ADDRESS_LINE_2","WORK_HOURS","PHONE_LABEL","PHONE_NUMBER","EMAIL_LABEL","EMAIL_Address"]},{title:"Departamentlər",subtitle:"Departament kartları və e-poçt məlumatları",ids:["DEPT_HQ_TITLE","DEPT_HQ_DESC","DEPT_HQ_EMAIL","DEPT_PR_TITLE","DEPT_PR_DESC","DEPT_PR_EMAIL","DEPT_TECH_TITLE","DEPT_TECH_DESC","DEPT_TECH_EMAIL"]},{title:"Form",subtitle:"Müraciət formu sahələri və seçimlər",ids:["FORM_TITLE","FORM_STATUS_LABEL","FORM_METHOD","FORM_CONTENT_TYPE","FIELD_NAME_LABEL","FIELD_NAME_PLACEHOLDER","FIELD_CONTACT_LABEL","FIELD_CONTACT_PLACEHOLDER","FIELD_TOPIC_LABEL","TOPIC_GENERAL","TOPIC_PILOT","TOPIC_TECH","FIELD_MESSAGE_LABEL","FIELD_MESSAGE_PLACEHOLDER","BTN_SEND"]}],wt=a=>{if(!a)return"";const l=a.replace(/\\+\[/g,"[").replace(/\\+\]/g,"]");if(!/\[(\/?)(B|I|U|S|CENTER|FONT|URL|IMG|COLOR|SIZE|QUOTE|CODE|LIST|\*)[\]=\s\w"':#.,+-]*\]/i.test(l))return l;let h=l;return h=h.replace(/\[CENTER\]([\s\S]*?)\[\/CENTER\]/gi,'<div style="text-align:center;">$1</div>'),h=h.replace(/\[FONT=([^\]]+)\]([\s\S]*?)\[\/FONT\]/gi,'<span style="font-family:$1;">$2</span>'),h=h.replace(/\[B\]([\s\S]*?)\[\/B\]/gi,"<strong>$1</strong>"),h=h.replace(/\[I\]([\s\S]*?)\[\/I\]/gi,"<em>$1</em>"),h=h.replace(/\[U\]([\s\S]*?)\[\/U\]/gi,'<span style="text-decoration:underline;">$1</span>'),h=h.replace(/\[S\]([\s\S]*?)\[\/S\]/gi,"<strike>$1</strike>"),h=h.replace(/\[URL=([^\]]+)\]([\s\S]*?)\[\/URL\]/gi,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>'),h=h.replace(/\[IMG\]([\s\S]*?)\[\/IMG\]/gi,'<img src="$1" style="max-width:100%;" />'),h=h.replace(/\[COLOR=([^\]]+)\]([\s\S]*?)\[\/COLOR\]/gi,'<span style="color:$1;">$2</span>'),h=h.replace(/\[SIZE=([^\]]+)\]([\s\S]*?)\[\/SIZE\]/gi,'<span style="font-size:$1px;">$2</span>'),h=h.replace(/\[QUOTE\]([\s\S]*?)\[\/QUOTE\]/gi,"<blockquote>$1</blockquote>"),h=h.replace(/\[CODE\]([\s\S]*?)\[\/CODE\]/gi,"<pre><code>$1</code></pre>"),h=h.replace(/\r?\n/g,"<br />"),h},zt=({value:a,onChange:l,id:o,readOnly:h=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:o,children:e.jsx(Hi,{theme:"snow",value:a||"",onChange:l,modules:h?{toolbar:!1}:zl,readOnly:h,placeholder:"Məzmunu daxil edin..."})}),We=a=>{if(/^[A-Z0-9_]+$/.test(a.id))return a.id.trim();const l=(a.label||"").trim();return l.startsWith("KEY:")?l.replace(/^KEY:\s*/i,"").trim():""},Ul=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,Yt=a=>Ul.test((a||"").trim()),da=a=>a.replace(/_/g," ").replace(/\s+/g," ").trim(),be=a=>{if(!a)return"";let l=a;for(let h=0;h<4;h++){const v=(new DOMParser().parseFromString(l,"text/html").body.textContent||"").trim();if(!v||v===l)break;l=v}return(new DOMParser().parseFromString(l,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},it=a=>{const l=(a||"").trim();if(!l)return"";if(/^(https?:)?\/\//i.test(l))return l;const o=l.startsWith("/")?l:`/${l}`;return`${window.location.origin}${o}`},Pl=a=>{const l=(a||"").trim();if(!l)return"";if(/^https?:\/\//i.test(l)){try{const o=new URL(l);if(o.pathname.startsWith("/uploads/"))return`${o.pathname}${o.search}${o.hash}`}catch{}return l}return l.startsWith("/")?l:`/${l}`},Ia=a=>/&(?:lt|gt|nbsp|quot|amp);|<\/?[a-z][^>]*>/i.test(a||""),Fl=a=>/<(ul|ol|li|a|img|iframe|video|table|h[1-6])\b|\[(b|i|u|url|img|center)\]/i.test(a||""),Yl=a=>!!(We(a)||Ve(a.id)||a.id.startsWith("txt-")||a.id.startsWith("val-")||a.id.startsWith("RULES_")||a.id.startsWith("PAGE_")||a.id.startsWith("BTN_")||a.id.startsWith("DOC_")||Ia(a.value||"")&&!Fl(a.value||"")),Oe="label-stat-",De="value-stat-",Ve=a=>a.startsWith(Oe)||a.startsWith(De),ca=a=>a.startsWith(Oe)?a.slice(Oe.length):a.startsWith(De)?a.slice(De.length):"",lt=(a,l)=>We(a)?l==="value":!0,Kl=a=>!We(a),ua=a=>{const l=We(a);return!!((a.id||"").includes("_")||l&&l.includes("_")||l&&l.includes("_")&&Yt(be(a.value||""))||!l&&Yt(a.value))},as=/^PARTNER_(\d+)_(NAME|TAG|ICON|USE_IMAGE|IMAGE_ID)$/,$l=/^RULE_TAB_(\d+)_(ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL)$/,ql=/^RULE_TAB_(\d+)_ITEM_(\d+)_(TITLE|DESC)$/,is=/^RULE_TAB_\d+_(?:ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL|ITEM_\d+_(?:TITLE|DESC))$/,Hl=a=>a==="NAME"?"name":a==="TAG"?"tag":a==="ICON"?"icon":a==="USE_IMAGE"?"useImage":a==="IMAGE_ID"?"imageId":null,ls={hero:"Hero Bölməsi",marquee:"Marquee Yazısı",navbar:"Menyu və Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər",drivers:"Sürücülər",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya",videos:"Videolar",videoarchive:"Video Arxiv",footer:"Footer",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},rt={home:["navbar","hero","marquee","categoryleaders","footer"],abouttab:["about"],newstab:["newspage"],eventstab:["eventspage"],driverstab:["drivers"],gallerytab:["gallerypage","gallery","videos","videoarchive"],rulestab:["rulespage"],contacttab:["contactpage"]},_a=Object.entries(rt).reduce((a,[l,o])=>(o.forEach(h=>{a[h]=l}),a),{}),pa=a=>{if(!a)return[];if(rt[a])return rt[a];const l=_a[a];return l&&rt[l]?rt[l]:[a]},rs="forsaj_site_content_version",ce=(a,l)=>Number.isFinite(a)?a:l,Gl=()=>{const[a,l]=g.useState([]),[o,h]=g.useState(0),[b,v]=g.useState(!1),[f,S]=g.useState(!1),[k,I]=g.useState(0),[B,w]=g.useState(""),[j,m]=g.useState(!1),[D,M]=g.useState(!1),[_,V]=g.useState(!1),[ae,O]=g.useState([]),[C,Ye]=g.useState(null),[Te,Re]=g.useState(""),[Y,Le]=g.useState(""),[le,Ze]=g.useState([]),[we,Xe]=g.useState(null),[Q,Ce]=g.useState({}),[ke,u]=g.useState([]),[L,P]=g.useState(null),[U,q]=g.useState({}),[Z,oe]=g.useState([]),[ve,qt]=g.useState(null),[me,Ht]=g.useState({}),Gt=ms(),bs=new URLSearchParams(Gt.search),Qt=bs.get("mode"),ze=bs.get("page"),[te,ye]=g.useState("extract"),[Vt,jt]=g.useState([]),vs=g.useRef(!1),[ot,ys]=g.useState(null),[Ke,Wt]=g.useState({});g.useEffect(()=>{ye(Qt||"extract")},[Qt,ze]);const[he,Be]=g.useState([]),[ee,dt]=g.useState(null),[Je,ct]=g.useState(null),[pe,et]=g.useState({}),js=async()=>{try{const s=await(await fetch("/api/site-content")).json();if(Array.isArray(s)){const p=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","news","drivers","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],y=[...s],N=A=>{const T=A.sections||[],R=A.images||[],z=($,G,X)=>{T.some(st=>st.id===$)||T.push({id:$,type:"text",label:G,value:X})},de=($,G,X)=>{R.some(st=>st.id===$)||R.push({id:$,path:G,alt:X,type:"remote",order:R.length})};if(z("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),z("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),z("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),z("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),z("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),z("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),z("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),z("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),z("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),z("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),z("val-icon-1","Dəyər 1 İkonu","Shield"),z("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),z("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),z("val-icon-2","Dəyər 2 İkonu","Users"),z("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),z("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),z("val-icon-3","Dəyər 3 İkonu","Leaf"),z("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),z("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),z("val-icon-4","Dəyər 4 İkonu","Zap"),z("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),z("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),T.some($=>$.id.includes("label-stat"))&&T.some($=>$.id.includes("value-stat"))){A.sections=T,de("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),A.images=R;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach(($,G)=>{const X=`${G+1}`;T.push({id:`label-stat-${X}`,type:"text",label:`Statistika Etiketi ${G+1}`,value:$.label}),T.push({id:`value-stat-${X}`,type:"text",label:`Statistika Dəyəri ${G+1}`,value:$.value})}),A.sections=T,de("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),A.images=R},K=A=>{const T=A.sections||[],R=A.images||[],z=(ie,$,G)=>{T.some(X=>X.id===ie)||T.push({id:ie,type:"text",label:$,value:G})},de=ie=>{R.some($=>$.id===ie)||R.push({id:ie,path:"",alt:ie,type:"local",order:R.length})};z("SECTION_TITLE","Bölmə Başlığı","RƏSMİ TƏRƏFDAŞLARIMIZ"),[{name:"AZMF",tag:"OFFICIAL PARTNER",icon:"ShieldCheck"},{name:"OFFROAD AZ",tag:"OFFICIAL PARTNER",icon:"Truck"},{name:"GLOBAL 4X4",tag:"OFFICIAL PARTNER",icon:"Globe"},{name:"RACE TECH",tag:"OFFICIAL PARTNER",icon:"Zap"}].forEach((ie,$)=>{const G=$+1;z(`PARTNER_${G}_NAME`,`Tərəfdaş ${G} Ad`,ie.name),z(`PARTNER_${G}_TAG`,`Tərəfdaş ${G} Etiket`,ie.tag),z(`PARTNER_${G}_ICON`,`Tərəfdaş ${G} İkon`,ie.icon),z(`PARTNER_${G}_USE_IMAGE`,`Tərəfdaş ${G} Görsel İstifadə`,"false"),z(`PARTNER_${G}_IMAGE_ID`,`Tərəfdaş ${G} Görsel ID`,`partner-image-${G}`),de(`partner-image-${G}`)}),A.sections=T,A.images=R},F=A=>{const T=A.sections||[],R=(z,de,Ie,ie)=>{const $=T.findIndex(G=>G.id===z);if($===-1){T.push({id:z,type:"text",label:de,value:Ie,...ie?{url:ie}:{}});return}ie&&!T[$].url&&(T[$].url=ie)};R("text-3","Hero Düymə 1","YARIŞLARA BAX","events"),R("text-4","Hero Düymə 2","HAQQIMIZDA","about"),A.sections=T},re=(A,T)=>{const R=A.sections||[];T.forEach(z=>{const de=R.findIndex(Ie=>Ie.id===z.id);if(de===-1){R.push({id:z.id,type:"text",label:z.label,value:z.value,...z.url?{url:z.url}:{}});return}z.url&&!R[de].url&&(R[de].url=z.url)}),A.sections=R},ge=A=>{re(A,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"ƏLAQƏ"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"GET IN TOUCH // CONTACT CENTER"},{id:"OFFICE_LABEL",label:"Ofis Bölmə Başlığı",value:"BAŞ OFİS"},{id:"ADDRESS_LINE_1",label:"Ünvan Sətir 1",value:"AZADLIQ 102, BAKI"},{id:"ADDRESS_LINE_2",label:"Ünvan Sətir 2",value:"AZƏRBAYCAN // SECTOR_01"},{id:"WORK_HOURS",label:"İş Saatı",value:"09:00 - 18:00"},{id:"ONLINE_STATUS_LABEL",label:"Onlayn Status Mətni",value:"ONLINE"},{id:"PHONE_LABEL",label:"Telefon Başlığı",value:"ƏLAQƏ NÖMRƏSİ"},{id:"PHONE_NUMBER",label:"Telefon Nömrəsi",value:"+994 50 123 45 67"},{id:"EMAIL_LABEL",label:"E-poçt Başlığı",value:"E-POÇT ÜNVANI"},{id:"EMAIL_Address",label:"Əsas E-poçt Ünvanı",value:"PROTOCOL@FORSAJ.AZ"},{id:"DEPT_HQ_TITLE",label:"Departament 1 Başlıq",value:"BAŞ OFİS"},{id:"DEPT_HQ_DESC",label:"Departament 1 Təsvir",value:"ÜMUMİ SORĞULAR VƏ İDARƏETMƏ"},{id:"DEPT_HQ_EMAIL",label:"Departament 1 E-poçt",value:"HQ@FORSAJ.AZ"},{id:"DEPT_PR_TITLE",label:"Departament 2 Başlıq",value:"MEDİA VƏ PR"},{id:"DEPT_PR_DESC",label:"Departament 2 Təsvir",value:"MƏTBUAT VƏ ƏMƏKDAŞLIQ"},{id:"DEPT_PR_EMAIL",label:"Departament 2 E-poçt",value:"PR@FORSAJ.AZ"},{id:"DEPT_TECH_TITLE",label:"Departament 3 Başlıq",value:"TEXNİKİ DƏSTƏK"},{id:"DEPT_TECH_DESC",label:"Departament 3 Təsvir",value:"PİLOTLAR ÜÇÜN TEXNİKİ YARDIM"},{id:"DEPT_TECH_EMAIL",label:"Departament 3 E-poçt",value:"TECH@FORSAJ.AZ"},{id:"FORM_TITLE",label:"Form Başlığı",value:"MÜRACİƏT FORMU"},{id:"FORM_STATUS_LABEL",label:"Form Status Mətni",value:"STATUS: ONLINE"},{id:"FORM_METHOD",label:"Form Method",value:"POST"},{id:"FORM_CONTENT_TYPE",label:"Form Content-Type",value:"application/json"},{id:"FIELD_NAME_LABEL",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"FIELD_NAME_PLACEHOLDER",label:"Ad Soyad Placeholder",value:"AD SOYAD DAXİL EDİN"},{id:"FIELD_CONTACT_LABEL",label:"Əlaqə Label",value:"ƏLAQƏ VASİTƏSİ"},{id:"FIELD_CONTACT_PLACEHOLDER",label:"Əlaqə Placeholder",value:"TELEFON VƏ YA EMAIL"},{id:"FIELD_TOPIC_LABEL",label:"Müraciət İstiqaməti Label",value:"MÜRACİƏT İSTİQAMƏTİ"},{id:"TOPIC_GENERAL",label:"Mövzu Seçimi 1",value:"ÜMUMİ SORĞU"},{id:"TOPIC_PILOT",label:"Mövzu Seçimi 2",value:"PİLOT QEYDİYYATI"},{id:"TOPIC_TECH",label:"Mövzu Seçimi 3",value:"TEXNİKİ YARDIM"},{id:"FIELD_MESSAGE_LABEL",label:"Mesaj Label",value:"MESAJINIZ"},{id:"FIELD_MESSAGE_PLACEHOLDER",label:"Mesaj Placeholder",value:"BURADA YAZIN..."},{id:"BTN_SEND",label:"Form Göndər Düyməsi",value:"MESAJI GÖNDƏR"},{id:"FORM_TOAST_REQUIRED",label:"Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"FORM_TOAST_SUCCESS",label:"Form Uğurlu Göndəriş Mesajı",value:"Müraciətiniz uğurla göndərildi!"},{id:"FORM_TOAST_ERROR",label:"Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"FOOTER_NEWSLETTER_TITLE",label:"Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."}])},W=A=>{re(A,[{id:"PILOT_FORM_TOAST_REQUIRED",label:"Pilot Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"PILOT_FORM_TOAST_SUCCESS",label:"Pilot Form Uğurlu Göndəriş Mesajı",value:"Qeydiyyat müraciətiniz uğurla göndərildi!"},{id:"PILOT_FORM_TOAST_ERROR",label:"Pilot Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"PLACEHOLDER_PHONE",label:"Telefon Placeholder",value:"+994 -- --- -- --"},{id:"SPECTATOR_TICKET_URL",label:"İzləyici Bilet Linki",value:"https://iticket.az",url:"https://iticket.az"},{id:"CLUB_OPTION_1",label:"Klub Seçimi 1",value:"Fərdi İştirakçı"},{id:"CLUB_OPTION_2",label:"Klub Seçimi 2",value:"Club 4X4"},{id:"CLUB_OPTION_3",label:"Klub Seçimi 3",value:"Extreme 4X4"},{id:"CLUB_OPTION_4",label:"Klub Seçimi 4",value:"Forsaj Club"},{id:"CLUB_OPTION_5",label:"Klub Seçimi 5",value:"Offroad.az"},{id:"CLUB_OPTION_6",label:"Klub Seçimi 6",value:"Overland 4X4"},{id:"CLUB_OPTION_7",label:"Klub Seçimi 7",value:"PatrolClub.az"},{id:"CLUB_OPTION_8",label:"Klub Seçimi 8",value:"Victory Club"},{id:"CLUB_OPTION_9",label:"Klub Seçimi 9",value:"Zəfər 4X4 Club"}])},It=A=>{re(A,[{id:"FOOTER_LOGO_ALT",label:"Footer Logo Alt",value:"Forsaj Logo"},{id:"FOOTER_ABOUT_TEXT",label:"Footer Haqqında Mətn",value:"Azərbaycanın ən prestijli motorsport mərkəzi. Sərhədsiz offroad həyəcanını bizimlə yaşayın."},{id:"FOOTER_ADDRESS_LABEL",label:"Footer Ünvan Başlığı",value:"ÜNVAN"},{id:"FOOTER_CONTACT_LABEL",label:"Footer Əlaqə Başlığı",value:"ƏLAQƏ"},{id:"FOOTER_NAV_TITLE",label:"Footer Naviqasiya Başlığı",value:"NAVİQASİYA"},{id:"FOOTER_MOTORSPORT_TITLE",label:"Footer Motorsport Başlığı",value:"MOTORSPORT"},{id:"FOOTER_NEWSLETTER_TITLE",label:"Footer Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Footer Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."},{id:"FOOTER_NEWSLETTER_PLACEHOLDER",label:"Footer Abunə Placeholder",value:"EMAIL DAXİL EDİN"},{id:"FOOTER_COPYRIGHT",label:"Footer Copyright",value:"© 2024 FORSAJ CLUB. ALL RIGHTS RESERVED."},{id:"FOOTER_PRIVACY_LABEL",label:"Footer Privacy Link Mətni",value:"Privacy Policy",url:"#"},{id:"FOOTER_TERMS_LABEL",label:"Footer Terms Link Mətni",value:"Terms of Service",url:"#"}])},Qe=A=>{re(A,[{id:"LEADER_TITLE_SUFFIX",label:"Lider Başlıq Suffix",value:"LİDERİ"},{id:"EMPTY_DRIVER_NAME",label:"Boş Sürücü Adı",value:"---"},{id:"EMPTY_DRIVER_TEAM",label:"Boş Komanda Adı",value:"---"}])},Qs=A=>{re(A,[{id:"RACE_IMAGE_ALT",label:"Növbəti Yarış Görsel Alt",value:"Next Race"}])},Vs=A=>{const T=A.sections||[],R=($,G)=>(T.find(X=>X.id===$)?.value||G).trim()||G,z=[{index:1,id:"pilot",title:R("RULES_PILOT_TITLE","PİLOT PROTOKOLU"),icon:"Info",items:[{index:1,title:R("RULES_PILOT_SUB1","İSTİFADƏÇİ ÖHDƏLİKLƏRİ"),desc:R("RULES_PILOT_DESC1","HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR.")},{index:2,title:R("RULES_PILOT_SUB2","DİSKVALİFİKASİYA"),desc:R("RULES_PILOT_DESC2","PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR.")},{index:3,title:R("RULES_PILOT_SUB3","TEXNİKİ TƏLƏBLƏR"),desc:R("RULES_PILOT_DESC3","BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR.")}]},{index:2,id:"technical",title:R("RULES_TECH_TITLE","TEXNİKİ NORMARTİVLƏR"),icon:"Settings",items:[{index:1,title:R("RULES_TECH_SUB1","TƏKƏR ÖLÇÜLƏRİ"),desc:R("RULES_TECH_DESC1","PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR.")},{index:2,title:R("RULES_TECH_SUB2","MÜHƏRRİK GÜCÜ"),desc:R("RULES_TECH_DESC2","MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR.")},{index:3,title:R("RULES_TECH_SUB3","ASQI SİSTEMİ"),desc:R("RULES_TECH_DESC3","AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR.")}]},{index:3,id:"safety",title:R("RULES_SAFETY_TITLE","TƏHLÜKƏSİZLİK QAYDALARI"),icon:"ShieldAlert",items:[{index:1,title:R("RULES_SAFETY_SUB1","KARKAS TƏLƏBİ"),desc:R("RULES_SAFETY_DESC1","BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR.")},{index:2,title:R("RULES_SAFETY_SUB2","YANĞIN SÖNDÜRMƏ"),desc:R("RULES_SAFETY_DESC2","HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR.")},{index:3,title:R("RULES_SAFETY_SUB3","KƏMƏR VƏ DƏBİLQƏ"),desc:R("RULES_SAFETY_DESC3","5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR.")}]},{index:4,id:"eco",title:R("RULES_ECO_TITLE","EKOLOJİ MƏSULİYYƏT"),icon:"Leaf",items:[{index:1,title:R("RULES_ECO_SUB1","TULLANTILARIN İDARƏ EDİLMƏSİ"),desc:R("RULES_ECO_DESC1",'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.')},{index:2,title:R("RULES_ECO_SUB2","MAYE SIZMALARI"),desc:R("RULES_ECO_DESC2","AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR.")},{index:3,title:R("RULES_ECO_SUB3","MARŞRUTDAN KƏNARA ÇIXMAMAQ"),desc:R("RULES_ECO_DESC3","TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR.")}]}],de=[];z.forEach(($,G)=>{const X=G+1;de.push({id:`RULE_TAB_${X}_ID`,type:"text",label:`Qayda Sekməsi ${X} ID`,value:$.id},{id:`RULE_TAB_${X}_TITLE`,type:"text",label:`Qayda Sekməsi ${X} Başlıq`,value:$.title},{id:`RULE_TAB_${X}_ICON`,type:"text",label:`Qayda Sekməsi ${X} İkon`,value:$.icon}),$.items.forEach((st,fi)=>{const Ot=fi+1;de.push({id:`RULE_TAB_${X}_ITEM_${Ot}_TITLE`,type:"text",label:`Sekmə ${X} Maddə ${Ot} Başlıq`,value:st.title},{id:`RULE_TAB_${X}_ITEM_${Ot}_DESC`,type:"text",label:`Sekmə ${X} Maddə ${Ot} Təsvir`,value:st.desc})})});const Ie=new Set(T.map($=>$.id)),ie=de.filter($=>!Ie.has($.id));A.sections=[...T,...ie]};p.forEach(A=>{const T=y.find(R=>R.id===A);T?A==="about"?N(T):A==="partners"?K(T):A==="hero"?F(T):A==="contactpage"?ge(T):A==="eventspage"?W(T):A==="footer"?It(T):A==="categoryleaders"?Qe(T):A==="nextrace"?Qs(T):A==="rulespage"&&Vs(T):y.push({id:A,title:ls[A]||A,sections:[{id:`${A}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const Ws=y.find(A=>A.id==="about");Ws&&N(Ws);const Zs=y.find(A=>A.id==="partners");Zs&&K(Zs);const Xs=y.find(A=>A.id==="hero");Xs&&F(Xs);const Js=y.find(A=>A.id==="contactpage");Js&&ge(Js);const ea=y.find(A=>A.id==="eventspage");ea&&W(ea);const ta=y.find(A=>A.id==="footer");ta&&It(ta);const sa=y.find(A=>A.id==="categoryleaders");sa&&Qe(sa);const aa=y.find(A=>A.id==="nextrace");aa&&Qs(aa);const ia=y.find(A=>A.id==="rulespage");ia&&Vs(ia);const _t=new Map(p.map((A,T)=>[A,T]));y.sort((A,T)=>{const R=_t.has(A.id)?_t.get(A.id):Number.MAX_SAFE_INTEGER,z=_t.has(T.id)?_t.get(T.id):Number.MAX_SAFE_INTEGER;return R!==z?R-z:(A.title||A.id).localeCompare(T.title||T.id)});const hi=y.map(A=>({...A,sections:(A.sections||[]).map((T,R)=>{if(T.type!=="text")return T;const de=Yl(T)?be(T.value||""):(T.value||"").replace(/\u00a0/g," "),Ie=Ia(T.label||"")?be(T.label||""):T.label;return{...T,label:Ie,value:de,...T.url?{url:it(T.url)}:{},order:ce(T.order,R)}}).sort((T,R)=>ce(T.order,0)-ce(R.order,0)),images:(A.images||[]).map((T,R)=>({...T,order:ce(T.order,R)})).sort((T,R)=>ce(T.order,0)-ce(R.order,0))}));l(hi)}const[i,r,n,x,c,d]=await Promise.all([fetch(`/api/all-images?v=${Date.now()}`).then(p=>p.json()).catch(()=>({})),fetch("/api/events").then(p=>p.json()).catch(()=>[]),fetch("/api/news").then(p=>p.json()).catch(()=>[]),fetch("/api/drivers").then(p=>p.json()).catch(()=>[]),fetch("/api/gallery-photos").then(p=>p.json()).catch(()=>[]),fetch("/api/videos").then(p=>p.json()).catch(()=>[])]);i?.local&&O(i.local),Array.isArray(r)&&(Ze(r),r.length>0&&we===null&&(Xe(r[0].id),Ce(r[0]))),Array.isArray(n)&&(u(n),n.length>0&&L===null&&(P(n[0].id),q({...n[0]}))),Array.isArray(x)&&(Be(x),x.length>0&&ee===null&&dt(x[0].id)),Array.isArray(c)&&jt(c),Array.isArray(d)&&(oe(d),d.length>0&&ve===null&&Ms(d[0].id))}catch(t){console.error("Content load error:",t)}};g.useEffect(()=>{js()},[]),g.useEffect(()=>{if(!a.length)return;const t=a.findIndex(d=>d.id==="about");if(t===-1||(a[t].sections||[]).some(d=>Ve(d.id)))return;const r=[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}],n=[...a],x={...n[t]},c=[...x.sections||[]];r.forEach((d,p)=>{const y=`${p+1}`;c.push({id:`${Oe}${y}`,type:"text",label:`Statistika Etiketi ${p+1}`,value:d.label},{id:`${De}${y}`,type:"text",label:`Statistika Dəyəri ${p+1}`,value:d.value})}),x.sections=c,n[t]=x,l(n)},[a]),g.useEffect(()=>{vs.current||(vs.current=!0,Ss())},[]),g.useEffect(()=>{const t=new URLSearchParams(Gt.search),s=t.get("mode"),i=t.get("page");if(s&&["extract","events","news","drivers","videos","photos"].includes(s))ye(s);else if(i){ye("extract");const r=pa(i),n=a.findIndex(x=>r.includes(x.id));n!==-1&&h(n)}},[Gt.search,a]);const Ss=async()=>{S(!0),w("Front-end komponentləri skan edilir..."),I(30);const t=Date.now(),s=E.loading("Sinxronizasiya başladı...");try{const i=await fetch("/api/extract-content",{method:"POST"});if(!i.ok){const d=await i.text();throw new Error(d||"Extraction failed")}I(60),w("Bulud bazası ilə sinxronizasiya edilir...");const r=await i.json(),n=r.pages||r,x=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!x.ok){const d=await x.text();throw new Error(d||"Save failed")}I(90),l(n);const c=Date.now()-t;c<800&&await new Promise(d=>setTimeout(d,800-c)),I(100),w("Tamamlandı!"),setTimeout(()=>{S(!1),localStorage.setItem("forsaj_extracted","true"),localStorage.setItem(rs,Date.now().toString()),E.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:s})},500)}catch(i){console.error("Extraction error:",i),S(!1),E.error(`Sinxronizasiya xətası: ${i.message}`,{id:s})}},ue=(t,s,i,r)=>{const n=[...a],x=n[t].sections.findIndex(c=>c.id===s);if(x!==-1){const c=n[t].sections[x];if(!lt(c,i))return;let d=r;const y=!!We(c)||Ve(c.id)||c.id.startsWith("val-")||c.id.startsWith("txt-");(i==="value"||i==="label")&&y&&(d=be(r)),n[t].sections[x][i]=d,l(n)}},As=(t,s)=>{const i=a[t];if(!i)return;const r=i.sections.find(x=>x.id===s);if(!r||!r.url)return;const n=it(r.url);n&&n!==r.url&&ue(t,s,"url",n)},Es=(t,s,i)=>{const r=[...a],n=r[t].images.findIndex(x=>x.id===s);n!==-1&&(r[t].images[n].alt=i,l(r))},za=()=>{if(!Te.trim()){E.error("Başlıq daxil edin!");return}const s={id:Te.toLowerCase().replace(/\s+/g,"-"),title:Te,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};l([...a,s]),h(a.length),m(!1),Re(""),E.success("Yeni bölmə əlavə edildi!")},ut=(t,s,i)=>{if(o<0||o>=a.length)return;const r=[...a],n=r[o];if(n){if(t==="text"){const x=i||`text-${n.sections.length}-${Date.now()}`,c=n.sections.reduce((d,p,y)=>Math.max(d,ce(p.order,y)),-1)+1;n.sections.push({id:x,type:"text",label:s||"Bölmə",value:"Yeni mətn sahəsi...",order:c}),E.success(`${s||"Yeni mətn"} sahəsi əlavə edildi`)}else{const x=i||`img-${n.images.length}-${Date.now()}`,c=n.images.reduce((d,p,y)=>Math.max(d,ce(p.order,y)),-1)+1;n.images.push({id:x,path:"",alt:"",type:"local",order:c}),E.success("Yeni şəkil sahəsi əlavə edildi")}l(r)}},Ns=(t,s)=>{if(o<0||o>=a.length)return;const i=[...a],r=i[o];r&&(t==="text"?(r.sections=r.sections.filter(n=>n.id!==s),r.sections=r.sections.map((n,x)=>({...n,order:x}))):(r.images=r.images.filter(n=>n.id!==s),r.images=r.images.map((n,x)=>({...n,order:x}))),l(i),E.success("Sahə silindi"))},St=(t,s,i)=>{if(o<0||o>=a.length)return;const r=[...a],n=r[o];if(!n)return;const x=t==="text"?n.sections:n.images,c=x.findIndex(y=>y.id===s);if(c===-1)return;const d=i==="up"?c-1:c+1;if(d<0||d>=x.length)return;const p=x[c];x[c]=x[d],x[d]=p,t==="text"?n.sections=(n.sections||[]).map((y,N)=>({...y,order:N})):n.images=(n.images||[]).map((y,N)=>({...y,order:N})),l(r)},Zt=(t=o)=>{if(t<0||t>=a.length)return;const s=[...a],i=s[t];if(!i||i.id!=="about")return;const r=`${Date.now()}`;i.sections.push({id:`${Oe}${r}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${De}${r}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),l(s),E.success("Yeni statistika əlavə edildi")},At=(t,s,i,r=o)=>{if(r<0||r>=a.length)return;const n=[...a],x=n[r];if(!x||x.id!=="about")return;const c=s==="label"?`${Oe}${t}`:`${De}${t}`,d=x.sections.findIndex(y=>y.id===c),p=be(i);d!==-1?x.sections[d].value=p:x.sections.push({id:c,type:"text",label:s==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:p}),l(n)},Ts=(t,s=o)=>{if(s<0||s>=a.length)return;const i=[...a],r=i[s];!r||r.id!=="about"||(r.sections=r.sections.filter(n=>n.id!==`${Oe}${t}`&&n.id!==`${De}${t}`),l(i),E.success("Statistika silindi"))},pt=t=>{if(!t)return[];const s=new Map;return(t.sections||[]).forEach(i=>{const r=i.id.match(as);if(!r)return;const n=Number(r[1]),x=Hl(r[2]);if(!x)return;const c=s.get(n)||{index:n,name:"",tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${n}`};c[x]=i.value||"",s.set(n,c)}),Array.from(s.values()).sort((i,r)=>i.index-r.index)},Et=t=>{if(o<0||o>=a.length)return;const s=[...a],i=s[o];if(!i||i.id!=="partners")return;const r=(i.sections||[]).filter(p=>!as.test(p.id)),n=[];t.forEach(p=>{n.push({id:`PARTNER_${p.index}_NAME`,type:"text",label:`Tərəfdaş ${p.index} Ad`,value:p.name},{id:`PARTNER_${p.index}_TAG`,type:"text",label:`Tərəfdaş ${p.index} Etiket`,value:p.tag},{id:`PARTNER_${p.index}_ICON`,type:"text",label:`Tərəfdaş ${p.index} İkon`,value:p.icon},{id:`PARTNER_${p.index}_USE_IMAGE`,type:"text",label:`Tərəfdaş ${p.index} Görsel İstifadə`,value:p.useImage},{id:`PARTNER_${p.index}_IMAGE_ID`,type:"text",label:`Tərəfdaş ${p.index} Görsel ID`,value:p.imageId||`partner-image-${p.index}`})});const x=i.images||[],c=new Set(t.map(p=>p.imageId||`partner-image-${p.index}`)),d=[...x];c.forEach(p=>{d.some(y=>y.id===p)||d.push({id:p,path:"",alt:p,type:"local",order:d.length})}),i.sections=[...r,...n],i.images=d.map((p,y)=>({...p,order:y})),l(s)},xt=(t,s,i)=>{const r=pt(a[o]).map(n=>n.index===t?{...n,[s]:i}:n);Et(r)},Ba=()=>{const t=pt(a[o]),s=(t[t.length-1]?.index||0)+1;t.push({index:s,name:`PARTNER ${s}`,tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${s}`}),Et(t)},Ua=t=>{const s=pt(a[o]).filter(i=>i.index!==t);Et(s)},Rs=(t,s)=>{const i=pt(a[o]),r=i.findIndex(d=>d.index===t);if(r===-1)return;const n=s==="up"?r-1:r+1;if(n<0||n>=i.length)return;const x=i[r];i[r]=i[n],i[n]=x;const c=i.map((d,p)=>({...d,index:p+1,imageId:d.imageId||`partner-image-${p+1}`}));Et(c)},Ls=(t,s)=>be(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||s,Pa=[{id:"pilot",icon:"Info",titleKey:"RULES_PILOT_TITLE",titleFallback:"PİLOT PROTOKOLU",docNameFallback:"PILOT_PROTOKOLU.PDF",items:[{titleKey:"RULES_PILOT_SUB1",titleFallback:"İSTİFADƏÇİ ÖHDƏLİKLƏRİ",descKey:"RULES_PILOT_DESC1",descFallback:"HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR."},{titleKey:"RULES_PILOT_SUB2",titleFallback:"DİSKVALİFİKASİYA",descKey:"RULES_PILOT_DESC2",descFallback:"PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR."},{titleKey:"RULES_PILOT_SUB3",titleFallback:"TEXNİKİ TƏLƏBLƏR",descKey:"RULES_PILOT_DESC3",descFallback:"BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR."}]},{id:"technical",icon:"Settings",titleKey:"RULES_TECH_TITLE",titleFallback:"TEXNİKİ NORMARTİVLƏR",docNameFallback:"TEXNIKI_NORMATIVLER.PDF",items:[{titleKey:"RULES_TECH_SUB1",titleFallback:"TƏKƏR ÖLÇÜLƏRİ",descKey:"RULES_TECH_DESC1",descFallback:"PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR."},{titleKey:"RULES_TECH_SUB2",titleFallback:"MÜHƏRRİK GÜCÜ",descKey:"RULES_TECH_DESC2",descFallback:"MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR."},{titleKey:"RULES_TECH_SUB3",titleFallback:"ASQI SİSTEMİ",descKey:"RULES_TECH_DESC3",descFallback:"AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR."}]},{id:"safety",icon:"ShieldAlert",titleKey:"RULES_SAFETY_TITLE",titleFallback:"TƏHLÜKƏSİZLİK QAYDALARI",docNameFallback:"TEHLUKESIZLIK_QAYDALARI.PDF",items:[{titleKey:"RULES_SAFETY_SUB1",titleFallback:"KARKAS TƏLƏBİ",descKey:"RULES_SAFETY_DESC1",descFallback:"BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR."},{titleKey:"RULES_SAFETY_SUB2",titleFallback:"YANĞIN SÖNDÜRMƏ",descKey:"RULES_SAFETY_DESC2",descFallback:"HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR."},{titleKey:"RULES_SAFETY_SUB3",titleFallback:"KƏMƏR VƏ DƏBİLQƏ",descKey:"RULES_SAFETY_DESC3",descFallback:"5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR."}]},{id:"eco",icon:"Leaf",titleKey:"RULES_ECO_TITLE",titleFallback:"EKOLOJİ MƏSULİYYƏT",docNameFallback:"EKOLOJI_MESULIYYET.PDF",items:[{titleKey:"RULES_ECO_SUB1",titleFallback:"TULLANTILARIN İDARƏ EDİLMƏSİ",descKey:"RULES_ECO_DESC1",descFallback:'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.'},{titleKey:"RULES_ECO_SUB2",titleFallback:"MAYE SIZMALARI",descKey:"RULES_ECO_DESC2",descFallback:"AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR."},{titleKey:"RULES_ECO_SUB3",titleFallback:"MARŞRUTDAN KƏNARA ÇIXMAMAQ",descKey:"RULES_ECO_DESC3",descFallback:"TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR."}]}],Nt=(t,s,i)=>{const r=be((t.find(n=>n.id===s)?.value||"").toString());return!r||Yt(r)?i:r},Fa=t=>{const s=Nt(t,"BTN_DOWNLOAD_PDF","PDF YÜKLƏ"),i=it((t.find(r=>r.id==="BTN_DOWNLOAD_PDF")?.url||"").toString());return Pa.map((r,n)=>({index:n+1,id:r.id,title:Nt(t,r.titleKey,r.titleFallback),icon:r.icon,docName:r.docNameFallback,docButton:s,docUrl:i,items:r.items.map((x,c)=>({index:c+1,title:Nt(t,x.titleKey,x.titleFallback),desc:Nt(t,x.descKey,x.descFallback)}))}))},Xt=t=>Ls(t||"",""),Ae=t=>{if(!t||t.id!=="rulespage")return[];const s=new Map;(t.sections||[]).forEach(d=>{const p=d.id.match($l);if(p){const N=Number(p[1]),K=p[2],F=s.get(N)||{id:`tab-${N}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map};K==="ID"&&(F.id=d.value||`tab-${N}`),K==="TITLE"&&(F.title=d.value||""),K==="ICON"&&(F.icon=d.value||"Info"),K==="DOC_NAME"&&(F.docName=d.value||""),K==="DOC_BUTTON"&&(F.docButton=d.value||""),K==="DOC_URL"&&(F.docUrl=it(d.url||d.value||"")),s.set(N,F);return}const y=d.id.match(ql);if(y){const N=Number(y[1]),K=Number(y[2]),F=y[3],re=s.get(N)||{id:`tab-${N}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map},ge=re.items.get(K)||{title:"",desc:""};F==="TITLE"&&(ge.title=d.value||""),F==="DESC"&&(ge.desc=d.value||""),re.items.set(K,ge),s.set(N,re)}});const i=Array.from(s.entries()).sort((d,p)=>d[0]-p[0]).map(([d,p])=>({index:d,id:p.id||`tab-${d}`,title:p.title||"",icon:p.icon||"Info",docName:p.docName||"",docButton:p.docButton||"",docUrl:p.docUrl||"",items:Array.from(p.items.entries()).sort((y,N)=>y[0]-N[0]).map(([y,N])=>({index:y,title:N.title||"",desc:N.desc||""}))})).filter(d=>d.title||d.items.length>0),r=Fa(t.sections||[]);if(!i.length)return r;const n=new Map;i.forEach(d=>{n.set(Xt(d.id||d.title||""),d)});const x=new Set,c=r.map(d=>{const p=Xt(d.id||d.title||""),y=n.get(p);return y?(x.add(p),{...d,...y,id:y.id||d.id,title:y.title||d.title,icon:y.icon||d.icon,docName:y.docName||d.docName,docButton:y.docButton||d.docButton,docUrl:y.docUrl||d.docUrl,items:y.items&&y.items.length>0?y.items:d.items}):d});return i.forEach(d=>{const p=Xt(d.id||d.title||"");x.has(p)||c.push(d)}),c.map((d,p)=>({...d,index:p+1}))},Ue=(t,s=o)=>{if(s<0||s>=a.length)return;const i=[...a],r=i[s];if(!r||r.id!=="rulespage")return;const n=(r.sections||[]).filter(c=>!is.test(c.id)),x=[];return t.forEach((c,d)=>{const p=d+1,y=Ls(c.id||c.title||"",`tab-${p}`),N=be(c.title||`SEKME ${p}`),K=ss.includes(c.icon)?c.icon:"Info",F=be(c.docName||`${y.toUpperCase()}_PROTOKOLU.PDF`),re=be(c.docButton||"PDF YÜKLƏ"),ge=Pl(c.docUrl||"");x.push({id:`RULE_TAB_${p}_ID`,type:"text",label:`Qayda Sekməsi ${p} ID`,value:y},{id:`RULE_TAB_${p}_TITLE`,type:"text",label:`Qayda Sekməsi ${p} Başlıq`,value:N},{id:`RULE_TAB_${p}_ICON`,type:"text",label:`Qayda Sekməsi ${p} İkon`,value:K},{id:`RULE_TAB_${p}_DOC_NAME`,type:"text",label:`Sekmə ${p} Sənəd Adı`,value:F},{id:`RULE_TAB_${p}_DOC_BUTTON`,type:"text",label:`Sekmə ${p} Sənəd Düyməsi`,value:re},{id:`RULE_TAB_${p}_DOC_URL`,type:"text",label:`Sekmə ${p} Sənəd Linki`,value:ge,...ge?{url:ge}:{}}),(c.items||[]).forEach((W,It)=>{const Qe=It+1;x.push({id:`RULE_TAB_${p}_ITEM_${Qe}_TITLE`,type:"text",label:`Sekmə ${p} Maddə ${Qe} Başlıq`,value:be(W.title||"")},{id:`RULE_TAB_${p}_ITEM_${Qe}_DESC`,type:"text",label:`Sekmə ${p} Maddə ${Qe} Təsvir`,value:be(W.desc||"")})})}),r.sections=[...n,...x].map((c,d)=>({...c,order:d})),l(i),i},Cs=(t=o)=>{const s=Ae(a[t]),i=s.length+1;s.push({index:i,id:`tab-${i}`,title:`SEKME ${i}`,icon:"Info",docName:`TAB_${i}_PROTOKOLU.PDF`,docButton:"PDF YÜKLƏ",docUrl:"",items:[{index:1,title:"YENİ MADDƏ",desc:"Maddə təsviri..."}]}),Ue(s,t),E.success("Yeni sekmə əlavə edildi")},ks=(t,s=o)=>{const i=Ae(a[s]).filter((r,n)=>n!==t);Ue(i,s),E.success("Sekmə silindi")},Tt=(t,s,i=o)=>{const r=Ae(a[i]),n=s==="up"?t-1:t+1;if(n<0||n>=r.length)return;const x=r[t];r[t]=r[n],r[n]=x,Ue(r,i)},fe=(t,s,i,r=o)=>{const n=Ae(a[r]);n[t]&&(n[t]={...n[t],[s]:i},Ue(n,r))},Is=(t,s=o)=>{const i=Ae(a[s]);if(!i[t])return;const r=(i[t].items?.length||0)+1;i[t].items=[...i[t].items||[],{index:r,title:`MADDƏ ${r}`,desc:"Maddə təsviri..."}],Ue(i,s)},_s=(t,s,i=o)=>{const r=Ae(a[i]);r[t]&&(r[t].items=(r[t].items||[]).filter((n,x)=>x!==s),Ue(r,i))},Rt=(t,s,i,r,n=o)=>{const x=Ae(a[n]);!x[t]||!x[t].items[s]||(x[t].items[s]={...x[t].items[s],[i]:r},Ue(x,n))},Os=(t,s)=>{Ye({pageIdx:t,imgId:s}),M(!0)},Jt=async(t,s)=>{const i=new FormData;i.append("image",t);const r=E.loading(s?.loadingText||"Şəkil yüklənir...");try{const n=await fetch("/api/upload-image",{method:"POST",body:i});if(n.ok){const x=await n.json();return E.success(s?.successText||"Şəkil uğurla yükləndi",{id:r}),x.url}else throw new Error("Upload fail")}catch(n){return console.error("Upload error:",n),E.error(s?.errorText||"Görsəl yüklənərkən xəta baş verdi",{id:r}),null}},$e=async t=>Jt(t),Ya=async t=>t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")?(E.error("Yalnız PDF faylı yüklənə bilər"),null):Jt(t,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"}),Ka=async t=>{try{(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&localStorage.setItem(rs,Date.now().toString())}catch(s){console.error("Silent save failed:",s)}},Ds=async(t,s,i=o)=>{const r=await Ya(t);if(!r)return;const n=Ae(a[i]);if(!n[s])return;n[s]={...n[s],docName:t.name,docUrl:r};const x=Ue(n,i);x&&te==="extract"&&await Ka(x)},$a=async(t,s,i)=>{const r=t.target.files?.[0];if(!r)return;const n=await $e(r);if(n){const x=[...a],c=x[s].images.findIndex(d=>d.id===i);c!==-1&&(x[s].images[c].path=n,x[s].images[c].type="local",l(x))}},qa=t=>{if(!C)return;const s=[...a];if(_){const i=`img-${s[C.pageIdx].images.length}-${Date.now()}`;s[C.pageIdx].images.push({id:i,path:t,alt:"Daxil edildi",type:"local"}),V(!1)}else{const i=s[C.pageIdx].images.findIndex(r=>r.id===C.imgId);i!==-1&&(s[C.pageIdx].images[i].path=t,s[C.pageIdx].images[i].type="local")}l(s),M(!1),E.success("Şəkil seçildi")},es=async()=>{v(!0);const t=E.loading("Yadda saxlanılır...");try{if(te==="extract"){const s=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw new Error(await s.text());localStorage.setItem(rs,Date.now().toString())}else if(te==="events"){const s=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)});if(!s.ok)throw new Error(await s.text())}else if(te==="news"){const s=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!s.ok)throw new Error(await s.text())}else if(te==="drivers"){const s=await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)});if(!s.ok)throw new Error(await s.text())}else if(te==="videos"){const s=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});if(!s.ok)throw new Error(await s.text())}else if(te==="photos"){const s=await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Vt)});if(!s.ok)throw new Error(await s.text())}E.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:t}),await js()}catch(s){console.error("Save error:",s),E.error(`Yadda saxlama xətası: ${s.message} `,{id:t})}finally{v(!1)}},Ha=t=>{const s=le.find(i=>i.id===t);s&&(Xe(t),Ce({...s}))},je=(t,s,i)=>{const r=i||we;Ce(n=>{const c=!i||i===we?{...n,[t]:s}:n;return r&&Ze(d=>d.map(p=>p.id===r?{...p,[t]:s}:p)),c})},Ga=()=>{const t=le.length>0?Math.max(...le.map(i=>i.id))+1:1,s={id:t,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",status:"planned"};Ze([...le,s]),Xe(t),Ce(s),E.success("Yeni tədbir yaradıldı")},Qa=async(t,s)=>{s.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(Ze(le.filter(i=>i.id!==t)),we===t&&Xe(null),E.success("Tədbir silindi"))},Va=t=>{const s=ke.find(i=>i.id===t);s&&(P(t),q({...s}))},qe=(t,s,i)=>{const r=i||L;q(n=>{const c=!i||i===L?{...n,[t]:s}:n;return r&&u(d=>d.map(p=>p.id===r?{...p,[t]:s}:p)),c})},Wa=()=>{const t=ke.length>0?Math.max(...ke.map(i=>i.id))+1:1,s={id:t,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};u([...ke,s]),P(t),q(s),E.success("Yeni xəbər yaradıldı")},Ms=t=>{qt(t);const s=Z.find(i=>i.id===t);s&&Ht({...s})},Lt=(t,s,i)=>{const r=ve;Ht(n=>{let c={...n,[t]:s};if(t==="youtubeUrl"){const d=ws(s);d&&(c={...c,videoId:d,thumbnail:`https://img.youtube.com/vi/${d}/maxresdefault.jpg`})}return r&&oe(d=>d.map(p=>{if(p.id===r){let y={...p,[t]:s};if(t==="youtubeUrl"){const N=ws(s);N&&(y.videoId=N,y.thumbnail=`https://img.youtube.com/vi/${N}/maxresdefault.jpg`)}return y}return p})),c})},ws=t=>{const s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=t.match(s);return i&&i[2].length===11?i[2]:null},zs=t=>{ys(t);const s=Vt.find(i=>i.id===t);s&&Wt({...s})},Za=()=>{const t=Date.now(),s={id:t,title:"Yeni Şəkil",url:""};jt(i=>[...i,s]),zs(t)},Xa=async(t,s)=>{s.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(jt(i=>i.filter(r=>r.id!==t)),ot===t&&(ys(null),Wt({})),E.success("Şəkil silindi"))},ts=(t,s)=>{Wt(i=>{const r={...i,[t]:s};return ot&&jt(n=>n.map(x=>x.id===ot?r:x)),r})},Ja=async t=>{const s=t.target.files?.[0];if(!s)return;const i=await $e(s);i&&ts("url",i)},ei=()=>{const t=Z.length>0?Math.max(...Z.map(i=>i.id))+1:1,s={id:t,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};oe([...Z,s]),qt(t),Ht(s),E.success("Yeni video əlavə edildi")},ti=async(t,s)=>{s.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(oe(Z.filter(i=>i.id!==t)),ve===t&&qt(null),E.success("Video silindi"))},si=async(t,s)=>{s.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(u(ke.filter(i=>i.id!==t)),L===t&&P(null),E.success("Xəbər silindi"))},ai=t=>{dt(t),ct(null),et({})},ii=t=>{ct(t);const i=he.find(r=>r.id===ee)?.drivers.find(r=>r.id===t);i&&et({...i})},He=(t,s)=>{!ee||!Je||et(i=>{const r={...i,[t]:s};return Be(n=>n.map(x=>x.id===ee?{...x,drivers:x.drivers.map(c=>c.id===Je?r:c)}:x)),r})},li=()=>{if(!ee){E.error("Öncə kateqoriya seçin və ya yaradın");return}const t=Date.now(),s={id:t,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};Be(i=>i.map(r=>r.id===ee?{...r,drivers:[...r.drivers,s]}:r)),ct(t),et(s),E.success("Yeni sürücü siyahıya əlavə edildi")},ri=t=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&(Be(s=>s.map(i=>i.id===ee?{...i,drivers:i.drivers.filter(r=>r.id!==t)}:i)),Je===t&&(ct(null),et({})),E.success("Sürücü silindi"))},ni=async()=>{const t=pe,s=he.map(r=>r.id===ee?{...r,drivers:r.drivers.map(n=>n.id===Je?{...n,...t}:n)}:r);v(!0);const i=E.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Yadda saxlama uğursuz oldu");Be(s),E.success("Bütün sürücü məlumatları qeyd edildi",{id:i})}catch{E.error("Xəta baş verdi",{id:i})}finally{v(!1)}},oi=()=>{const t=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!t)return;const s=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(he.find(r=>r.id===s)){E.error("Bu adda kateqoriya artıq mövcuddur");return}const i={id:s,name:t,drivers:[]};Be([...he,i]),dt(s),E.success("Kateqoriya əlavə edildi")},di=()=>{if(!ee)return;const t=he.find(s=>s.id===ee);if(t&&window.confirm(`"${t.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const s=he.filter(i=>i.id!==ee);Be(s),s.length>0?dt(s[0].id):dt(null),ct(null),et({}),E.success("Kateqoriya silindi")}},ci=t=>{if(!ee)return;const s=t.trim();if(!s){E.error("Kateqoriya adı boş ola bilməz");return}Be(i=>i.map(r=>r.id===ee?{...r,name:s}:r))};if(a.length===0&&!f&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(xe,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:Ss,children:"Sinxronizasiyanı Başlat"})]})});if(f)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${k}%`}})}),e.jsx("div",{className:"step-label",children:B})]})});const H=a[o],Bs=pa(ze).map(t=>{const s=a.findIndex(i=>i.id===t);return s===-1?null:{page:a[s],pageIdx:s}}).filter(Boolean),ui=!!ze&&(!!rt[ze]||!!_a[ze]),pi=te==="extract"&&ui&&Bs.length>0,Ct=(H?.sections||[]).filter(t=>ua(t)||H?.id==="about"&&Ve(t.id)||H?.id==="partners"&&(as.test(t.id)||t.id==="SECTION_TITLE")||H?.id==="rulespage"&&is.test(t.id)||H?.id==="rulespage"&&t.id.startsWith("RULES_")?!1:!Y||t.label.toLowerCase().includes(Y.toLowerCase())||t.value.toLowerCase().includes(Y.toLowerCase())).sort((t,s)=>ce(t.order,0)-ce(s.order,0)),Us=H?.id==="about"?(()=>{const t=new Map;(H.sections||[]).forEach(r=>{if(!Ve(r.id))return;const n=ca(r.id)||r.id,x=t.get(n)||{label:"",value:""};r.id.startsWith(Oe)&&(x.label=r.value||""),r.id.startsWith(De)&&(x.value=r.value||""),t.set(n,x)});const s=Array.from(t.entries()).sort(([r],[n])=>r.localeCompare(n,void 0,{numeric:!0})).map(([r,n])=>({suffix:r,...n}));if(!Y)return s;const i=Y.toLowerCase();return s.filter(r=>r.label.toLowerCase().includes(i)||r.value.toLowerCase().includes(i))})():[],Ps=H?.id==="partners"?pt(H):[],Fs=H?.id==="rulespage"?Ae(H):[],kt=(H?.images||[]).filter(t=>!Y||t.alt.toLowerCase().includes(Y.toLowerCase())||t.path.toLowerCase().includes(Y.toLowerCase())).sort((t,s)=>ce(t.order,0)-ce(s.order,0)),xi=t=>{const s=(t.value||"").toLowerCase();return s.includes("<p")||s.includes("<br")||s.includes("[b]")||s.includes("[i]")||s.includes("[u]")||s.includes("[url")||s.includes("[img")||s.includes("[center]")},Ys=t=>t.id.startsWith("val-icon-")||/ikon|icon/i.test(t.label||""),Ks=(t,s,i=o,r=H)=>{const n=We(t),x=lt(t,"label"),c=lt(t,"value"),d=lt(t,"url"),p=!!(t.url||"").trim(),y=Kl(t),N=r?.sections||[],K=N.findIndex(W=>W.id===t.id),F=K>0,re=K>=0&&K<N.length-1,ge=Ys(t);return e.jsxs("div",{className:"field-item-wrapper",style:{background:"#fcfcfd",padding:"1.25rem",borderRadius:"14px",border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",value:Yt(t.label)?da(t.label):t.label,onChange:W=>ue(i,t.id,"label",W.target.value),disabled:!x,style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),n&&e.jsx("span",{style:{fontSize:"10px",color:"#475569",background:"#f1f5f9",borderRadius:"999px",padding:"3px 8px",fontWeight:700},children:"Açar mətn"}),e.jsxs("span",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginLeft:"auto"},children:["Sıra: ",s+1]})]}),ge?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 1fr",gap:"8px"},children:[e.jsx("select",{value:t.value||"",onChange:W=>ue(i,t.id,"value",W.target.value),disabled:!c,style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"},children:oa.map(W=>e.jsx("option",{value:W,children:W},W))}),e.jsx("input",{type:"text",value:t.value||"",onChange:W=>ue(i,t.id,"value",W.target.value),disabled:!c,style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"}})]}):n||!xi(t)?e.jsx("textarea",{value:t.value||"",onChange:W=>ue(i,t.id,"value",W.target.value),disabled:!c,rows:4,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(zt,{id:`editor-${t.id}`,value:wt(t.value||""),onChange:W=>ue(i,t.id,"value",W),readOnly:!c}),p&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(xe,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:it(t.url||""),onChange:W=>ue(i,t.id,"url",W.target.value),onBlur:()=>As(i,t.id),disabled:!d,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginTop:"0.9rem"},children:[!p&&d&&e.jsxs("button",{title:"Link əlavə et",onClick:()=>ue(i,t.id,"url",`${window.location.origin}/`),style:{background:"#fff",border:"1px solid #dbeafe",color:"#2563eb",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(xe,{size:12})," Link əlavə et"]}),e.jsxs("button",{title:"Yuxarı daşı",onClick:()=>St("text",t.id,"up"),disabled:!F,style:{background:"#fff",border:"1px solid #e2e8f0",color:F?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:F?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(mt,{size:12})," Yuxarı"]}),e.jsxs("button",{title:"Aşağı daşı",onClick:()=>St("text",t.id,"down"),disabled:!re,style:{background:"#fff",border:"1px solid #e2e8f0",color:re?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:re?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(ht,{size:12})," Aşağı"]}),y&&e.jsxs("button",{className:"field-delete-btn",onClick:()=>Ns("text",t.id),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(ne,{size:12})," Sil"]})]})]},`${t.id}-${s}`)},mi=(()=>{if(H?.id!=="contactpage")return[];const t=new Set,s=Bl.map(r=>{const n=r.ids.map(x=>Ct.find(c=>c.id===x)).filter(Boolean);return n.forEach(x=>t.add(x.id)),{title:r.title,subtitle:r.subtitle,sections:n}}).filter(r=>r.sections.length>0),i=Ct.filter(r=>!t.has(r.id));return i.length>0&&s.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən sahələr",sections:i}),s})(),Ge=Y.trim().toLowerCase(),tt=(...t)=>Ge?t.some(s=>(s||"").toString().toLowerCase().includes(Ge)):!0,$s=ke.filter(t=>tt(t.title,t.date,t.category,t.status,t.description)),qs=le.filter(t=>tt(t.title,t.date,t.location,t.category,t.status,t.description)),Hs=Z.filter(t=>tt(t.title,t.duration,t.youtubeUrl,t.videoId,t.created_at)),Gs=Vt.filter(t=>tt(t.title,t.url));return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(xe,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(hs,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:Y,onChange:t=>Le(t.target.value),className:"header-search-input"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:`save-btn ${b?"saving":""}`,onClick:es,disabled:b,children:b?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(fs,{size:16})," Saxla"]})})})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${te==="extract"?"active":""}`,onClick:()=>ye("extract"),children:"Ana Səhifə"}),e.jsx("button",{className:`mode-btn ${te==="events"?"active":""}`,onClick:()=>ye("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${te==="news"?"active":""}`,onClick:()=>ye("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${te==="drivers"?"active":""}`,onClick:()=>ye("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${te==="videos"?"active":""}`,onClick:()=>ye("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${te==="photos"?"active":""}`,onClick:()=>ye("photos"),children:"Fotolar"})]})]}),te==="news"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:Wa,children:e.jsx(J,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:$s.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:Ge?"Axtarışa uyğun xəbər tapılmadı.":'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):$s.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${L===t.id?"active":""}`,onClick:()=>Va(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(gt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:s=>si(t.id,s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ne,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:L!==null&&U.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(gt,{size:22})," Xəbəri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[U.title," // ID: ",U.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:U.title,onChange:t=>qe("title",t.target.value,U.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:U.date,onChange:t=>qe("date",t.target.value,U.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:U.category,onChange:t=>qe("category",t.target.value,U.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:U.status,onChange:t=>qe("status",t.target.value,U.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:U.img?e.jsx("img",{src:U.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:U.img,onChange:t=>qe("img",t.target.value,U.id)}),e.jsx("input",{type:"file",id:"news-full-img",style:{display:"none"},onChange:async t=>{const s=t.target.files?.[0];if(s){const i=await $e(s);i&&qe("img",i,U.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(zt,{id:"news-full-desc",value:wt(U.description||""),onChange:t=>qe("description",t,U.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:es,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(gt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):te==="events"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:Ga,children:e.jsx(J,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:qs.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:Ge?"Axtarışa uyğun tədbir tapılmadı.":'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):qs.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${we===t.id?"active":""}`,onClick:()=>Ha(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Bt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:s=>Qa(t.id,s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ne,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:we!==null&&Q.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Bt,{size:22})," Tədbiri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[Q.title," // ID: ",Q.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:Q.title,onChange:t=>je("title",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:Q.date,onChange:t=>je("date",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:Q.location,onChange:t=>je("location",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:Q.category,onChange:t=>je("category",t.target.value,Q.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:Q.status,onChange:t=>je("status",t.target.value,Q.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:Q.img?e.jsx("img",{src:Q.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Q.img,onChange:t=>je("img",t.target.value,Q.id)}),e.jsx("input",{type:"file",id:"event-full-img",style:{display:"none"},onChange:async t=>{const s=t.target.files?.[0];if(s){const i=await $e(s);i&&je("img",i,Q.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(zt,{id:"event-full-desc",value:wt(Q.description||""),onChange:t=>je("description",t,Q.id)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PDF URL"}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Q.pdfUrl||"",onChange:t=>je("pdfUrl",t.target.value,Q.id),placeholder:"https://.../rules.pdf"}),e.jsx("input",{type:"file",id:"event-full-pdf",accept:".pdf,application/pdf",style:{display:"none"},onChange:async t=>{const s=t.target.files?.[0];if(!s)return;if(s.type!=="application/pdf"&&!s.name.toLowerCase().endsWith(".pdf")){E.error("Yalnız PDF faylı yüklənə bilər");return}const i=await Jt(s,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"});i&&je("pdfUrl",i,Q.id),t.target.value=""}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-full-pdf")?.click(),className:"btn-secondary",children:"PDF Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(zt,{id:"event-full-rules",value:wt(Q.rules||""),onChange:t=>je("rules",t,Q.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:es,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Bt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):te==="drivers"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:oi,title:"Kateqoriya əlavə et",children:e.jsx(J,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:di,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(ne,{size:16})})]})]}),e.jsx("select",{value:ee||"",onChange:t=>ai(t.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:he.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),ee&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"11px",fontWeight:800,color:"#64748b",textTransform:"uppercase"},children:"Kateqoriya adı"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:e.jsx("input",{type:"text",value:he.find(t=>t.id===ee)?.name||"",onChange:t=>ci(t.target.value),placeholder:"Kateqoriya adı",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"}})})]}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:li,children:e.jsx(J,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:ee&&(he.find(t=>t.id===ee)?.drivers||[]).filter(t=>tt(t.name,t.license,t.team,t.rank,t.points,t.wins)).length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:Ge?"Axtarışa uyğun sürücü tapılmadı.":"Bu kateqoriyada sürücü yoxdur."}):(he.find(t=>t.id===ee)?.drivers||[]).filter(t=>tt(t.name,t.license,t.team,t.rank,t.points,t.wins)).map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${Je===t.id?"active":""}`,onClick:()=>ii(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",t.rank]})," ",t.name]}),e.jsx("button",{className:"delete-section-btn",onClick:s=>{s.stopPropagation(),ri(t.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ne,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:Je!==null&&pe.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:pe.name}),e.jsxs("p",{style:{color:"#64748b"},children:[he.find(t=>t.id===ee)?.name," // RANK #",pe.rank]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:pe.name,onChange:t=>He("name",t.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:pe.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:pe.license,onChange:t=>He("license",t.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:pe.team,onChange:t=>He("team",t.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:pe.wins,onChange:t=>He("wins",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:pe.points,onChange:t=>He("points",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{className:"input-row",children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:pe.img?e.jsx("img",{src:pe.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ee,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{className:"input-row",style:{flex:1},children:[e.jsx("input",{type:"text",value:pe.img||"",onChange:t=>He("img",t.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async t=>{const s=t.target.files?.[0];if(s){const i=await $e(s);i&&He("img",i)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:ni,disabled:b,children:b?"Gözləyin...":"Sürücünü Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(ft,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):te==="videos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:ei,children:e.jsx(J,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Hs.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:Ge?"Axtarışa uyğun video tapılmadı.":"Heç bir video əlavə edilməyib."}):Hs.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ve===t.id?"active":""}`,onClick:()=>Ms(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:s=>{s.stopPropagation(),ti(t.id,s)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ne,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ve!==null&&me.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[me.title," // ID: ",me.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:me.title,onChange:t=>Lt("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(xe,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:me.youtubeUrl,onChange:t=>Lt("youtubeUrl",t.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{className:"edit-grid grid-2-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:me.duration,onChange:t=>Lt("duration",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:me.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:me.created_at||"",onChange:t=>Lt("created_at",t.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[me.thumbnail?e.jsx("img",{src:me.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(os,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),me.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(me.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(Di,{size:24,fill:"currentColor"})})})]})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(os,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):te==="photos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Foto Arxiv"}),e.jsx("button",{className:"add-section-btn",onClick:Za,title:"Yeni şəkil əlavə et",children:e.jsx(J,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:Gs.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:Ge?"Axtarışa uyğun şəkil tapılmadı.":"Şəkil yoxdur"}):Gs.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ot===t.id?"active":""}`,onClick:()=>zs(t.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:t.url?e.jsx("img",{src:t.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Ee,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:s=>Xa(t.id,s),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ne,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ot!==null&&Ke.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[Ke.title," // ID: ",Ke.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:Ke.title,onChange:t=>ts("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[Ke.url?e.jsx("img",{src:Ke.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Ee,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:Ja}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(J,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:Ke.url||"",onChange:t=>ts("url",t.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ee,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsx("div",{className:"editor-layout",children:e.jsx("main",{className:"editor-canvas",style:{width:"100%"},children:pi?e.jsxs("div",{className:"edit-fields",style:{width:"100%"},children:[ze==="home"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"Ana Səhifə Blokları"})}),ze==="abouttab"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"HAQQIMIZDA"})}),Bs.map(({page:t,pageIdx:s})=>{const i=(t.sections||[]).filter(c=>!(ua(c)||t.id==="about"&&Ve(c.id)||t.id==="rulespage"&&is.test(c.id)||t.id==="rulespage"&&c.id.startsWith("RULES_"))).sort((c,d)=>ce(c.order,0)-ce(d.order,0)),r=(t.images||[]).sort((c,d)=>ce(c.order,0)-ce(d.order,0)),n=t.id==="about"?(()=>{const c=new Map;return(t.sections||[]).forEach(d=>{if(!Ve(d.id))return;const p=ca(d.id)||d.id,y=c.get(p)||{label:"",value:""};d.id.startsWith(Oe)&&(y.label=d.value||""),d.id.startsWith(De)&&(y.value=d.value||""),c.set(p,y)}),Array.from(c.entries()).sort(([d],[p])=>d.localeCompare(p,void 0,{numeric:!0})).map(([d,p])=>({suffix:d,...p}))})():[],x=t.id==="rulespage"?Ae(t):[];return e.jsxs("div",{className:"field-group",children:[e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.05rem",fontWeight:800,color:"var(--text-main)"},children:ls[t.id]||t.title})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[t.id==="about"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Statistikalar"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Zt(s),children:[e.jsx(J,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:n.map(c=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:c.label,onChange:d=>At(c.suffix,"label",d.target.value,s),placeholder:"Statistika adı",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:c.value,onChange:d=>At(c.suffix,"value",d.target.value,s),placeholder:"Dəyər",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{type:"button",onClick:()=>Ts(c.suffix,s),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ne,{size:14})})]},c.suffix))})]}),t.id==="rulespage"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Qaydalar Sekmələri"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Cs(s),children:[e.jsx(J,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:x.map((c,d)=>{const p=d>0,y=d<x.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"10px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px 160px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:c.title,onChange:N=>fe(d,"title",N.target.value,s),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:c.id,onChange:N=>fe(d,"id",N.target.value,s),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:c.icon,onChange:N=>fe(d,"icon",N.target.value,s),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:ss.map(N=>e.jsx("option",{value:N,children:N},N))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{type:"button",title:"Yuxarı",onClick:()=>Tt(d,"up",s),disabled:!p,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:p?"#334155":"#cbd5e1"},children:e.jsx(mt,{size:14})}),e.jsx("button",{type:"button",title:"Aşağı",onClick:()=>Tt(d,"down",s),disabled:!y,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:y?"#334155":"#cbd5e1"},children:e.jsx(ht,{size:14})}),e.jsx("button",{type:"button",title:"Sekməni sil",onClick:()=>ks(d,s),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ne,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:c.docName||"",onChange:N=>fe(d,"docName",N.target.value,s),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:c.docButton||"",onChange:N=>fe(d,"docButton",N.target.value,s),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(xe,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:c.docUrl||"",onChange:N=>fe(d,"docUrl",N.target.value,s),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-${s}-${d}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async N=>{const K=N.target.files?.[0];K&&(await Ds(K,d,s),N.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-${s}-${d}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(c.items||[]).map((N,K)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:N.title,onChange:F=>Rt(d,K,"title",F.target.value,s),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{type:"button",title:"Maddəni sil",onClick:()=>_s(d,K,s),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ne,{size:14})})]}),e.jsx("textarea",{rows:3,value:N.desc,onChange:F=>Rt(d,K,"desc",F.target.value,s),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-tab-item-group-${c.index}-${N.index}`)),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Is(d,s),children:[e.jsx(J,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-group-${c.index}-${c.id}`)})})]}),i.map(c=>{const d=We(c),p=lt(c,"value"),y=lt(c,"url"),N=!!c.url?.trim(),K=Ys(c);return e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:700,marginBottom:"6px"},children:d?da(d):c.label}),K?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 1fr",gap:"8px"},children:[e.jsx("select",{value:c.value||"",disabled:!p,onChange:F=>ue(s,c.id,"value",F.target.value),style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"},children:oa.map(F=>e.jsx("option",{value:F,children:F},F))}),e.jsx("input",{type:"text",value:c.value||"",disabled:!p,onChange:F=>ue(s,c.id,"value",F.target.value),style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"}})]}):e.jsx("textarea",{rows:3,value:c.value,disabled:!p,onChange:F=>ue(s,c.id,"value",F.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:1.4,resize:"vertical"}}),N&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(xe,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:it(c.url||""),disabled:!y,onChange:F=>ue(s,c.id,"url",F.target.value),onBlur:()=>As(s,c.id),placeholder:"https://example.com/path",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),!N&&y&&e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>ue(s,c.id,"url",`${window.location.origin}/`),style:{marginTop:"0.75rem"},children:[e.jsx(J,{size:14})," Link əlavə et"]})]},`${t.id}-${c.id}`)})]}),e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:700},children:"Şəkillər"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>{const c=[...a],d=c[s];d&&(d.images.push({id:`img-${d.images.length}-${Date.now()}`,path:"",alt:"",type:"local",order:d.images.length}),l(c))},children:[e.jsx(J,{size:14})," Yeni Şəkil"]})]}),e.jsxs("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:[r.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Bu bölmədə şəkil yoxdur."}),r.map(c=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",padding:"0.75rem",background:"#fff"},children:[e.jsx("div",{style:{height:"120px",background:"#f8fafc",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:c.path?e.jsx("img",{src:c.path,alt:c.alt||c.id,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:"Önizləmə yoxdur"})}),e.jsx("input",{type:"text",value:c.path,placeholder:"Tam şəkil linki",onChange:d=>{const p=[...a],y=p[s];if(!y)return;const N=y.images.findIndex(K=>K.id===c.id);N!==-1&&(y.images[N].path=d.target.value,l(p))},style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",marginBottom:"8px"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:`group-file-up-${t.id}-${c.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async d=>{const p=d.target.files?.[0];if(!p)return;const y=await $e(p);if(!y)return;const N=[...a],K=N[s];if(!K)return;const F=K.images.findIndex(re=>re.id===c.id);F!==-1&&(K.images[F].path=y,K.images[F].type="local",l(N))}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`group-file-up-${t.id}-${c.id}`)?.click(),style:{fontSize:"11px",padding:"6px 10px"},children:"Fayldan yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Os(s,c.id),style:{fontSize:"11px",padding:"6px 10px"},children:"Kitabxanadan seç"})]}),e.jsx("input",{type:"text",value:c.alt,placeholder:"Alt mətni",onChange:d=>Es(s,c.id,d.target.value),style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px"}})]},`${t.id}-${c.id}`))]})]})]},t.id)})]}):H?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:ls[H.id]||H.title}),e.jsxs("div",{className:"canvas-actions",children:[H.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Zt(),style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(ft,{size:14})," Statistika Əlavə Et"]}),H.id==="values"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>{ut("text","İkon Kodu (Shield/Users/Leaf/Zap)",`val-icon-${Date.now()}`),ut("text","Dəyər Başlığı",`val-title-${Date.now()}`),ut("text","Dəyər Təsviri",`val-desc-${Date.now()}`)},style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(J,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const t=[...a];t[o].active=H?.active===!1,l(t),E.success(t[o].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:H?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:H?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[H.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ft,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Zt(),children:[e.jsx(J,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Us.length>0?Us.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:t.label,onChange:s=>At(t.suffix,"label",s.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.value,onChange:s=>At(t.suffix,"value",s.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>Ts(t.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ne,{size:14})})]},t.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:Y?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),H.id==="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ft,{size:16})," Tərəfdaş Kartları"]}),e.jsxs("button",{className:"add-field-minimal",onClick:Ba,children:[e.jsx(J,{size:14})," Tərəfdaş Əlavə Et"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"6px",fontWeight:700},children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:H.sections.find(t=>t.id==="SECTION_TITLE")?.value||"",onChange:t=>ue(o,"SECTION_TITLE","value",t.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Ps.map((t,s)=>{const i=s>0,r=s<Ps.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 200px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>xt(t.index,"name",n.target.value),placeholder:"Tərəfdaş adı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.tag,onChange:n=>xt(t.index,"tag",n.target.value),placeholder:"Etiket",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.icon,onChange:n=>xt(t.index,"icon",n.target.value),placeholder:"ShieldCheck / Truck / Globe / Zap",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>Rs(t.index,"up"),disabled:!i,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:i?"#334155":"#cbd5e1"},children:e.jsx(mt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>Rs(t.index,"down"),disabled:!r,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:r?"#334155":"#cbd5e1"},children:e.jsx(ht,{size:14})}),e.jsx("button",{title:"Sil",onClick:()=>Ua(t.index),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ne,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"170px 1fr",gap:"8px",alignItems:"center"},children:[e.jsxs("select",{value:t.useImage,onChange:n=>xt(t.index,"useImage",n.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"false",children:"İkon istifadə et"}),e.jsx("option",{value:"true",children:"Görsel istifadə et"})]}),e.jsx("input",{type:"text",value:t.imageId,onChange:n=>xt(t.index,"imageId",n.target.value),placeholder:"Görsel ID (Məs: partner-image-1)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]})]},t.index)})})]}),H.id==="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Pt,{size:16})," Qaydalar Sekmələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Cs(),children:[e.jsx(J,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Fs.map((t,s)=>{const i=s>0,r=s<Fs.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px 170px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.title,onChange:n=>fe(s,"title",n.target.value),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.id,onChange:n=>fe(s,"id",n.target.value),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:t.icon,onChange:n=>fe(s,"icon",n.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:ss.map(n=>e.jsx("option",{value:n,children:n},n))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>Tt(s,"up"),disabled:!i,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:i?"#334155":"#cbd5e1"},children:e.jsx(mt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>Tt(s,"down"),disabled:!r,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:r?"#334155":"#cbd5e1"},children:e.jsx(ht,{size:14})}),e.jsx("button",{title:"Sekməni sil",onClick:()=>ks(s),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ne,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:t.docName||"",onChange:n=>fe(s,"docName",n.target.value),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.docButton||"",onChange:n=>fe(s,"docButton",n.target.value),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(xe,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:t.docUrl||"",onChange:n=>fe(s,"docUrl",n.target.value),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-current-${s}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async n=>{const x=n.target.files?.[0];x&&(await Ds(x,s),n.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-current-${s}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(t.items||[]).map((n,x)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:n.title,onChange:c=>Rt(s,x,"title",c.target.value),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{title:"Maddəni sil",onClick:()=>_s(s,x),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ne,{size:14})})]}),e.jsx("textarea",{rows:3,value:n.desc,onChange:c=>Rt(s,x,"desc",c.target.value),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-item-${t.index}-${n.index}`)),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Is(s),children:[e.jsx(J,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-${t.index}-${t.id}`)})})]}),H.id!=="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ja,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ut("text"),children:[e.jsx(J,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:Ct.length===0&&Y?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):H?.id==="contactpage"?mi.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((s,i)=>Ks(s,i))]},t.title)):Ct.map((t,s)=>Ks(t,s))})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ee,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ut("image"),children:[e.jsx(J,{size:14})," Yeni Şəkil Yeri"]})]}),kt.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:800,color:"#64748b",marginBottom:"8px"},children:"Komponent Daxili Önizləmə (Sıra ilə)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:kt.map((t,s)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",background:"#fff"},children:[e.jsx("div",{style:{height:"84px",background:"#f8fafc"},children:t.path?e.jsx("img",{src:t.path,alt:t.alt||`Preview ${s+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"11px"},children:"Şəkil yoxdur"})}),e.jsxs("div",{style:{padding:"6px 8px",fontSize:"10px",color:"#475569",fontWeight:700},children:["#",s+1," • ",t.id]})]},`preview-${t.id}`))})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:kt.length>0?kt.map((t,s)=>{const i=H?.images||[],r=i.findIndex(c=>c.id===t.id),n=r>0,x=r>=0&&r<i.length-1;return e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>Ns("image",t.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ne,{size:12})}),e.jsxs("div",{style:{position:"absolute",right:"40px",top:"8px",zIndex:10,display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı daşı",onClick:()=>St("image",t.id,"up"),disabled:!n,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:n?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:n?"pointer":"not-allowed"},children:e.jsx(mt,{size:12})}),e.jsx("button",{title:"Aşağı daşı",onClick:()=>St("image",t.id,"down"),disabled:!x,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:x?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:x?"pointer":"not-allowed"},children:e.jsx(ht,{size:12})})]}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:t.path&&(t.path.startsWith("http")||t.path.startsWith("/"))?e.jsx("img",{src:t.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(Ee,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginBottom:"6px"},children:["Sıra: ",s+1]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:t.path,onChange:c=>{if(o<0||o>=a.length)return;const d=[...a],p=d[o];if(!p)return;const y=p.images.findIndex(N=>N.id===t.id);y!==-1&&(p.images[y].path=c.target.value,l(d))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>Os(o,t.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(xe,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${t.id}`,style:{display:"none"},accept:"image/*",onChange:c=>$a(c,o,t.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${t.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(J,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:t.alt,onChange:c=>Es(o,t.id,c.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},t.id)}):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:Y?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(Ee,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(J,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=async s=>{const i=s.target.files?.[0];if(!i)return;const r=await $e(i);if(r&&o>=0&&o<a.length){const n=[...a],x=n[o];if(x){const c=`img-${x.images.length}-${Date.now()}`;x.images.push({id:c,path:r,alt:"",type:"local"}),l(n),E.success("Yeni şəkil əlavə edildi")}}},t.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=`img-${(H.images||[]).length}`;Ye({pageIdx:o,imgId:t}),V(!0),M(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx(Pt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})})}),j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>m(!1),children:e.jsx(ds,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:Te,onChange:t=>Re(t.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>m(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:za,children:"Əlavə et"})]})]})}),D&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>M(!1),children:e.jsx(ds,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:ae.length>0?ae.map((t,s)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>qa(t),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:t.split("/").pop()})]},s)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>M(!1),children:"Bağla"})})]})})]})},Oa="forsaj_admin_user",Da="forsaj_admin_token",xs="forsaj:session-expired",bt=()=>{const a=localStorage.getItem(Da);return!a||a==="null"||a==="undefined"?null:a},Se=()=>{localStorage.removeItem(Oa),localStorage.removeItem(Da),window.dispatchEvent(new Event(xs))},Ql=({currentUser:a})=>{const[l,o]=g.useState([]),[h,b]=g.useState(!0),[v,f]=g.useState(!1),[S,k]=g.useState(null),I=async()=>{try{const m=bt();if(!m){Se();return}const D=await fetch("/api/users",{headers:{Authorization:`Bearer ${m}`}});if(D.status===401||D.status===403){Se(),E.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(!D.ok)throw new Error("Yükləmə uğursuz oldu");const M=await D.json();o(M||[])}catch{E.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{b(!1)}};g.useEffect(()=>{I()},[]);const B=async m=>{if(m.preventDefault(),!S?.username||!S?.name||!S?.id&&!S?.password){E.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const D=bt();if(!D){Se();return}const M=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(S)});if(M.status===401||M.status===403){Se(),E.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(M.ok)E.success(S.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),f(!1),k(null),I();else{const _=await M.json();E.error(_.error||"Xəta baş verdi")}}catch{E.error("Serverlə bağlantı kəsildi")}},w=async m=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const D=bt();if(!D){Se();return}const M=await fetch(`/api/users/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}});if(M.status===401||M.status===403){Se(),E.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(M.ok)E.success("İstifadəçi silindi"),I();else{const _=await M.json();E.error(_.error||"Silmək mümkün olmadı")}}catch{E.error("Serverlə bağlantı kəsildi")}},j=(m=null)=>{k(m?{...m}:{username:"",name:"",password:"",role:"secondary"}),f(!0)};return h?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),a.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>j(),children:[e.jsx(Mi,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:l.map(m=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${m.name}&background=${m.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:m.name}),e.jsxs("div",{className:`role-badge ${m.role||"secondary"}`,children:[e.jsx(la,{size:10})," ",m.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:m.name}),e.jsxs("span",{children:["@",m.username||"username"]})]}),a.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>j(m),title:"Düzəliş et",children:e.jsx(wi,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>w(m.id.toString()),title:"Sil",children:e.jsx(ne,{size:16})})]})]},m.id))}),v&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:S?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>f(!1),children:e.jsx(ds,{size:20})})]}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(vt,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:S?.name||"",onChange:m=>k({...S,name:m.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(vt,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:S?.username||"",onChange:m=>k({...S,username:m.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(cs,{size:14})," Şifrə ",S?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:S?.password||"",onChange:m=>k({...S,password:m.target.value}),placeholder:"••••••••",required:!S?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(la,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:S?.role||"secondary",onChange:m=>k({...S,role:m.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),S?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx(zi,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>f(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(fs,{size:18})," Yadda Saxla"]})]})]})]})})]})},Vl=()=>{const[a,l]=g.useState(!1),o=async()=>{l(!0);const b=E.loading("Front qovluğu skan edilir...");try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error("Skan xətası");E.success("Skan tamamlandı! Panel yenilənir...",{id:b}),setTimeout(()=>window.location.reload(),1500)}catch{E.error("Skan uğursuz oldu!",{id:b})}finally{l(!1)}},h=[{id:1,title:"Sitemap Faylını Yaradın",description:"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.",path:"public/sitemap.json",icon:Bi},{id:2,title:"Front Layihəsini Sinxronlaşdırın",description:"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.",path:"/front/src/pages",icon:Ui},{id:3,title:"Sistem Ayarlarını Tənzimləyin",description:"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.",path:"Sistem Ayarları",icon:ga}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:"Forsaj Club İdarəetmə"})]}),e.jsx("h1",{children:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq"}),e.jsx("p",{children:"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin."})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:h.map(b=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(b.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:b.title}),e.jsx("p",{children:b.description}),e.jsx("span",{className:"step-badge",children:b.path})]})]},b.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(Pi,{size:32}),e.jsx("h4",{children:"Yeni Səhifə Əlavə Et"}),e.jsx("p",{children:"Dinamik olaraq yeni admin səhifəsi yaradın."})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(hs,{size:32}),e.jsx("h4",{children:"Front Skaner"}),e.jsx("p",{children:"/front qosulub. Skanlamağa hazırdır."}),e.jsx("button",{className:`scan-btn ${a?"loading":""}`,onClick:o,disabled:a,children:a?e.jsx(Aa,{className:"animate-spin"}):"İndi Skan Et"})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Məlumat:"})," /front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək."]})})]})},Wl=({onLogin:a})=>{const[l,o]=g.useState(!0),[h,b]=g.useState(""),[v,f]=g.useState(""),[S,k]=g.useState(""),[I,B]=g.useState(!1);g.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&o(!1)}catch(m){console.error("Setup check failed",m)}})()},[]);const w=async j=>{j.preventDefault();const m=h.trim(),D=S.trim();if(!m||!v.trim()){E.error("İstifadəçi adı və şifrə mütləqdir");return}if(!l&&!D){E.error("Tam ad mütləqdir");return}if(!l&&v.length<6){E.error("Şifrə ən azı 6 simvol olmalıdır");return}B(!0);try{const V=await fetch(l?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l?{username:m,password:v}:{username:m,password:v,name:D})}),ae=await V.json();if(!V.ok)throw new Error(ae.error||(l?"Giriş uğursuz oldu":"Quraşdırma uğursuz oldu"));l?(localStorage.setItem("forsaj_admin_token",ae.token),localStorage.setItem("forsaj_admin_user",JSON.stringify(ae.user)),a(ae.user),E.success("Xoş gəldiniz!")):(E.success("Baza uğurla başladıldı! İndi daxil ola bilərsiniz."),o(!0))}catch(M){E.error(M.message||"Əməliyyat uğursuz oldu")}finally{B(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:l?e.jsx(Fi,{size:40,className:"logo-icon"}):e.jsx(cs,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:l?"Forsaj İdarəetmə Paneli":"Sistem Quraşdırılması"}),e.jsx("p",{children:l?"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin":"İlkin Baş Admin hesabını yaradaraq sistemi başladın"})]}),e.jsxs("form",{className:"login-form",onSubmit:w,children:[!l&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(vt,{size:16})," Tam Adınız"]}),e.jsx("input",{type:"text",value:S,onChange:j=>k(j.target.value),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(vt,{size:16})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:h,onChange:j=>b(j.target.value),placeholder:"Məs: admin",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(cs,{size:16})," Şifrə"]}),e.jsx("input",{type:"password",value:v,onChange:j=>f(j.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:I,children:I?e.jsxs("div",{className:"loader-container",children:[e.jsx(Aa,{className:"animate-spin",size:20}),e.jsx("span",{children:"Gözləyin..."})]}):l?"Daxil ol":"Sistemi başlat"})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin."})})]})})},Zl=()=>{const[a,l]=g.useState([]),[o,h]=g.useState(null),[b,v]=g.useState(!0),[f,S]=g.useState("all"),k=async()=>{const m=localStorage.getItem("forsaj_admin_token");try{const D=await fetch("/api/applications",{headers:{Authorization:`Bearer ${m}`}});if(D.ok){const M=await D.json();l(M)}}catch{E.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{v(!1)}};g.useEffect(()=>{k()},[]);const I=async m=>{const D=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${m}/read`,{method:"POST",headers:{Authorization:`Bearer ${D}`}})).ok&&(l(_=>_.map(V=>V.id===m?{...V,status:"read"}:V)),o?.id===m&&h(_=>_?{..._,status:"read"}:null))}catch(M){console.error(M)}},B=async m=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const D=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}})).ok&&(l(_=>_.filter(V=>V.id!==m)),o?.id===m&&h(null),E.success("Müraciət silindi"))}catch{E.error("Silinmə zamanı xəta baş verdi")}},w=a.filter(m=>f==="unread"?m.status==="unread":f==="read"?m.status==="read":!0),j=m=>{try{const D=JSON.parse(m);return e.jsx("div",{className:"app-details-grid",children:Object.entries(D).map(([M,_])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[M.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String(_)})]},M))})}catch{return e.jsx("div",{className:"detail-text",children:m})}};return b?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:f==="all"?"active":"",onClick:()=>S("all"),children:"Hamısı"}),e.jsx("button",{className:f==="unread"?"active":"",onClick:()=>S("unread"),children:"Oxunmamış"}),e.jsx("button",{className:f==="read"?"active":"",onClick:()=>S("read"),children:"Oxunmuş"})]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:w.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):w.map(m=>e.jsxs("div",{className:`application-item ${m.status} ${o?.id===m.id?"selected":""}`,onClick:()=>{h(m),m.status==="unread"&&I(m.id)},children:[e.jsx("div",{className:"app-item-icon",children:m.status==="unread"?e.jsx(ya,{className:"icon-unread"}):e.jsx(Yi,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:m.name}),e.jsx("span",{className:"app-item-date",children:new Date(m.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:m.type})]}),e.jsx(Ki,{size:16,className:"chevron"})]},m.id))}),e.jsx("div",{className:"application-details",children:o?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${o.status}`,children:o.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>B(o.id),children:e.jsx(ne,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(vt,{size:16})," Göndərən"]}),e.jsx("p",{children:o.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(va,{size:16})," Əlaqə"]}),e.jsx("p",{children:o.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(gt,{size:16})," Kateqoriya"]}),e.jsx("p",{children:o.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:j(o.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(ba,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},xa="forsaj_general_hidden_cards",Xl={general:"SİSTEM AYARLARI",marquee:"MARQUEE"},Jl=()=>{const[a,l]=g.useState([]),[o,h]=g.useState(!1),[b,v]=g.useState(!0),[f,S]=g.useState(()=>{try{const u=localStorage.getItem(xa),L=u?JSON.parse(u):[];return Array.isArray(L)?L:[]}catch{return[]}}),k=ms(),B=new URLSearchParams(k.search).get("tab")==="hidden",w=u=>f.includes(u),j=u=>B?w(u):!w(u),m=u=>`settings-card shadow-sm${j(u)?"":" settings-card-hidden"}`,D=u=>{S(L=>L.includes(u)?L:[...L,u])},M=u=>{S(L=>L.filter(P=>P!==u))},_=u=>{const L=w(u),P=B&&L;return e.jsx("button",{type:"button",className:"card-visibility-btn",onClick:()=>L?M(u):D(u),title:P?"Kartı geri gətir":"Kartı gizlət","aria-label":P?"Kartı geri gətir":"Kartı gizlət",children:P?e.jsx(fa,{size:16}):e.jsx(qi,{size:16})})},V=async()=>{try{const L=await(await fetch("/api/site-content")).json();l(L),v(!1)}catch{E.error("Ayarlar yüklənərkən xəta baş verdi")}};g.useEffect(()=>{V()},[]),g.useEffect(()=>{localStorage.setItem(xa,JSON.stringify(f))},[f]),g.useEffect(()=>{if(b)return;const L=new URLSearchParams(k.search).get("tab"),U=L?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"social-links",stats:"stats",marquee:"marquee-settings"}[L]:"";U&&setTimeout(()=>{const q=document.querySelector(`[data-settings-section="${U}"]`);q&&q.scrollIntoView({behavior:"smooth",block:"start"})},50)},[k.search,b]);const ae=(u,L)=>{let P=u.findIndex(U=>U.id===L);return P===-1&&(u.push({id:L,title:Xl[L]||L.toUpperCase(),sections:[],images:[],active:!0}),P=u.length-1),Array.isArray(u[P].sections)||(u[P].sections=[]),Array.isArray(u[P].images)||(u[P].images=[]),P},O=(u,L,P=!1,U="general")=>{const q=[...a],Z=ae(q,U);if(P){const oe=q[Z].images.findIndex(ve=>ve.id===u);oe===-1?q[Z].images.push({id:u,path:L,alt:u,type:"local"}):q[Z].images[oe].path=L}else{const oe=q[Z].sections.findIndex(ve=>ve.id===u);oe===-1?q[Z].sections.push({id:u,type:"text",label:u,value:L}):q[Z].sections[oe].value=L}l(q)},C=(u,L=!1,P="general")=>{const U=a.find(q=>q.id===P);return U?L?U.images.find(q=>q.id===u)?.path||"":U.sections.find(q=>q.id===u)?.value||"":""},Ye=(u,L=!0)=>{const P=a.find(U=>U.id===u);return!P||P.active===void 0?L:!!P.active},Te=(u,L)=>{const P=[...a],U=ae(P,u);P[U].active=L,l(P)},Re=()=>{const u=a.find(L=>L.id==="marquee");return u&&(u.sections?.find(L=>L.id==="MARQUEE_TEXT")?.value||u.sections?.[0]?.value)||""},Y=u=>{const L=[...a],P=ae(L,"marquee"),U=L[P].sections,q=U.findIndex(Z=>Z.id==="MARQUEE_TEXT");q>=0?U[q].value=u:U.length>0?U[0].value=u:U.push({id:"MARQUEE_TEXT",type:"text",label:"MARQUEE_TEXT",value:u}),l(L)},Le=u=>{const L=a.find(P=>P.id==="marquee");return L&&L.sections?.find(P=>P.id===u)?.value||""},le=(u,L)=>{const P=[...a],U=ae(P,"marquee"),q=P[U].sections,Z=q.findIndex(oe=>oe.id===u);Z>=0?q[Z].value=L:q.push({id:u,type:"text",label:u,value:L}),l(P)},Ze=()=>Le("MARQUEE_LINK"),we=u=>le("MARQUEE_LINK",u),Xe=()=>{const u=(Le("MARQUEE_LINK_ACTIVE")||"").toString().trim().toLowerCase();return u==="1"||u==="true"||u==="yes"||u==="on"},Q=u=>{le("MARQUEE_LINK_ACTIVE",u?"1":"0")},Ce=async(u,L,P="general")=>{const U=u.target.files?.[0];if(!U)return;const q=new FormData;q.append("image",U);const Z=E.loading("Şəkil yüklənir...");try{const oe=await fetch("/api/upload-image",{method:"POST",body:q});if(oe.ok){const ve=await oe.json();O(L,ve.url,!0,P),E.success("Şəkil yükləndi",{id:Z})}}catch{E.error("Yükləmə xətası",{id:Z})}},ke=async()=>{h(!0);const u=E.loading("Yadda saxlanılır...");try{await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),E.success("Ayarlar qeyd edildi!",{id:u})}catch{E.error("Xəta baş verdi",{id:u})}finally{h(!1)}};return b?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:B?"Gizlədilmiş ayar kartları":"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:ke,disabled:o,children:[e.jsx(fs,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),B&&f.length===0&&e.jsx("div",{className:"hidden-settings-empty",children:"Gizlənmiş kart yoxdur. Kartları gizlətmək üçün normal görünüşdə kartın üzərinə gəlib göz ikonuna klikləyin."}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:m("seo-basic"),"data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(xe,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"}),_("seo-basic")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:C("SEO_TITLE"),onChange:u=>O("SEO_TITLE",u.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:C("SEO_DESCRIPTION"),onChange:u=>O("SEO_DESCRIPTION",u.target.value),placeholder:"Sayt haqqında qısa məlumat..."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:C("SEO_KEYWORDS"),onChange:u=>O("SEO_KEYWORDS",u.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:C("SEO_CANONICAL_URL"),onChange:u=>O("SEO_CANONICAL_URL",u.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:C("SEO_ROBOTS"),onChange:u=>O("SEO_ROBOTS",u.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:C("SEO_AUTHOR"),onChange:u=>O("SEO_AUTHOR",u.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:C("SEO_LANGUAGE"),onChange:u=>O("SEO_LANGUAGE",u.target.value),placeholder:"az"})]})]})]}),e.jsxs("div",{className:m("seo-social"),"data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(xe,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"}),_("seo-social")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:C("SEO_OG_TITLE"),onChange:u=>O("SEO_OG_TITLE",u.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:C("SEO_OG_DESCRIPTION"),onChange:u=>O("SEO_OG_DESCRIPTION",u.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:C("SEO_OG_URL"),onChange:u=>O("SEO_OG_URL",u.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:C("SEO_TWITTER_CARD"),onChange:u=>O("SEO_TWITTER_CARD",u.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:C("SEO_TWITTER_SITE"),onChange:u=>O("SEO_TWITTER_SITE",u.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:C("SEO_TWITTER_CREATOR"),onChange:u=>O("SEO_TWITTER_CREATOR",u.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:C("SEO_OG_IMAGE",!0)?e.jsx("img",{src:C("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:u=>Ce(u,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:C("SEO_OG_IMAGE",!0),onChange:u=>O("SEO_OG_IMAGE",u.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:m("seo-verify"),"data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ra,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"}),_("seo-verify")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:C("SEO_GOOGLE_VERIFICATION"),onChange:u=>O("SEO_GOOGLE_VERIFICATION",u.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:C("SEO_BING_VERIFICATION"),onChange:u=>O("SEO_BING_VERIFICATION",u.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:C("SEO_YANDEX_VERIFICATION"),onChange:u=>O("SEO_YANDEX_VERIFICATION",u.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:m("branding"),"data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ee,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"}),_("branding")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:C("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:C("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:u=>Ce(u,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:C("SITE_LOGO_DARK",!0)?e.jsx("img",{src:C("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:u=>Ce(u,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:m("contact-details"),"data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(Ee,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"}),_("contact-details")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:C("CONTACT_ADDRESS_1"),onChange:u=>O("CONTACT_ADDRESS_1",u.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:C("CONTACT_ADDRESS_2"),onChange:u=>O("CONTACT_ADDRESS_2",u.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:C("CONTACT_HOURS"),onChange:u=>O("CONTACT_HOURS",u.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:C("CONTACT_PHONE"),onChange:u=>O("CONTACT_PHONE",u.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:C("CONTACT_EMAIL"),onChange:u=>O("CONTACT_EMAIL",u.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:m("departments"),"data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsx($i,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"}),_("departments")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:C("DEPT_HQ_EMAIL"),onChange:u=>O("DEPT_HQ_EMAIL",u.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:C("DEPT_PR_EMAIL"),onChange:u=>O("DEPT_PR_EMAIL",u.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:C("DEPT_TECH_EMAIL"),onChange:u=>O("DEPT_TECH_EMAIL",u.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:m("social-links"),"data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(xe,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"}),_("social-links")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsx("input",{type:"text",value:C("SOCIAL_INSTAGRAM"),onChange:u=>O("SOCIAL_INSTAGRAM",u.target.value),placeholder:"https://instagram.com/forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsx("input",{type:"text",value:C("SOCIAL_YOUTUBE"),onChange:u=>O("SOCIAL_YOUTUBE",u.target.value),placeholder:"https://youtube.com/@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsx("input",{type:"text",value:C("SOCIAL_FACEBOOK"),onChange:u=>O("SOCIAL_FACEBOOK",u.target.value),placeholder:"https://facebook.com/forsajclub"})]})]})]}),e.jsxs("div",{className:m("marquee-settings"),"data-settings-section":"marquee-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ha,{size:20,className:"text-amber-500"}),e.jsx("h2",{children:"Marquee Ayarları"}),_("marquee-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:Ye("marquee",!0),onChange:u=>Te("marquee",u.target.checked)}),e.jsx("span",{children:"Marquee aktivdir (səhifədə göstər)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee mətni"}),e.jsx("textarea",{value:Re(),onChange:u=>Y(u.target.value),placeholder:"Məs: FORSAJ CLUB // OFFROAD MOTORSPORT HUB"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Link əlavə et"}),e.jsx("input",{type:"text",value:Ze(),onChange:u=>we(u.target.value),placeholder:"Məs: /events və ya https://forsaj.az/events"})]}),e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:Xe(),onChange:u=>Q(u.target.checked)}),e.jsx("span",{children:"Link aktivdir (aktiv/deaktiv)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee arxa plan şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"90px"},children:C("marquee-image",!0,"marquee")?e.jsx("img",{src:C("marquee-image",!0,"marquee"),alt:"Marquee Background"}):e.jsx("div",{className:"no-logo",children:"Arxa plan şəkli yoxdur"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(Dt,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:u=>Ce(u,"marquee-image","marquee")})]}),e.jsx("input",{type:"text",value:C("marquee-image",!0,"marquee"),onChange:u=>O("marquee-image",u.target.value,!0,"marquee"),placeholder:"https://forsaj.az/marquee-bg.jpg"})]})]})]})]}),e.jsxs("div",{className:m("stats"),"data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsx(ra,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"}),_("stats")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:C("STATS_PILOTS"),onChange:u=>O("STATS_PILOTS",u.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:C("STATS_RACES"),onChange:u=>O("STATS_RACES",u.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:C("STATS_YOUTH"),onChange:u=>O("STATS_YOUTH",u.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},nt=a=>a.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),er={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Sayt Məzmunu",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Sistem Ayarları"},tr={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},sr=a=>{const l=er[a.title]||a.title;return{...a,title:l,children:a.children?.map(o=>({...o,title:tr[o.title]||o.title}))}},Ma=a=>a&&(a==="/frontend-settings"||a==="/admin/frontend-settings"||a==="/general-settings"||a==="/admin/general-settings"?"/general-settings?tab=general":a),wa=a=>({...a,path:Ma(a.path),children:a.children?.map(wa)}),ns=(a=[])=>{const l=new Map;return a.forEach(o=>{const h=`${nt(o.title||"")}|${nt(o.path||"")}`;h&&l.set(h,o)}),Array.from(l.values())},ma=a=>{const l=nt(a?.title||""),o=nt(Ma(a?.path)||"");return l==="sistem ayarlari"||o==="/frontend-settings"||o==="/admin/frontend-settings"||o==="/general-settings"||o==="/admin/general-settings"||o.startsWith("/general-settings?")},ar=()=>{const[a,l]=g.useState(null),[o,h]=g.useState([]),[b,v]=g.useState(0),[f,S]=g.useState(!0);if(g.useEffect(()=>{const I=localStorage.getItem(Oa),B=bt();if(I&&B)try{l(JSON.parse(I))}catch{Se(),l(null)}else Se(),l(null);S(!1)},[]),g.useEffect(()=>{const I=()=>l(null);return window.addEventListener(xs,I),()=>window.removeEventListener(xs,I)},[]),g.useEffect(()=>{const I=async()=>{const w=bt();if(!w){Se();return}try{let j=b;const m=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${w}`}});if(m.status===401||m.status===403){Se();return}if(m.ok){const{count:M}=await m.json();j=Number(M)||0,v(j)}const D=await fetch(`/api/sitemap?v=${Date.now()}`);if(D.ok){const M=await D.json();let _=Array.isArray(M)?M:[];_=_.map(Y=>sr(Y)).map(Y=>wa(Y));const V=_.find(Y=>Y.path==="/applications");V?j>0?V.badge={text:j.toString(),color:"bg-red-500"}:delete V.badge:_=[..._,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:j>0?{text:j.toString(),color:"bg-red-500"}:void 0}];const ae=[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Parametrlər",path:"/general-settings?tab=general",icon:"Sliders"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"},{title:"Marquee Ayarları",path:"/general-settings?tab=marquee",icon:"Activity"},{title:"Tətbiq Ayarları",path:"/general-settings?tab=stats",icon:"Activity"},{title:"Gizlənən Ayarlar",path:"/general-settings?tab=hidden",icon:"Eye"}],O=_.filter(Y=>ma(Y));_=_.filter(Y=>!ma(Y));const Ye={title:"Sistem Ayarları",icon:"Settings",path:"/general-settings?tab=general",children:ns([...ae,...O.flatMap(Y=>Y.children||[])])},Te=_.findIndex(Y=>nt(Y.path||"")==="/users-management");Te>=0?_.splice(Te+1,0,Ye):_.push(Ye);const Re=new Map;for(const Y of _){const Le=nt(Y.title||"");if(!Le)continue;const le=Re.get(Le);if(!le){Re.set(Le,{...Y,children:ns(Y.children||[])});continue}Re.set(Le,{...le,path:le.path||Y.path,icon:le.icon||Y.icon,badge:le.badge||Y.badge,children:ns([...le.children||[],...Y.children||[]])})}h(Array.from(Re.values()))}}catch(j){console.error("Fetch data failed",j)}finally{S(!1)}};I();const B=setInterval(I,3e4);return()=>clearInterval(B)},[a]),f)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:"Yüklənir..."});const k=!o||o.length===0;return e.jsx(bi,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(wl,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),a?e.jsxs(e.Fragment,{children:[e.jsx(Gi,{menuItems:o,user:a,onLogout:()=>{Se(),l(null)}}),e.jsxs("main",{className:"main-content",children:[e.jsx(Qi,{user:a}),e.jsx("div",{className:"content-body",children:e.jsx(vi,{children:k?e.jsx(at,{path:"*",element:e.jsx(Vl,{})}):e.jsxs(e.Fragment,{children:[e.jsx(at,{path:"/",element:e.jsx(Gl,{})}),e.jsx(at,{path:"/applications",element:e.jsx(Zl,{})}),e.jsx(at,{path:"/general-settings",element:e.jsx(Jl,{})}),e.jsx(at,{path:"/users-management",element:e.jsx(Ql,{currentUser:a})}),e.jsx(at,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:"Səhifə tapılmadı"})})})]})})})]})]}):e.jsx(Wl,{onLogin:l})]})})};yi.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(ar,{})}));
