import{u as Hi,j as e,R as jl,N as Tl,r as g,B as El,a as Al,b as Tt,d as Nl}from"./vendor-react-B0Xi4u7S.js";import{H as Rl,L as Ll,P as bi,A as ss,E as ls,G as _e,S as ns,I as rs,M as _l,U as ds,a as os,B as Il,V as Ui,b as ze,c as Cl,T as Pt,C as cs,d as mi,e as Ol,F as wt,f as kl,g as Dl,h as Ml,i as us,j as Bl,k as zl,l as Pl,m as wl,n as ps,o as Vi,p as ce,q as ye,r as Ul,s as Mt,t as Bt,X as Fi,Z as ms,u as Fl,v as Yi,w as Yl,x as xs,y as ql,z as Kl,D as Ft,J as qi,K as $l,N as Gl,O as Hl,Q as Vl,R as hs,W as Ql,Y as Wl,_ as Zl,$ as ri,a0 as qa,a1 as Ka,a2 as Xl}from"./vendor-ui-Bw87dLZH.js";import{i as Jl}from"./vendor-editor-BvsJV83P.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))p(v);new MutationObserver(v=>{for(const j of v)if(j.type==="childList")for(const y of j.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&p(y)}).observe(document,{childList:!0,subtree:!0});function o(v){const j={};return v.integrity&&(j.integrity=v.integrity),v.referrerPolicy&&(j.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?j.credentials="include":v.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function p(v){if(v.ep)return;v.ep=!0;const j=o(v);fetch(v.href,j)}})();const en=({menuItems:a,user:n,onLogout:o})=>{const p=n?.role||"secondary",v=Hi(),j=C=>(C||"").toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),y=C=>C&&(C==="/frontend-settings"||C==="/admin/frontend-settings"||C==="/general-settings"||C==="/admin/general-settings"?"/general-settings?tab=general":C),E={Layout:bi,Home:Pl,Menu:zl,Maximize:Bl,Type:us,Star:Ml,Anchor:Dl,Info:kl,FileText:wt,List:Ol,Calendar:mi,Clock:cs,Trophy:Pt,Award:Cl,Image:ze,Video:Ui,BookOpen:Il,Phone:os,Users:ds,Monitor:_l,Inbox:rs,Settings:ns,Globe:_e,Eye:ls,Activity:ss},D=({name:C,className:O})=>{const L=E[C];return L?e.jsx(L,{className:O,size:18}):e.jsx(bi,{className:O,size:18})},M=C=>{const O=y(C);return O?O.includes("?")?v.pathname+v.search===O:v.pathname===O:!1},Y=(C,O,L)=>e.jsx("li",{className:"sidebar-item",children:e.jsxs(Tl,{to:y(L||C.path)||"#",className:()=>`sidebar-link ${M(y(L||C.path))?"active":""}`,children:[(C.icon||O)&&e.jsx(D,{name:C.icon||O||"",className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:C.title}),C.badge&&e.jsx("span",{className:`badge ${C.badge.color} sidebar-badge`,children:C.badge.text})]})}),F=C=>{const O=["/frontend-settings","/general-settings","/users-management"],L=new Set(["/","/admin"]);return C.map(Ee=>{const ge=Ee.children?F(Ee.children):void 0,Ne=y(Ee.path),q=(Ne||"").toLowerCase(),me=j(Ee.title||"");return p==="secondary"&&O.some(Re=>Ne?.toLowerCase().startsWith(Re))||L.has(q)||me==="panel ana sehife"||me==="dashboard"||!Ne&&(!ge||ge.length===0)?null:{...Ee,path:Ne,children:ge}}).filter(Boolean)},B=C=>{const O=new Set;return C.filter(L=>{const _=j(L.title||"");return!_||O.has(_)?!1:(O.add(_),!0)})},S=C=>{const O=j(C);return O==="ana sehife / naviqasiya / footer"?"Ana Səhifə":O==="sosyal"?"Sosial Media":C},$=C=>{const O=y(C.path||"")||"";return O.includes("page=privacypolicypage")||O.includes("page=termsofservicepage")?"legal":O.startsWith("/users-management")||O.startsWith("/general-settings")||O.startsWith("/applications")?"management":"content"},z=C=>{const O=y(C.path||"")||"",L=j(C.title||"");return O.includes("page=home")?10:O.includes("page=about")?20:O.includes("mode=news")?30:O.includes("mode=events")?40:O.includes("mode=drivers")?50:O.includes("mode=videos")?60:O.includes("page=rulespage")?70:O.includes("page=contactpage")?80:O.includes("page=privacypolicypage")?90:O.includes("page=termsofservicepage")?100:O.startsWith("/users-management")?110:O.includes("tab=general")?120:O.includes("tab=social")||L==="sosial media"?130:O.startsWith("/applications")?140:999},w={content:"SAYT MƏZMUNU",legal:"HÜQUQİ SƏHİFƏLƏR",management:"İDARƏETMƏ"},ae=B(F(a)).map(C=>({...C,title:S(C.title)})).sort((C,O)=>z(C)-z(O)),te={content:[],legal:[],management:[]};return ae.forEach(C=>{te[$(C)].push(C)}),e.jsxs("aside",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsxs("div",{className:"brand-logo",children:[e.jsx(Rl,{className:"logo-icon",size:24,fill:"currentColor"}),e.jsxs("span",{className:"brand-name",children:["FORSAJ",e.jsx("span",{children:"PANEL"})]})]})}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:"ƏSAS NAVİQASİYA"}),["content","legal","management"].map(C=>{const O=te[C];return O.length?e.jsxs("div",{className:"sidebar-group",children:[e.jsx("div",{className:"sidebar-section-label sidebar-subsection-label",children:w[C]}),e.jsx("ul",{className:"sidebar-menu",children:O.map(L=>{const _=L.children?.find(ge=>!!ge.path)?.path,Ee=L.path||_;return e.jsx(jl.Fragment,{children:Y(L,L.icon,Ee)},`${L.title}-${Ee||"no-path"}`)})})]},C):null}),ae.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:"Menyu boşdur"})})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:o,children:[e.jsx(Ll,{size:18}),e.jsx("span",{children:"Çıxış"})]})})]})},tn=({user:a})=>e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(wl,{size:16})," Sayta Bax"]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:a?.name||"Forsaj İdarəçisi"}),e.jsx("span",{className:"profile-status",children:a?.role==="master"?"Baş Admin":"Sayt Redaktoru"})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${a?.name||"Admin"}&background=random`,alt:"Profil"})]})]})});let an={data:""},sn=a=>{if(typeof window=="object"){let n=(a?a.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(a||document.head).appendChild(n),n.firstChild}return a||an},ln=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nn=/\/\*[^]*?\*\/|  +/g,$a=/\n+/g,st=(a,n)=>{let o="",p="",v="";for(let j in a){let y=a[j];j[0]=="@"?j[1]=="i"?o=j+" "+y+";":p+=j[1]=="f"?st(y,j):j+"{"+st(y,j[1]=="k"?"":n)+"}":typeof y=="object"?p+=st(y,n?n.replace(/([^,])+/g,E=>j.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,D=>/&/.test(D)?D.replace(/&/g,E):E?E+" "+D:D)):j):y!=null&&(j=/^--/.test(j)?j:j.replace(/[A-Z]/g,"-$&").toLowerCase(),v+=st.p?st.p(j,y):j+":"+y+";")}return o+(n&&v?n+"{"+v+"}":v)+p},Qe={},fs=a=>{if(typeof a=="object"){let n="";for(let o in a)n+=o+fs(a[o]);return n}return a},rn=(a,n,o,p,v)=>{let j=fs(a),y=Qe[j]||(Qe[j]=(D=>{let M=0,Y=11;for(;M<D.length;)Y=101*Y+D.charCodeAt(M++)>>>0;return"go"+Y})(j));if(!Qe[y]){let D=j!==a?a:(M=>{let Y,F,B=[{}];for(;Y=ln.exec(M.replace(nn,""));)Y[4]?B.shift():Y[3]?(F=Y[3].replace($a," ").trim(),B.unshift(B[0][F]=B[0][F]||{})):B[0][Y[1]]=Y[2].replace($a," ").trim();return B[0]})(a);Qe[y]=st(v?{["@keyframes "+y]:D}:D,o?"":"."+y)}let E=o&&Qe.g?Qe.g:null;return o&&(Qe.g=Qe[y]),((D,M,Y,F)=>{F?M.data=M.data.replace(F,D):M.data.indexOf(D)===-1&&(M.data=Y?D+M.data:M.data+D)})(Qe[y],n,p,E),y},dn=(a,n,o)=>a.reduce((p,v,j)=>{let y=n[j];if(y&&y.call){let E=y(o),D=E&&E.props&&E.props.className||/^go/.test(E)&&E;y=D?"."+D:E&&typeof E=="object"?E.props?"":st(E,""):E===!1?"":E}return p+v+(y??"")},"");function yi(a){let n=this||{},o=a.call?a(n.p):a;return rn(o.unshift?o.raw?dn(o,[].slice.call(arguments,1),n.p):o.reduce((p,v)=>Object.assign(p,v&&v.call?v(n.p):v),{}):o,sn(n.target),n.g,n.o,n.k)}let gs,Ki,$i;yi.bind({g:1});let Xe=yi.bind({k:1});function on(a,n,o,p){st.p=n,gs=a,Ki=o,$i=p}function nt(a,n){let o=this||{};return function(){let p=arguments;function v(j,y){let E=Object.assign({},j),D=E.className||v.className;o.p=Object.assign({theme:Ki&&Ki()},E),o.o=/ *go\d+/.test(D),E.className=yi.apply(o,p)+(D?" "+D:"");let M=a;return a[0]&&(M=E.as||a,delete E.as),$i&&M[0]&&$i(E),gs(M,E)}return v}}var cn=a=>typeof a=="function",vi=(a,n)=>cn(a)?a(n):a,un=(()=>{let a=0;return()=>(++a).toString()})(),bs=(()=>{let a;return()=>{if(a===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");a=!n||n.matches}return a}})(),pn=20,Qi="default",vs=(a,n)=>{let{toastLimit:o}=a.settings;switch(n.type){case 0:return{...a,toasts:[n.toast,...a.toasts].slice(0,o)};case 1:return{...a,toasts:a.toasts.map(y=>y.id===n.toast.id?{...y,...n.toast}:y)};case 2:let{toast:p}=n;return vs(a,{type:a.toasts.find(y=>y.id===p.id)?1:0,toast:p});case 3:let{toastId:v}=n;return{...a,toasts:a.toasts.map(y=>y.id===v||v===void 0?{...y,dismissed:!0,visible:!1}:y)};case 4:return n.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(y=>y.id!==n.toastId)};case 5:return{...a,pausedAt:n.time};case 6:let j=n.time-(a.pausedAt||0);return{...a,pausedAt:void 0,toasts:a.toasts.map(y=>({...y,pauseDuration:y.pauseDuration+j}))}}},xi=[],ys={toasts:[],pausedAt:void 0,settings:{toastLimit:pn}},Fe={},Ss=(a,n=Qi)=>{Fe[n]=vs(Fe[n]||ys,a),xi.forEach(([o,p])=>{o===n&&p(Fe[n])})},js=a=>Object.keys(Fe).forEach(n=>Ss(a,n)),mn=a=>Object.keys(Fe).find(n=>Fe[n].toasts.some(o=>o.id===a)),Si=(a=Qi)=>n=>{Ss(n,a)},xn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hn=(a={},n=Qi)=>{let[o,p]=g.useState(Fe[n]||ys),v=g.useRef(Fe[n]);g.useEffect(()=>(v.current!==Fe[n]&&p(Fe[n]),xi.push([n,p]),()=>{let y=xi.findIndex(([E])=>E===n);y>-1&&xi.splice(y,1)}),[n]);let j=o.toasts.map(y=>{var E,D,M;return{...a,...a[y.type],...y,removeDelay:y.removeDelay||((E=a[y.type])==null?void 0:E.removeDelay)||a?.removeDelay,duration:y.duration||((D=a[y.type])==null?void 0:D.duration)||a?.duration||xn[y.type],style:{...a.style,...(M=a[y.type])==null?void 0:M.style,...y.style}}});return{...o,toasts:j}},fn=(a,n="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:a,pauseDuration:0,...o,id:o?.id||un()}),qt=a=>(n,o)=>{let p=fn(n,a,o);return Si(p.toasterId||mn(p.id))({type:2,toast:p}),p.id},pe=(a,n)=>qt("blank")(a,n);pe.error=qt("error");pe.success=qt("success");pe.loading=qt("loading");pe.custom=qt("custom");pe.dismiss=(a,n)=>{let o={type:3,toastId:a};n?Si(n)(o):js(o)};pe.dismissAll=a=>pe.dismiss(void 0,a);pe.remove=(a,n)=>{let o={type:4,toastId:a};n?Si(n)(o):js(o)};pe.removeAll=a=>pe.remove(void 0,a);pe.promise=(a,n,o)=>{let p=pe.loading(n.loading,{...o,...o?.loading});return typeof a=="function"&&(a=a()),a.then(v=>{let j=n.success?vi(n.success,v):void 0;return j?pe.success(j,{id:p,...o,...o?.success}):pe.dismiss(p),v}).catch(v=>{let j=n.error?vi(n.error,v):void 0;j?pe.error(j,{id:p,...o,...o?.error}):pe.dismiss(p)}),a};var gn=1e3,bn=(a,n="default")=>{let{toasts:o,pausedAt:p}=hn(a,n),v=g.useRef(new Map).current,j=g.useCallback((F,B=gn)=>{if(v.has(F))return;let S=setTimeout(()=>{v.delete(F),y({type:4,toastId:F})},B);v.set(F,S)},[]);g.useEffect(()=>{if(p)return;let F=Date.now(),B=o.map(S=>{if(S.duration===1/0)return;let $=(S.duration||0)+S.pauseDuration-(F-S.createdAt);if($<0){S.visible&&pe.dismiss(S.id);return}return setTimeout(()=>pe.dismiss(S.id,n),$)});return()=>{B.forEach(S=>S&&clearTimeout(S))}},[o,p,n]);let y=g.useCallback(Si(n),[n]),E=g.useCallback(()=>{y({type:5,time:Date.now()})},[y]),D=g.useCallback((F,B)=>{y({type:1,toast:{id:F,height:B}})},[y]),M=g.useCallback(()=>{p&&y({type:6,time:Date.now()})},[p,y]),Y=g.useCallback((F,B)=>{let{reverseOrder:S=!1,gutter:$=8,defaultPosition:z}=B||{},w=o.filter(C=>(C.position||z)===(F.position||z)&&C.height),ae=w.findIndex(C=>C.id===F.id),te=w.filter((C,O)=>O<ae&&C.visible).length;return w.filter(C=>C.visible).slice(...S?[te+1]:[0,te]).reduce((C,O)=>C+(O.height||0)+$,0)},[o]);return g.useEffect(()=>{o.forEach(F=>{if(F.dismissed)j(F.id,F.removeDelay);else{let B=v.get(F.id);B&&(clearTimeout(B),v.delete(F.id))}})},[o,j]),{toasts:o,handlers:{updateHeight:D,startPause:E,endPause:M,calculateOffset:Y}}},vn=Xe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yn=Xe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Sn=Xe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jn=nt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${a=>a.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Sn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Tn=Xe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,En=nt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${a=>a.secondary||"#e0e0e0"};
  border-right-color: ${a=>a.primary||"#616161"};
  animation: ${Tn} 1s linear infinite;
`,An=Xe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Nn=Xe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Rn=nt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${a=>a.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${An} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Nn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${a=>a.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ln=nt("div")`
  position: absolute;
`,_n=nt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,In=Xe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cn=nt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${In} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,On=({toast:a})=>{let{icon:n,type:o,iconTheme:p}=a;return n!==void 0?typeof n=="string"?g.createElement(Cn,null,n):n:o==="blank"?null:g.createElement(_n,null,g.createElement(En,{...p}),o!=="loading"&&g.createElement(Ln,null,o==="error"?g.createElement(jn,{...p}):g.createElement(Rn,{...p})))},kn=a=>`
0% {transform: translate3d(0,${a*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Dn=a=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${a*-150}%,-1px) scale(.6); opacity:0;}
`,Mn="0%{opacity:0;} 100%{opacity:1;}",Bn="0%{opacity:1;} 100%{opacity:0;}",zn=nt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pn=nt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wn=(a,n)=>{let o=a.includes("top")?1:-1,[p,v]=bs()?[Mn,Bn]:[kn(o),Dn(o)];return{animation:n?`${Xe(p)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xe(v)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Un=g.memo(({toast:a,position:n,style:o,children:p})=>{let v=a.height?wn(a.position||n||"top-center",a.visible):{opacity:0},j=g.createElement(On,{toast:a}),y=g.createElement(Pn,{...a.ariaProps},vi(a.message,a));return g.createElement(zn,{className:a.className,style:{...v,...o,...a.style}},typeof p=="function"?p({icon:j,message:y}):g.createElement(g.Fragment,null,j,y))});on(g.createElement);var Fn=({id:a,className:n,style:o,onHeightUpdate:p,children:v})=>{let j=g.useCallback(y=>{if(y){let E=()=>{let D=y.getBoundingClientRect().height;p(a,D)};E(),new MutationObserver(E).observe(y,{subtree:!0,childList:!0,characterData:!0})}},[a,p]);return g.createElement("div",{ref:j,className:n,style:o},v)},Yn=(a,n)=>{let o=a.includes("top"),p=o?{top:0}:{bottom:0},v=a.includes("center")?{justifyContent:"center"}:a.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bs()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(o?1:-1)}px)`,...p,...v}},qn=yi`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,di=16,Kn=({reverseOrder:a,position:n="top-center",toastOptions:o,gutter:p,children:v,toasterId:j,containerStyle:y,containerClassName:E})=>{let{toasts:D,handlers:M}=bn(o,j);return g.createElement("div",{"data-rht-toaster":j||"",style:{position:"fixed",zIndex:9999,top:di,left:di,right:di,bottom:di,pointerEvents:"none",...y},className:E,onMouseEnter:M.startPause,onMouseLeave:M.endPause},D.map(Y=>{let F=Y.position||n,B=M.calculateOffset(Y,{reverseOrder:a,gutter:p,defaultPosition:n}),S=Yn(F,B);return g.createElement(Fn,{id:Y.id,key:Y.id,onHeightUpdate:M.updateHeight,className:Y.visible?qn:"",style:S},Y.type==="custom"?vi(Y.message,Y):v?v(Y):g.createElement(Un,{toast:Y,position:F}))}))},T=pe;const hi="Ümumi Arxiv",$n="forsaj_gallery_version",Gn=new Set(["","umumi arxiv","ümumi arxiv","general archive","default","archive","arxiv"]),he=a=>(a||"").trim()||hi,Di=a=>{const n=he(a).toLocaleLowerCase("az").normalize("NFC").trim();return Gn.has(n)},Hn=(a,n)=>{const o=Number(a);return Number.isFinite(o)?o:n},Vn=(a,n)=>{const o=Hn(a?.id,Date.now()+n+1),p=String(a?.title||a?.alt||`Şəkil ${n+1}`).trim(),v=String(a?.url||a?.path||"").trim(),j=Number(a?.eventId??a?.event_id),y=Number.isFinite(j)?j:null,E=he(typeof a?.album=="string"?a.album:typeof a?.event=="string"?a.event:"");return{id:o,title:p||`Şəkil ${n+1}`,url:v,album:E,eventId:y}},Qn={toolbar:[[{header:[2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},Wn=["Shield","Users","Leaf","Zap"],Ga={Shield:Yi,Users:ds,Leaf:Fl,Zap:ms},Zn=["ShieldCheck","Truck","Globe","Zap"],Xn={ShieldCheck:xs,Truck:Yl,Globe:_e,Zap:ms},Mi=["Info","Settings","ShieldAlert","Leaf","FileText"],Jn=[{title:"Səhifə və Sistem",subtitle:"Səhifə başlığı, status və sistem mesajları",ids:["PAGE_TITLE","PAGE_SUBTITLE","ONLINE_STATUS_LABEL","FORM_TOAST_REQUIRED","FORM_TOAST_SUCCESS","FORM_TOAST_ERROR"]},{title:"Baş Ofis",subtitle:"Ofis məlumatları və əsas əlaqə sahələri",ids:["OFFICE_LABEL","ADDRESS_LINE_1","ADDRESS_LINE_2","WORK_HOURS","PHONE_LABEL","PHONE_NUMBER","EMAIL_LABEL","EMAIL_Address"]},{title:"Departamentlər",subtitle:"Departament kartları və e-poçt məlumatları",ids:["DEPT_HQ_TITLE","DEPT_HQ_DESC","DEPT_HQ_EMAIL","DEPT_PR_TITLE","DEPT_PR_DESC","DEPT_PR_EMAIL","DEPT_TECH_TITLE","DEPT_TECH_DESC","DEPT_TECH_EMAIL"]},{title:"Form",subtitle:"Müraciət formu sahələri və seçimlər",ids:["FORM_TITLE","FORM_STATUS_LABEL","FORM_METHOD","FORM_CONTENT_TYPE","FIELD_NAME_LABEL","FIELD_NAME_PLACEHOLDER","FIELD_CONTACT_LABEL","FIELD_CONTACT_PLACEHOLDER","FIELD_TOPIC_LABEL","TOPIC_GENERAL","TOPIC_PILOT","TOPIC_TECH","FIELD_MESSAGE_LABEL","FIELD_MESSAGE_PLACEHOLDER","BTN_SEND"]}],Ha={privacypolicypage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Məxfilik siyasətinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY","SECTION_9_TITLE","SECTION_9_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}],termsofservicepage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Xidmət şərtlərinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}]},er={navbar:"Üst menudakı düymə adları və keçidlərini buradan yeniləyin.",hero:"Ana səhifənin ilk ekranında görünən başlıq, alt başlıq və düymələr.",marquee:"Ana səhifədə sürüşən məlumat zolağının məzmunu.",categoryleaders:"Ana səhifə liderlər bölməsi başlıq və məlumatları.",nextrace:'Ana səhifədəki "NÖVBƏTİ YARIŞ" bölməsinin başlıq və CTA mətnləri.',videoarchive:'Ana səhifədəki "VİDEO ARXİVİ" bölməsinin başlıq və izah mətnləri.',news:'Ana səhifədəki "SON XƏBƏRLƏR" bölməsinin başlıq və izah mətnləri.',partners:'Ana səhifənin alt hissəsindəki "RƏSMİ TƏRƏFDAŞLARIMIZ" kartları.',footer:"Saytın alt hissəsi (footer) mətnləri, linkləri və əlaqə məlumatları.",about:"Haqqımızda səhifəsindəki əsas başlıqlar, mətnlər və dəyərlər.",newspage:"Xəbərlər səhifəsi başlıq və üst mətn sahələri.",eventspage:"Tədbirlər səhifəsi başlıq və forma ilə bağlı mətnlər.",drivers:"Sürücülər bölməsinin kateqoriya və cədvəl başlıqları.",gallerypage:"Qalereya səhifəsi tab və başlıq məzmunları.",contactpage:"Əlaqə səhifəsində ofis, departament və form mətnləri.",rulespage:"Qaydalar səhifəsi tablar, sənəd düymələri və maddələr.",privacypolicypage:"Privacy Policy səhifəsində başlıq, maddələr və əlaqə məlumatları.",termsofservicepage:"Terms of Service səhifəsində başlıq, maddələr və əlaqə məlumatları."},Va={PAGE_TITLE:"Səhifənin ən üstündə görünən əsas başlıq.",PAGE_SUBTITLE:"Başlığın altında görünən qısa izah mətni.",SECTION_TITLE:"Bu blokun üstündə görünən etiket mətnidir.",INTRO_TEXT:"Səhifə girişində görünən giriş mətni.",UPDATED_LABEL:"Yenilənmə tarixindən əvvəl görünən etiket.",UPDATED_DATE:"Səhifədə göstərilən son yenilənmə tarixi.",CONTACT_TITLE:"Səhifə sonundakı əlaqə bölməsi başlığı.",CONTACT_EMAIL:"Səhifə sonundakı e-mail ünvanı.",CONTACT_WEBSITE:"Səhifə sonundakı veb sayt linki."},oi=a=>{if(!a)return"";const n=a.replace(/\\+\[/g,"[").replace(/\\+\]/g,"]");if(!/\[(\/?)(B|I|U|S|CENTER|FONT|URL|IMG|COLOR|SIZE|QUOTE|CODE|LIST|\*)[\]=\s\w"':#.,+-]*\]/i.test(n))return n;let p=n;return p=p.replace(/\[CENTER\]([\s\S]*?)\[\/CENTER\]/gi,'<div style="text-align:center;">$1</div>'),p=p.replace(/\[FONT=([^\]]+)\]([\s\S]*?)\[\/FONT\]/gi,'<span style="font-family:$1;">$2</span>'),p=p.replace(/\[B\]([\s\S]*?)\[\/B\]/gi,"<strong>$1</strong>"),p=p.replace(/\[I\]([\s\S]*?)\[\/I\]/gi,"<em>$1</em>"),p=p.replace(/\[U\]([\s\S]*?)\[\/U\]/gi,'<span style="text-decoration:underline;">$1</span>'),p=p.replace(/\[S\]([\s\S]*?)\[\/S\]/gi,"<strike>$1</strike>"),p=p.replace(/\[URL=([^\]]+)\]([\s\S]*?)\[\/URL\]/gi,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>'),p=p.replace(/\[IMG\]([\s\S]*?)\[\/IMG\]/gi,'<img src="$1" style="max-width:100%;" />'),p=p.replace(/\[COLOR=([^\]]+)\]([\s\S]*?)\[\/COLOR\]/gi,'<span style="color:$1;">$2</span>'),p=p.replace(/\[SIZE=([^\]]+)\]([\s\S]*?)\[\/SIZE\]/gi,'<span style="font-size:$1px;">$2</span>'),p=p.replace(/\[QUOTE\]([\s\S]*?)\[\/QUOTE\]/gi,"<blockquote>$1</blockquote>"),p=p.replace(/\[CODE\]([\s\S]*?)\[\/CODE\]/gi,"<pre><code>$1</code></pre>"),p=p.replace(/\r?\n/g,"<br />"),p},ci=({value:a,onChange:n,id:o,readOnly:p=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:o,children:e.jsx(Jl,{theme:"snow",value:a||"",onChange:n,modules:p?{toolbar:!1}:Qn,readOnly:p,placeholder:"Məzmunu daxil edin..."})}),lt=a=>{if(/^[A-Z0-9_]+$/.test(a.id))return a.id.trim();const n=(a.label||"").trim();return n.startsWith("KEY:")?n.replace(/^KEY:\s*/i,"").trim():""},tr=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,Yt=a=>tr.test((a||"").trim()),fi=a=>a.replace(/_/g," ").replace(/\s+/g," ").trim(),Ae=a=>{if(!a)return"";let n=a;for(let p=0;p<4;p++){const j=(new DOMParser().parseFromString(n,"text/html").body.textContent||"").trim();if(!j||j===n)break;n=j}return(new DOMParser().parseFromString(n,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},zt=a=>{const n=(a||"").trim();if(!n)return"";if(/^(https?:)?\/\//i.test(n))return n;const o=n.startsWith("/")?n:`/${n}`;return`${window.location.origin}${o}`},ir=a=>{const n=(a||"").trim();if(!n)return"";if(/^https?:\/\//i.test(n)){try{const o=new URL(n);if(o.pathname.startsWith("/uploads/"))return`${o.pathname}${o.search}${o.hash}`}catch{}return n}return n.startsWith("/")?n:`/${n}`},Ts=a=>/&(?:lt|gt|nbsp|quot|amp);|<\/?[a-z][^>]*>/i.test(a||""),ar=a=>/<(ul|ol|li|a|img|iframe|video|table|h[1-6])\b|\[(b|i|u|url|img|center)\]/i.test(a||""),sr=a=>!!(lt(a)||ut(a.id)||a.id.startsWith("txt-")||a.id.startsWith("val-")||a.id.startsWith("RULES_")||a.id.startsWith("PAGE_")||a.id.startsWith("BTN_")||a.id.startsWith("DOC_")||Ts(a.value||"")&&!ar(a.value||"")),We="label-stat-",Ze="value-stat-",ut=a=>a.startsWith(We)||a.startsWith(Ze),Qa=a=>a.startsWith(We)?a.slice(We.length):a.startsWith(Ze)?a.slice(Ze.length):"",ui=(a,n)=>lt(a)?n!=="label":!0,lr=a=>!lt(a),Wa=a=>{const n=lt(a),o=Ae(a.value||""),p=Ae(a.label||"");if(n&&Yt(o)){const v=o.toUpperCase();if(v===n.toUpperCase()||p&&v===p.toUpperCase())return!0}return!!(!n&&Yt(o))},pi=a=>a&&er[a]||"",nr=a=>{const n=Ae(a.label||"");if(n&&!Yt(n))return n;const o=lt(a);return fi(o||n||(a.id||"").replace(/-/g," "))},rr=(a,n)=>{const p=(lt(a)||a.id||"").trim();if(Va[p])return Va[p];const v=p.match(/^SECTION_(\d+)_TITLE$/);if(v)return`${v[1]}. maddənin başlıq mətni.`;const j=p.match(/^SECTION_(\d+)_BODY$/);return j?`${j[1]}. maddənin izah mətni.`:n==="partners"&&/^PARTNER_\d+_NAME$/.test(p)?"Partner kartında görünən ad.":n==="partners"&&/^PARTNER_\d+_TAG$/.test(p)?"Partner kartında hover zamanı görünən etiket.":n==="partners"&&/^PARTNER_\d+_ICON$/.test(p)?"Partner kartında istifadə olunan ikon adı.":n==="partners"&&/^PARTNER_\d+_USE_IMAGE$/.test(p)?"Kartın ikon yoxsa görsəl ilə göstərilməsini təyin edir.":n==="partners"&&/^PARTNER_\d+_IMAGE_ID$/.test(p)?"Bu partner üçün bağlı şəkil ID-si.":"Bu mətn saytda olduğu kimi göstərilir."},Za=/^PARTNER_(\d+)_(NAME|TAG|ICON|USE_IMAGE|IMAGE_ID)$/,dr=/^RULE_TAB_(\d+)_(ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL)$/,or=/^RULE_TAB_(\d+)_ITEM_(\d+)_(TITLE|DESC)$/,Bi=/^RULE_TAB_\d+_(?:ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL|ITEM_\d+_(?:TITLE|DESC))$/,cr=a=>a==="NAME"?"name":a==="TAG"?"tag":a==="ICON"?"icon":a==="USE_IMAGE"?"useImage":a==="IMAGE_ID"?"imageId":null,zi={hero:"Hero Bölməsi",marquee:"Marquee Yazısı",navbar:"Menyu və Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər",drivers:"Sürücülər",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya",videos:"Videolar",videoarchive:"Video Arxiv",privacypolicypage:"Məxfilik Siyasəti",termsofservicepage:"Xidmət Şərtləri",footer:"Footer",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},pt={home:["navbar","hero","marquee","categoryleaders","nextrace","videoarchive","news","partners","footer"],abouttab:["about"],newstab:["newspage"],eventstab:["eventspage"],driverstab:["drivers"],gallerytab:["gallerypage","gallery","videos","videoarchive"],rulestab:["rulespage","privacypolicypage","termsofservicepage"],contacttab:["contactpage"]},gi=Object.entries(pt).reduce((a,[n,o])=>(o.forEach(p=>{a[p]=n}),a),{}),ur=new Set(["privacypolicypage","termsofservicepage"]),pr=[{id:"all",label:"Hamısı"},{id:"navbar",label:"Naviqasiya"},{id:"footer",label:"Footer"}],mr={all:pt.home,navbar:["navbar"],footer:["footer"]},Xa=a=>{if(!a)return[];if(ur.has(a))return[a];if(pt[a])return pt[a];const n=gi[a];return n&&pt[n]?pt[n]:[a]},Pi="forsaj_site_content_version",Ja="forsaj_grouped_page_collapsed_v1",es="forsaj_section_collapsed_v1",Se=(a,n)=>Number.isFinite(a)?a:n,xr=()=>{const[a,n]=g.useState([]),[o,p]=g.useState(0),[v,j]=g.useState(!1),[y,E]=g.useState(!1),[D,M]=g.useState(0),[Y,F]=g.useState(""),[B,S]=g.useState(!1),[$,z]=g.useState(!1),[w,ae]=g.useState(!1),[te,C]=g.useState([]),[O,L]=g.useState(null),[_,Ee]=g.useState(""),[ge,Ne]=g.useState(""),[q,me]=g.useState(()=>{try{const t=localStorage.getItem(Ja),i=t?JSON.parse(t):{};return i&&typeof i=="object"?i:{}}catch{return{}}}),[ue,Re]=g.useState(()=>{try{const t=localStorage.getItem(es),i=t?JSON.parse(t):{};return i&&typeof i=="object"?i:{}}catch{return{}}}),[be,Ye]=g.useState([]),[ke,le]=g.useState(null),[Z,De]=g.useState({}),[qe,mt]=g.useState([]),[d,R]=g.useState(null),[I,V]=g.useState({}),[Q,ne]=g.useState([]),[ie,Ke]=g.useState(null),[Ie,ji]=g.useState({}),Ti=Hi(),Wi=new URLSearchParams(Ti.search),Ei=Wi.get("mode"),ve=Wi.get("page"),[J,Me]=g.useState("extract"),[At,xt]=g.useState([]),Zi=g.useRef(!1),[rt,Nt]=g.useState(null),[we,dt]=g.useState({}),[Ai,Rt]=g.useState(hi),[ht,Ni]=g.useState(""),[Ri,Lt]=g.useState("all"),[Xi,Ji]=g.useState(""),ea=g.useRef(null),[ta,_t]=g.useState("all");g.useEffect(()=>{Me(Ei||"extract")},[Ei,ve]),g.useEffect(()=>{if(J!=="extract")return;const t=ve?gi[ve]:null;if(ve&&(ve==="home"||t==="home")){if(ve==="navbar"){_t("navbar");return}if(ve==="footer"){_t("footer");return}_t("all");return}_t("all")},[J,ve]),g.useEffect(()=>{localStorage.setItem(Ja,JSON.stringify(q))},[q]),g.useEffect(()=>{localStorage.setItem(es,JSON.stringify(ue))},[ue]);const[Ce,Je]=g.useState([]),[de,It]=g.useState(null),[ft,Ct]=g.useState(null),[Le,gt]=g.useState({}),ia=async()=>{try{const i=await(await fetch("/api/site-content")).json();if(Array.isArray(i)){const f=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","privacypolicypage","termsofservicepage","news","drivers","driverspage","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],c=[...i],x=b=>{const A=b.sections||[],N=b.images||[],k=(K,X,re)=>{A.some(jt=>jt.id===K)||A.push({id:K,type:"text",label:X,value:re})},oe=(K,X,re)=>{N.some(jt=>jt.id===K)||N.push({id:K,path:X,alt:re,type:"remote",order:N.length})};if(k("PAGE_TITLE","Səhifə Başlığı","HAQQIMIZDA"),k("PAGE_SUBTITLE","Səhifə Alt Başlığı","BİZİM HEKAYƏMİZ // MİSSİYAMIZ VƏ GƏLƏCƏYİMİZ"),k("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),k("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),k("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),k("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),k("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),k("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),k("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),k("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),k("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),k("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),k("val-icon-1","Dəyər 1 İkonu","Shield"),k("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),k("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),k("val-icon-2","Dəyər 2 İkonu","Users"),k("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),k("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),k("val-icon-3","Dəyər 3 İkonu","Leaf"),k("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),k("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),k("val-icon-4","Dəyər 4 İkonu","Zap"),k("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),k("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),A.some(K=>K.id.includes("label-stat"))&&A.some(K=>K.id.includes("value-stat"))){b.sections=A,ee(b,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),oe("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),b.images=N;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach((K,X)=>{const re=`${X+1}`;A.push({id:`label-stat-${re}`,type:"text",label:`Statistika Etiketi ${X+1}`,value:K.label}),A.push({id:`value-stat-${re}`,type:"text",label:`Statistika Dəyəri ${X+1}`,value:K.value})}),b.sections=A,ee(b,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),oe("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),b.images=N},U=b=>{const A=b.sections||[],N=b.images||[],k=(W,K,X)=>{A.some(re=>re.id===W)||A.push({id:W,type:"text",label:K,value:X})},oe=W=>{N.some(K=>K.id===W)||N.push({id:W,path:"",alt:W,type:"local",order:N.length})};k("SECTION_TITLE","Bölmə Başlığı","RƏSMİ TƏRƏFDAŞLARIMIZ"),[{name:"AZMF",tag:"OFFICIAL PARTNER",icon:"ShieldCheck"},{name:"OFFROAD AZ",tag:"OFFICIAL PARTNER",icon:"Truck"},{name:"GLOBAL 4X4",tag:"OFFICIAL PARTNER",icon:"Globe"},{name:"RACE TECH",tag:"OFFICIAL PARTNER",icon:"Zap"}].forEach((W,K)=>{const X=K+1;k(`PARTNER_${X}_NAME`,`Tərəfdaş ${X} Ad`,W.name),k(`PARTNER_${X}_TAG`,`Tərəfdaş ${X} Etiket`,W.tag),k(`PARTNER_${X}_ICON`,`Tərəfdaş ${X} İkon`,W.icon),k(`PARTNER_${X}_USE_IMAGE`,`Tərəfdaş ${X} Görsel İstifadə`,"false"),k(`PARTNER_${X}_IMAGE_ID`,`Tərəfdaş ${X} Görsel ID`,`partner-image-${X}`),oe(`partner-image-${X}`)}),b.sections=A,b.images=N},H=b=>{const A=b.sections||[],N=(k,oe,Te,W)=>{const K=A.findIndex(X=>X.id===k);if(K===-1){A.push({id:k,type:"text",label:oe,value:Te,...W?{url:W}:{}});return}W&&!A[K].url&&(A[K].url=W)};N("text-3","Hero Düymə 1","YARIŞLARA BAX","events"),N("text-4","Hero Düymə 2","HAQQIMIZDA","about"),b.sections=A},P=(b,A)=>{const N=b.sections||[];A.forEach(k=>{const oe=N.findIndex(Te=>Te.id===k.id);if(oe===-1){N.push({id:k.id,type:"text",label:k.label,value:k.value,...k.url?{url:k.url}:{}});return}k.url&&!N[oe].url&&(N[oe].url=k.url)}),b.sections=N},ee=(b,A)=>{const N=b.sections||[];if(N.length===0||A.length===0)return;const k=new Map(A.map((W,K)=>[W,K])),oe=N.filter(W=>k.has(W.id)).sort((W,K)=>k.get(W.id)-k.get(K.id)),Te=N.filter(W=>!k.has(W.id));b.sections=[...oe,...Te].map((W,K)=>({...W,order:K}))},xe=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"ƏLAQƏ"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"GET IN TOUCH // CONTACT CENTER"},{id:"OFFICE_LABEL",label:"Ofis Bölmə Başlığı",value:"BAŞ OFİS"},{id:"ADDRESS_LINE_1",label:"Ünvan Sətir 1",value:"AZADLIQ 102, BAKI"},{id:"ADDRESS_LINE_2",label:"Ünvan Sətir 2",value:"AZƏRBAYCAN // SECTOR_01"},{id:"WORK_HOURS",label:"İş Saatı",value:"09:00 - 18:00"},{id:"ONLINE_STATUS_LABEL",label:"Onlayn Status Mətni",value:"ONLINE"},{id:"PHONE_LABEL",label:"Telefon Başlığı",value:"ƏLAQƏ NÖMRƏSİ"},{id:"PHONE_NUMBER",label:"Telefon Nömrəsi",value:"+994 50 123 45 67"},{id:"EMAIL_LABEL",label:"E-poçt Başlığı",value:"E-POÇT ÜNVANI"},{id:"EMAIL_Address",label:"Əsas E-poçt Ünvanı",value:"PROTOCOL@FORSAJ.AZ"},{id:"DEPT_HQ_TITLE",label:"Departament 1 Başlıq",value:"BAŞ OFİS"},{id:"DEPT_HQ_DESC",label:"Departament 1 Təsvir",value:"ÜMUMİ SORĞULAR VƏ İDARƏETMƏ"},{id:"DEPT_HQ_EMAIL",label:"Departament 1 E-poçt",value:"HQ@FORSAJ.AZ"},{id:"DEPT_PR_TITLE",label:"Departament 2 Başlıq",value:"MEDİA VƏ PR"},{id:"DEPT_PR_DESC",label:"Departament 2 Təsvir",value:"MƏTBUAT VƏ ƏMƏKDAŞLIQ"},{id:"DEPT_PR_EMAIL",label:"Departament 2 E-poçt",value:"PR@FORSAJ.AZ"},{id:"DEPT_TECH_TITLE",label:"Departament 3 Başlıq",value:"TEXNİKİ DƏSTƏK"},{id:"DEPT_TECH_DESC",label:"Departament 3 Təsvir",value:"PİLOTLAR ÜÇÜN TEXNİKİ YARDIM"},{id:"DEPT_TECH_EMAIL",label:"Departament 3 E-poçt",value:"TECH@FORSAJ.AZ"},{id:"FORM_TITLE",label:"Form Başlığı",value:"MÜRACİƏT FORMU"},{id:"FORM_STATUS_LABEL",label:"Form Status Mətni",value:"STATUS: ONLINE"},{id:"FORM_METHOD",label:"Form Method",value:"POST"},{id:"FORM_CONTENT_TYPE",label:"Form Content-Type",value:"application/json"},{id:"FIELD_NAME_LABEL",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"FIELD_NAME_PLACEHOLDER",label:"Ad Soyad Placeholder",value:"AD SOYAD DAXİL EDİN"},{id:"FIELD_CONTACT_LABEL",label:"Əlaqə Label",value:"ƏLAQƏ VASİTƏSİ"},{id:"FIELD_CONTACT_PLACEHOLDER",label:"Əlaqə Placeholder",value:"TELEFON VƏ YA EMAIL"},{id:"FIELD_TOPIC_LABEL",label:"Müraciət İstiqaməti Label",value:"MÜRACİƏT İSTİQAMƏTİ"},{id:"TOPIC_GENERAL",label:"Mövzu Seçimi 1",value:"ÜMUMİ SORĞU"},{id:"TOPIC_PILOT",label:"Mövzu Seçimi 2",value:"PİLOT QEYDİYYATI"},{id:"TOPIC_TECH",label:"Mövzu Seçimi 3",value:"TEXNİKİ YARDIM"},{id:"FIELD_MESSAGE_LABEL",label:"Mesaj Label",value:"MESAJINIZ"},{id:"FIELD_MESSAGE_PLACEHOLDER",label:"Mesaj Placeholder",value:"BURADA YAZIN..."},{id:"BTN_SEND",label:"Form Göndər Düyməsi",value:"MESAJI GÖNDƏR"},{id:"FORM_TOAST_REQUIRED",label:"Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"FORM_TOAST_SUCCESS",label:"Form Uğurlu Göndəriş Mesajı",value:"Müraciətiniz uğurla göndərildi!"},{id:"FORM_TOAST_ERROR",label:"Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"FOOTER_NEWSLETTER_TITLE",label:"Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."}])},at=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"TƏDBİRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL EVENT CALENDAR // FORSAJ CLUB"},{id:"PILOT_FORM_TOAST_REQUIRED",label:"Pilot Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"PILOT_FORM_TOAST_SUCCESS",label:"Pilot Form Uğurlu Göndəriş Mesajı",value:"Qeydiyyat müraciətiniz uğurla göndərildi!"},{id:"PILOT_FORM_TOAST_ERROR",label:"Pilot Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"PLACEHOLDER_PHONE",label:"Telefon Placeholder",value:"+994 -- --- -- --"},{id:"SPECTATOR_TICKET_URL",label:"İzləyici Bilet Linki",value:"https://iticket.az",url:"https://iticket.az"},{id:"CLUB_OPTION_1",label:"Klub Seçimi 1",value:"Fərdi İştirakçı"},{id:"CLUB_OPTION_2",label:"Klub Seçimi 2",value:"Club 4X4"},{id:"CLUB_OPTION_3",label:"Klub Seçimi 3",value:"Extreme 4X4"},{id:"CLUB_OPTION_4",label:"Klub Seçimi 4",value:"Forsaj Club"},{id:"CLUB_OPTION_5",label:"Klub Seçimi 5",value:"Offroad.az"},{id:"CLUB_OPTION_6",label:"Klub Seçimi 6",value:"Overland 4X4"},{id:"CLUB_OPTION_7",label:"Klub Seçimi 7",value:"PatrolClub.az"},{id:"CLUB_OPTION_8",label:"Klub Seçimi 8",value:"Victory Club"},{id:"CLUB_OPTION_9",label:"Klub Seçimi 9",value:"Zəfər 4X4 Club"}])},He=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XƏBƏRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MOTORSPORT MAGAZINE // SEASON 2024"}]),ee(b,["PAGE_TITLE","PAGE_SUBTITLE"])},kt=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QALEREYA"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"XRONOLOJİ MOTORSPORT ARXİVİ // FORSAJ CLUB"},{id:"TAB_PHOTOS",label:"Tab Foto",value:"FOTOLAR"},{id:"TAB_VIDEOS",label:"Tab Video",value:"VİDEOLAR"},{id:"DYNAMIC_COLLECTION",label:"Dinamik Kolleksiya Alt Başlıq",value:"CANLI ARXİV // YENİLƏNƏN MƏZMUN"},{id:"TOTAL_LABEL",label:"Toplam Etiketi",value:"TOPLAM"},{id:"TYPE_PHOTO",label:"Foto Tipi",value:"FOTO"},{id:"TYPE_VIDEO",label:"Video Tipi",value:"VİDEO"}])},Dt=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"SÜRÜCÜLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL PILOT STANDINGS // SEASON 2024"}])},ti=b=>{P(b,[{id:"FOOTER_LOGO_ALT",label:"Footer Logo Alt",value:"Forsaj Logo"},{id:"FOOTER_ABOUT_TEXT",label:"Footer Haqqında Mətn",value:"Azərbaycanın ən prestijli motorsport mərkəzi. Sərhədsiz offroad həyəcanını bizimlə yaşayın."},{id:"FOOTER_ADDRESS_LABEL",label:"Footer Ünvan Başlığı",value:"ÜNVAN"},{id:"FOOTER_CONTACT_LABEL",label:"Footer Əlaqə Başlığı",value:"ƏLAQƏ"},{id:"FOOTER_NAV_TITLE",label:"Footer Naviqasiya Başlığı",value:"NAVİQASİYA"},{id:"FOOTER_MOTORSPORT_TITLE",label:"Footer Motorsport Başlığı",value:"MOTORSPORT"},{id:"FOOTER_NEWSLETTER_TITLE",label:"Footer Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Footer Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."},{id:"FOOTER_NEWSLETTER_PLACEHOLDER",label:"Footer Abunə Placeholder",value:"EMAIL DAXİL EDİN"},{id:"FOOTER_COPYRIGHT",label:"Footer Copyright",value:"© 2024 FORSAJ CLUB. ALL RIGHTS RESERVED."},{id:"FOOTER_PRIVACY_LABEL",label:"Footer Privacy Link Mətni",value:"Privacy Policy",url:"privacy"},{id:"FOOTER_TERMS_LABEL",label:"Footer Terms Link Mətni",value:"Terms of Service",url:"terms"}]);const A=b.sections||[],N=(k,oe)=>{const Te=A.findIndex(K=>K.id===k);if(Te===-1)return;const W=String(A[Te].url||"").trim();(!W||W==="#")&&(A[Te].url=oe)};N("FOOTER_PRIVACY_LABEL","privacy"),N("FOOTER_TERMS_LABEL","terms"),b.sections=A},ii=b=>{P(b,[{id:"LEADER_TITLE_SUFFIX",label:"Lider Başlıq Suffix",value:"LİDERİ"},{id:"EMPTY_DRIVER_NAME",label:"Boş Sürücü Adı",value:"---"},{id:"EMPTY_DRIVER_TEAM",label:"Boş Komanda Adı",value:"---"}])},ai=b=>{P(b,[{id:"RACE_IMAGE_ALT",label:"Növbəti Yarış Görsel Alt",value:"Next Race"}])},Ve=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QAYDALAR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"FORSAJ MOTORSPORT OFFICIAL RULES"}]);const A=b.sections||[],N=(K,X)=>(A.find(re=>re.id===K)?.value||X).trim()||X,k=[{index:1,id:"pilot",title:N("RULES_PILOT_TITLE","PİLOT PROTOKOLU"),icon:"Info",items:[{index:1,title:N("RULES_PILOT_SUB1","İSTİFADƏÇİ ÖHDƏLİKLƏRİ"),desc:N("RULES_PILOT_DESC1","HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR.")},{index:2,title:N("RULES_PILOT_SUB2","DİSKVALİFİKASİYA"),desc:N("RULES_PILOT_DESC2","PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR.")},{index:3,title:N("RULES_PILOT_SUB3","TEXNİKİ TƏLƏBLƏR"),desc:N("RULES_PILOT_DESC3","BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR.")}]},{index:2,id:"technical",title:N("RULES_TECH_TITLE","TEXNİKİ NORMARTİVLƏR"),icon:"Settings",items:[{index:1,title:N("RULES_TECH_SUB1","TƏKƏR ÖLÇÜLƏRİ"),desc:N("RULES_TECH_DESC1","PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR.")},{index:2,title:N("RULES_TECH_SUB2","MÜHƏRRİK GÜCÜ"),desc:N("RULES_TECH_DESC2","MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR.")},{index:3,title:N("RULES_TECH_SUB3","ASQI SİSTEMİ"),desc:N("RULES_TECH_DESC3","AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR.")}]},{index:3,id:"safety",title:N("RULES_SAFETY_TITLE","TƏHLÜKƏSİZLİK QAYDALARI"),icon:"ShieldAlert",items:[{index:1,title:N("RULES_SAFETY_SUB1","KARKAS TƏLƏBİ"),desc:N("RULES_SAFETY_DESC1","BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR.")},{index:2,title:N("RULES_SAFETY_SUB2","YANĞIN SÖNDÜRMƏ"),desc:N("RULES_SAFETY_DESC2","HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR.")},{index:3,title:N("RULES_SAFETY_SUB3","KƏMƏR VƏ DƏBİLQƏ"),desc:N("RULES_SAFETY_DESC3","5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR.")}]},{index:4,id:"eco",title:N("RULES_ECO_TITLE","EKOLOJİ MƏSULİYYƏT"),icon:"Leaf",items:[{index:1,title:N("RULES_ECO_SUB1","TULLANTILARIN İDARƏ EDİLMƏSİ"),desc:N("RULES_ECO_DESC1",'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.')},{index:2,title:N("RULES_ECO_SUB2","MAYE SIZMALARI"),desc:N("RULES_ECO_DESC2","AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR.")},{index:3,title:N("RULES_ECO_SUB3","MARŞRUTDAN KƏNARA ÇIXMAMAQ"),desc:N("RULES_ECO_DESC3","TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR.")}]}],oe=[];k.forEach((K,X)=>{const re=X+1;oe.push({id:`RULE_TAB_${re}_ID`,type:"text",label:`Qayda Sekməsi ${re} ID`,value:K.id},{id:`RULE_TAB_${re}_TITLE`,type:"text",label:`Qayda Sekməsi ${re} Başlıq`,value:K.title},{id:`RULE_TAB_${re}_ICON`,type:"text",label:`Qayda Sekməsi ${re} İkon`,value:K.icon}),K.items.forEach((jt,Sl)=>{const ni=Sl+1;oe.push({id:`RULE_TAB_${re}_ITEM_${ni}_TITLE`,type:"text",label:`Sekmə ${re} Maddə ${ni} Başlıq`,value:jt.title},{id:`RULE_TAB_${re}_ITEM_${ni}_DESC`,type:"text",label:`Sekmə ${re} Maddə ${ni} Təsvir`,value:jt.desc})})});const Te=new Set(A.map(K=>K.id)),W=oe.filter(K=>!Te.has(K.id));b.sections=[...A,...W]},si=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"MƏXFİLİK SİYASƏTİ (PRIVACY POLICY)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MƏLUMATLARIN QORUNMASI VƏ İSTİFADƏ ŞƏRTLƏRİ"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Ümumi Məlumat"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir. Saytdan istifadə etməklə bu siyasətin şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Toplanan Məlumatlar"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:`Şəxsi məlumatlar:
- Ad və soyad
- Elektron poçt ünvanı
- Telefon nömrəsi (təqdim edildiyi halda)

Texniki məlumatlar:
- IP ünvan
- Brauzer növü və cihaz məlumatları
- Saytda fəaliyyət məlumatları (baxışlar, kliklər və s.)`},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. Məlumatların İstifadə Məqsədi"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`Toplanan məlumatlar aşağıdakı məqsədlərlə istifadə olunur:
- Xidmətlərin təqdim edilməsi və inkişaf etdirilməsi
- İstifadəçi sorğularına cavab verilməsi
- Təhlükəsizliyin təmin olunması
- Statistik və analitik təhlillər aparılması`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Cookies (Kukilər)"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Sayt istifadəçi təcrübəsini yaxşılaşdırmaq üçün kukilərdən istifadə edə bilər. İstifadəçi brauzer vasitəsilə kukiləri deaktiv edə bilər."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məlumatların Üçüncü Tərəflərlə Paylaşılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:`Şəxsi məlumatlar yalnız aşağı hallarda üçüncü tərəflərlə paylaşıla bilər:
- Qanunvericiliyin tələbi olduqda
- Texniki və xidmət tərəfdaşları ilə əməkdaşlıq çərçivəsində
- İstifadəçinin razılığı ilə`},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Məlumat Təhlükəsizliyi"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz şəxsi məlumatların qorunması üçün müvafiq texniki və inzibati təhlükəsizlik tədbirləri tətbiq edirik."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. İstifadəçi Hüquqları"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:`İstifadəçilər:
- Öz məlumatlarına çıxış tələb edə bilər
- Düzəliş və ya silinmə tələb edə bilər
- Məlumatların işlənməsinə etiraz edə bilər`},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Siyasətdə Dəyişikliklər"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:"Bu siyasət zaman-zaman yenilənə bilər. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_9_TITLE",label:"Bölmə 9 Başlıq",value:"9. Əlaqə"},{id:"SECTION_9_BODY",label:"Bölmə 9 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])},ki=b=>{P(b,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XİDMƏT ŞƏRTLƏRİ (TERMS OF SERVICE)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"İSTİFADƏ QAYDALARI VƏ HÜQUQİ ŞƏRTLƏR"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Qəbul"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Xidmətin Təsviri"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:"forsaj.az avtomobil, motorsport, off-road və Forsaj icması ilə bağlı məlumat, tədbir və digər rəqəmsal xidmətlər təqdim edir."},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. İstifadə Qaydaları"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`İstifadəçi:
- Saytdan yalnız qanuni məqsədlərlə istifadə etməlidir
- Digər istifadəçilərin hüquqlarını pozmamalıdır
- Saytın texniki sisteminə zərər verə biləcək hərəkətlər etməməlidir`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Əqli Mülkiyyət Hüquqları"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Saytda yerləşdirilən bütün məzmun (mətnlər, şəkillər, videolar, loqo və s.) müəllif hüquqları ilə qorunur və icazəsiz istifadə edilə bilməz."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məsuliyyətin Məhdudlaşdırılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:"Sayt və xidmətlər “olduğu kimi” təqdim olunur. Texniki nasazlıq və ya fasilələrə görə sayt rəhbərliyi məsuliyyət daşımır."},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Dəyişiklik Hüququ"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz bu şərtləri istənilən vaxt dəyişdirmək hüququnu özümüzdə saxlayırıq. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. Tətbiq Olunan Qanun"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:"Bu Xidmət Şərtləri Azərbaycan Respublikasının qanunvericiliyinə uyğun tənzimlənir."},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Əlaqə"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])};f.forEach(b=>{const A=c.find(N=>N.id===b);A?b==="about"?x(A):b==="partners"?U(A):b==="hero"?H(A):b==="contactpage"?xe(A):b==="eventspage"?at(A):b==="newspage"?He(A):b==="gallerypage"?kt(A):b==="driverspage"?Dt(A):b==="footer"?ti(A):b==="categoryleaders"?ii(A):b==="nextrace"?ai(A):b==="rulespage"?Ve(A):b==="privacypolicypage"?si(A):b==="termsofservicepage"&&ki(A):c.push({id:b,title:zi[b]||b,sections:[{id:`${b}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const se=c.find(b=>b.id==="about");se&&x(se);const yt=c.find(b=>b.id==="partners");yt&&U(yt);const St=c.find(b=>b.id==="hero");St&&H(St);const Oa=c.find(b=>b.id==="contactpage");Oa&&xe(Oa);const ka=c.find(b=>b.id==="eventspage");ka&&at(ka);const Da=c.find(b=>b.id==="newspage");Da&&He(Da);const Ma=c.find(b=>b.id==="gallerypage");Ma&&kt(Ma);const Ba=c.find(b=>b.id==="driverspage");Ba&&Dt(Ba);const za=c.find(b=>b.id==="footer");za&&ti(za);const Pa=c.find(b=>b.id==="categoryleaders");Pa&&ii(Pa);const wa=c.find(b=>b.id==="nextrace");wa&&ai(wa);const Ua=c.find(b=>b.id==="rulespage");Ua&&Ve(Ua);const Fa=c.find(b=>b.id==="privacypolicypage");Fa&&si(Fa);const Ya=c.find(b=>b.id==="termsofservicepage");Ya&&ki(Ya);const li=new Map(f.map((b,A)=>[b,A]));c.sort((b,A)=>{const N=li.has(b.id)?li.get(b.id):Number.MAX_SAFE_INTEGER,k=li.has(A.id)?li.get(A.id):Number.MAX_SAFE_INTEGER;return N!==k?N-k:(b.title||b.id).localeCompare(A.title||A.id)});const yl=c.map(b=>({...b,sections:(b.sections||[]).map((A,N)=>{if(A.type!=="text")return A;const oe=sr(A)?Ae(A.value||""):(A.value||"").replace(/\u00a0/g," "),Te=Ts(A.label||"")?Ae(A.label||""):A.label;return{...A,label:Te,value:oe,...A.url?{url:zt(A.url)}:{},order:Se(A.order,N)}}).sort((A,N)=>Se(A.order,0)-Se(N.order,0)),images:(b.images||[]).map((A,N)=>({...A,order:Se(A.order,N)})).sort((A,N)=>Se(A.order,0)-Se(N.order,0))}));n(yl)}const[s,l,r,u,m,h]=await Promise.all([fetch(`/api/all-images?v=${Date.now()}`).then(f=>f.json()).catch(()=>({})),fetch(`/api/events?v=${Date.now()}`,{cache:"no-store"}).then(f=>f.json()).catch(()=>[]),fetch(`/api/news?v=${Date.now()}`,{cache:"no-store"}).then(f=>f.json()).catch(()=>[]),fetch(`/api/drivers?v=${Date.now()}`,{cache:"no-store"}).then(f=>f.json()).catch(()=>[]),fetch(`/api/gallery-photos?v=${Date.now()}`,{cache:"no-store"}).then(f=>f.json()).catch(()=>[]),fetch(`/api/videos?v=${Date.now()}`,{cache:"no-store"}).then(f=>f.json()).catch(()=>[])]);if(s?.local&&C(s.local),Array.isArray(l)&&(Ye(l),l.length>0&&ke===null&&(le(l[0].id),De(l[0]))),Array.isArray(r)&&(mt(r),r.length>0&&d===null&&(R(r[0].id),V({...r[0]}))),Array.isArray(u)&&(Je(u),u.length>0&&de===null&&It(u[0].id)),Array.isArray(m)){const f=m.map((c,x)=>Vn(c,x));xt(f),f.length===0&&(Nt(null),dt({}))}Array.isArray(h)&&(ne(h),h.length>0&&ie===null&&fa(h[0].id))}catch(t){console.error("Content load error:",t)}};g.useEffect(()=>{ia()},[]),g.useEffect(()=>{if(!a.length)return;const t=a.findIndex(h=>h.id==="about");if(t===-1||(a[t].sections||[]).some(h=>ut(h.id)))return;const l=[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}],r=[...a],u={...r[t]},m=[...u.sections||[]];l.forEach((h,f)=>{const c=`${f+1}`;m.push({id:`${We}${c}`,type:"text",label:`Statistika Etiketi ${f+1}`,value:h.label},{id:`${Ze}${c}`,type:"text",label:`Statistika Dəyəri ${f+1}`,value:h.value})}),u.sections=m,r[t]=u,n(r)},[a]),g.useEffect(()=>{Zi.current||(Zi.current=!0)},[]),g.useEffect(()=>{const t=new URLSearchParams(Ti.search),i=t.get("mode"),s=t.get("page");if(i&&["extract","events","news","drivers","videos","photos"].includes(i))Me(i);else if(s){Me("extract");const l=Xa(s),r=a.findIndex(u=>l.includes(u.id));r!==-1&&p(r)}},[Ti.search,a]);const Rs=async()=>{E(!0),F("Front-end komponentləri skan edilir..."),M(30);const t=Date.now(),i=T.loading("Sinxronizasiya başladı...");try{const s=await fetch("/api/extract-content",{method:"POST"});if(!s.ok){const h=await s.text();throw new Error(h||"Extraction failed")}M(60),F("Bulud bazası ilə sinxronizasiya edilir...");const l=await s.json(),r=l.pages||l,u=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!u.ok){const h=await u.text();throw new Error(h||"Save failed")}M(90),n(r);const m=Date.now()-t;m<800&&await new Promise(h=>setTimeout(h,800-m)),M(100),F("Tamamlandı!"),setTimeout(()=>{E(!1),localStorage.setItem("forsaj_extracted","true"),localStorage.setItem(Pi,Date.now().toString()),T.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:i})},500)}catch(s){console.error("Extraction error:",s),E(!1),T.error(`Sinxronizasiya xətası: ${s.message}`,{id:i})}},$e=(t,i,s,l)=>{const r=[...a],u=r[t].sections.findIndex(m=>m.id===i);if(u!==-1){const m=r[t].sections[u];if(!ui(m,s))return;let h=l;const c=!!lt(m)||ut(m.id)||m.id.startsWith("val-")||m.id.startsWith("txt-");(s==="value"||s==="label")&&c&&(h=Ae(l)),r[t].sections[u][s]=h,n(r)}},Ls=(t,i)=>{const s=a[t];if(!s)return;const l=s.sections.find(u=>u.id===i);if(!l||!l.url)return;const r=zt(l.url);r&&r!==l.url&&$e(t,i,"url",r)},aa=(t,i,s)=>{const l=[...a],r=l[t].images.findIndex(u=>u.id===i);r!==-1&&(l[t].images[r].alt=s,n(l))},_s=()=>{if(!_.trim()){T.error("Başlıq daxil edin!");return}const i={id:_.toLowerCase().replace(/\s+/g,"-"),title:_,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};n([...a,i]),p(a.length),S(!1),Ee(""),T.success("Yeni bölmə əlavə edildi!")},sa=(t,i,s)=>{if(o<0||o>=a.length)return;const l=[...a],r=l[o];if(r){if(t==="text"){const u=`text-${r.sections.length}-${Date.now()}`,m=r.sections.reduce((h,f,c)=>Math.max(h,Se(f.order,c)),-1)+1;r.sections.push({id:u,type:"text",label:"Bölmə",value:"Yeni mətn sahəsi...",order:m}),T.success("Yeni mətn sahəsi əlavə edildi")}else{const u=`img-${r.images.length}-${Date.now()}`,m=r.images.reduce((h,f,c)=>Math.max(h,Se(f.order,c)),-1)+1;r.images.push({id:u,path:"",alt:"",type:"local",order:m}),T.success("Yeni şəkil sahəsi əlavə edildi")}n(l)}},la=(t,i,s=o)=>{if(s<0||s>=a.length)return;const l=[...a],r=l[s];r&&(t==="text"?(r.sections=r.sections.filter(u=>u.id!==i),r.sections=r.sections.map((u,m)=>({...u,order:m}))):(r.images=r.images.filter(u=>u.id!==i),r.images=r.images.map((u,m)=>({...u,order:m}))),n(l),T.success("Sahə silindi"))},Kt=(t,i,s,l=o)=>{if(l<0||l>=a.length)return;const r=[...a],u=r[l];if(!u)return;const m=t==="text"?u.sections:u.images,h=m.findIndex(x=>x.id===i);if(h===-1)return;const f=s==="up"?h-1:h+1;if(f<0||f>=m.length)return;const c=m[h];m[h]=m[f],m[f]=c,t==="text"?u.sections=(u.sections||[]).map((x,U)=>({...x,order:U})):u.images=(u.images||[]).map((x,U)=>({...x,order:U})),n(r)},Li=(t=o)=>{if(t<0||t>=a.length)return;const i=[...a],s=i[t];if(!s||s.id!=="about")return;const l=`${Date.now()}`;s.sections.push({id:`${We}${l}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${Ze}${l}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),n(i),T.success("Yeni statistika əlavə edildi")},$t=(t,i,s,l=o)=>{if(l<0||l>=a.length)return;const r=[...a],u=r[l];if(!u||u.id!=="about")return;const m=i==="label"?`${We}${t}`:`${Ze}${t}`,h=u.sections.findIndex(c=>c.id===m),f=Ae(s);h!==-1?u.sections[h].value=f:u.sections.push({id:m,type:"text",label:i==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:f}),n(r)},na=(t,i=o)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];!l||l.id!=="about"||(l.sections=l.sections.filter(r=>r.id!==`${We}${t}`&&r.id!==`${Ze}${t}`),n(s),T.success("Statistika silindi"))},Is=(t=o)=>{const i=[...a];let s=t;if((s<0||s>=i.length||!["about","values"].includes(i[s]?.id))&&(s=i.findIndex(u=>u.id==="about")),s<0||s>=i.length)return;const l=i[s],r=`${Date.now()}`;l.sections.push({id:`val-icon-${r}`,type:"text",label:"İkon Kodu (Shield/Users/Leaf/Zap)",value:"Shield"},{id:`val-title-${r}`,type:"text",label:"Dəyər Başlığı",value:"YENİ DƏYƏR"},{id:`val-desc-${r}`,type:"text",label:"Dəyər Təsviri",value:"Dəyər təsvirini daxil edin."}),n(i),T.success("Yeni dəyər əlavə edildi")},bt=t=>{if(!t)return[];const i=new Map;return(t.sections||[]).forEach(s=>{const l=s.id.match(Za);if(!l)return;const r=Number(l[1]),u=cr(l[2]);if(!u)return;const m=i.get(r)||{index:r,name:"",tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${r}`};m[u]=s.value||"",i.set(r,m)}),Array.from(i.values()).sort((s,l)=>s.index-l.index)},et=t=>(t.imageId||"").trim()||`partner-image-${t.index}`,Gt=(t,i=o)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];if(!l||l.id!=="partners")return;const r=(l.sections||[]).filter(c=>!Za.test(c.id)),u=[];t.forEach(c=>{const x=et(c);u.push({id:`PARTNER_${c.index}_NAME`,type:"text",label:`Tərəfdaş ${c.index} Ad`,value:c.name},{id:`PARTNER_${c.index}_TAG`,type:"text",label:`Tərəfdaş ${c.index} Etiket`,value:c.tag},{id:`PARTNER_${c.index}_ICON`,type:"text",label:`Tərəfdaş ${c.index} İkon`,value:c.icon},{id:`PARTNER_${c.index}_USE_IMAGE`,type:"text",label:`Tərəfdaş ${c.index} Görsel İstifadə`,value:c.useImage},{id:`PARTNER_${c.index}_IMAGE_ID`,type:"text",label:`Tərəfdaş ${c.index} Görsel ID`,value:x})});const m=l.images||[],h=new Set(t.map(c=>et(c))),f=[...m];h.forEach(c=>{f.some(x=>x.id===c)||f.push({id:c,path:"",alt:c,type:"local",order:f.length})}),l.sections=[...r,...u],l.images=f.map((c,x)=>({...c,order:x})),n(s)},Ht=(t,i,s,l=o)=>{const r=bt(a[l]).map(u=>u.index===t?{...u,[i]:s}:u);Gt(r,l)},Cs=(t=o)=>{const i=bt(a[t]),s=(i[i.length-1]?.index||0)+1;i.push({index:s,name:`PARTNER ${s}`,tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${s}`}),Gt(i,t)},Os=(t,i=o)=>{const s=bt(a[i]).filter(l=>l.index!==t);Gt(s,i)},ra=(t,i,s=o)=>{const l=bt(a[s]),r=l.findIndex(f=>f.index===t);if(r===-1)return;const u=i==="up"?r-1:r+1;if(u<0||u>=l.length)return;const m=l[r];l[r]=l[u],l[u]=m;const h=l.map((f,c)=>({...f,index:c+1,imageId:et({...f,index:c+1})}));Gt(h,s)},da=(t,i=o)=>{if(i<0||i>=a.length)return"";const s=[...a],l=s[i];if(!l||l.id!=="partners")return"";const r=et(t);if((l.images||[]).find(h=>h.id===r))return r;const m=[...l.images||[]];return m.push({id:r,path:"",alt:t.name||`Partner ${t.index}`,type:"local",order:m.length}),l.images=m,n(s),r},oa=(t,i,s=o)=>{if(s<0||s>=a.length)return;const l=et(t),r=[...a],u=r[s];if(!u||u.id!=="partners")return;const m=[...u.images||[]];let h=m.findIndex(f=>f.id===l);h===-1&&(m.push({id:l,path:"",alt:t.name||`Partner ${t.index}`,type:"local",order:m.length}),h=m.length-1),typeof i.path=="string"&&(m[h].path=i.path),typeof i.alt=="string"&&(m[h].alt=i.alt),u.images=m.map((f,c)=>({...f,order:c})),n(r)},ca=(t,i)=>Ae(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||i,ks=[{id:"pilot",icon:"Info",titleKey:"RULES_PILOT_TITLE",titleFallback:"PİLOT PROTOKOLU",docNameFallback:"PILOT_PROTOKOLU.PDF",items:[{titleKey:"RULES_PILOT_SUB1",titleFallback:"İSTİFADƏÇİ ÖHDƏLİKLƏRİ",descKey:"RULES_PILOT_DESC1",descFallback:"HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR."},{titleKey:"RULES_PILOT_SUB2",titleFallback:"DİSKVALİFİKASİYA",descKey:"RULES_PILOT_DESC2",descFallback:"PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR."},{titleKey:"RULES_PILOT_SUB3",titleFallback:"TEXNİKİ TƏLƏBLƏR",descKey:"RULES_PILOT_DESC3",descFallback:"BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR."}]},{id:"technical",icon:"Settings",titleKey:"RULES_TECH_TITLE",titleFallback:"TEXNİKİ NORMARTİVLƏR",docNameFallback:"TEXNIKI_NORMATIVLER.PDF",items:[{titleKey:"RULES_TECH_SUB1",titleFallback:"TƏKƏR ÖLÇÜLƏRİ",descKey:"RULES_TECH_DESC1",descFallback:"PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR."},{titleKey:"RULES_TECH_SUB2",titleFallback:"MÜHƏRRİK GÜCÜ",descKey:"RULES_TECH_DESC2",descFallback:"MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR."},{titleKey:"RULES_TECH_SUB3",titleFallback:"ASQI SİSTEMİ",descKey:"RULES_TECH_DESC3",descFallback:"AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR."}]},{id:"safety",icon:"ShieldAlert",titleKey:"RULES_SAFETY_TITLE",titleFallback:"TƏHLÜKƏSİZLİK QAYDALARI",docNameFallback:"TEHLUKESIZLIK_QAYDALARI.PDF",items:[{titleKey:"RULES_SAFETY_SUB1",titleFallback:"KARKAS TƏLƏBİ",descKey:"RULES_SAFETY_DESC1",descFallback:"BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR."},{titleKey:"RULES_SAFETY_SUB2",titleFallback:"YANĞIN SÖNDÜRMƏ",descKey:"RULES_SAFETY_DESC2",descFallback:"HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR."},{titleKey:"RULES_SAFETY_SUB3",titleFallback:"KƏMƏR VƏ DƏBİLQƏ",descKey:"RULES_SAFETY_DESC3",descFallback:"5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR."}]},{id:"eco",icon:"Leaf",titleKey:"RULES_ECO_TITLE",titleFallback:"EKOLOJİ MƏSULİYYƏT",docNameFallback:"EKOLOJI_MESULIYYET.PDF",items:[{titleKey:"RULES_ECO_SUB1",titleFallback:"TULLANTILARIN İDARƏ EDİLMƏSİ",descKey:"RULES_ECO_DESC1",descFallback:'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.'},{titleKey:"RULES_ECO_SUB2",titleFallback:"MAYE SIZMALARI",descKey:"RULES_ECO_DESC2",descFallback:"AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR."},{titleKey:"RULES_ECO_SUB3",titleFallback:"MARŞRUTDAN KƏNARA ÇIXMAMAQ",descKey:"RULES_ECO_DESC3",descFallback:"TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR."}]}],Vt=(t,i,s)=>{const l=Ae((t.find(r=>r.id===i)?.value||"").toString());return!l||Yt(l)?s:l},Ds=t=>{const i=Vt(t,"BTN_DOWNLOAD_PDF","PDF YÜKLƏ"),s=zt((t.find(l=>l.id==="BTN_DOWNLOAD_PDF")?.url||"").toString());return ks.map((l,r)=>({index:r+1,id:l.id,title:Vt(t,l.titleKey,l.titleFallback),icon:l.icon,docName:l.docNameFallback,docButton:i,docUrl:s,items:l.items.map((u,m)=>({index:m+1,title:Vt(t,u.titleKey,u.titleFallback),desc:Vt(t,u.descKey,u.descFallback)}))}))},_i=t=>ca(t||"",""),Ue=t=>{if(!t||t.id!=="rulespage")return[];const i=new Map;(t.sections||[]).forEach(h=>{const f=h.id.match(dr);if(f){const x=Number(f[1]),U=f[2],H=i.get(x)||{id:`tab-${x}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map};U==="ID"&&(H.id=h.value||`tab-${x}`),U==="TITLE"&&(H.title=h.value||""),U==="ICON"&&(H.icon=h.value||"Info"),U==="DOC_NAME"&&(H.docName=h.value||""),U==="DOC_BUTTON"&&(H.docButton=h.value||""),U==="DOC_URL"&&(H.docUrl=zt(h.url||h.value||"")),i.set(x,H);return}const c=h.id.match(or);if(c){const x=Number(c[1]),U=Number(c[2]),H=c[3],P=i.get(x)||{id:`tab-${x}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map},ee=P.items.get(U)||{title:"",desc:""};H==="TITLE"&&(ee.title=h.value||""),H==="DESC"&&(ee.desc=h.value||""),P.items.set(U,ee),i.set(x,P)}});const s=Array.from(i.entries()).sort((h,f)=>h[0]-f[0]).map(([h,f])=>({index:h,id:f.id||`tab-${h}`,title:f.title||"",icon:f.icon||"Info",docName:f.docName||"",docButton:f.docButton||"",docUrl:f.docUrl||"",items:Array.from(f.items.entries()).sort((c,x)=>c[0]-x[0]).map(([c,x])=>({index:c,title:x.title||"",desc:x.desc||""}))})).filter(h=>h.title||h.items.length>0),l=Ds(t.sections||[]);if(!s.length)return l;const r=new Map;s.forEach(h=>{r.set(_i(h.id||h.title||""),h)});const u=new Set,m=l.map(h=>{const f=_i(h.id||h.title||""),c=r.get(f);return c?(u.add(f),{...h,...c,id:c.id||h.id,title:c.title||h.title,icon:c.icon||h.icon,docName:c.docName||h.docName,docButton:c.docButton||h.docButton,docUrl:c.docUrl||h.docUrl,items:c.items&&c.items.length>0?c.items:h.items}):h});return s.forEach(h=>{const f=_i(h.id||h.title||"");u.has(f)||m.push(h)}),m.map((h,f)=>({...h,index:f+1}))},tt=(t,i=o)=>{if(i<0||i>=a.length)return;const s=[...a],l=s[i];if(!l||l.id!=="rulespage")return;const r=(l.sections||[]).filter(m=>!Bi.test(m.id)),u=[];return t.forEach((m,h)=>{const f=h+1,c=ca(m.id||m.title||"",`tab-${f}`),x=Ae(m.title||`SEKME ${f}`),U=Mi.includes(m.icon)?m.icon:"Info",H=Ae(m.docName||`${c.toUpperCase()}_PROTOKOLU.PDF`),P=Ae(m.docButton||"PDF YÜKLƏ"),ee=ir(m.docUrl||"");u.push({id:`RULE_TAB_${f}_ID`,type:"text",label:`Qayda Sekməsi ${f} ID`,value:c},{id:`RULE_TAB_${f}_TITLE`,type:"text",label:`Qayda Sekməsi ${f} Başlıq`,value:x},{id:`RULE_TAB_${f}_ICON`,type:"text",label:`Qayda Sekməsi ${f} İkon`,value:U},{id:`RULE_TAB_${f}_DOC_NAME`,type:"text",label:`Sekmə ${f} Sənəd Adı`,value:H},{id:`RULE_TAB_${f}_DOC_BUTTON`,type:"text",label:`Sekmə ${f} Sənəd Düyməsi`,value:P},{id:`RULE_TAB_${f}_DOC_URL`,type:"text",label:`Sekmə ${f} Sənəd Linki`,value:ee,...ee?{url:ee}:{}}),(m.items||[]).forEach((xe,at)=>{const He=at+1;u.push({id:`RULE_TAB_${f}_ITEM_${He}_TITLE`,type:"text",label:`Sekmə ${f} Maddə ${He} Başlıq`,value:Ae(xe.title||"")},{id:`RULE_TAB_${f}_ITEM_${He}_DESC`,type:"text",label:`Sekmə ${f} Maddə ${He} Təsvir`,value:Ae(xe.desc||"")})})}),l.sections=[...r,...u].map((m,h)=>({...m,order:h})),n(s),s},ua=(t=o)=>{const i=Ue(a[t]),s=i.length+1;i.push({index:s,id:`tab-${s}`,title:`SEKME ${s}`,icon:"Info",docName:`TAB_${s}_PROTOKOLU.PDF`,docButton:"PDF YÜKLƏ",docUrl:"",items:[{index:1,title:"YENİ MADDƏ",desc:"Maddə təsviri..."}]}),tt(i,t),T.success("Yeni sekmə əlavə edildi")},pa=(t,i=o)=>{const s=Ue(a[i]).filter((l,r)=>r!==t);tt(s,i),T.success("Sekmə silindi")},Qt=(t,i,s=o)=>{const l=Ue(a[s]),r=i==="up"?t-1:t+1;if(r<0||r>=l.length)return;const u=l[t];l[t]=l[r],l[r]=u,tt(l,s)},Oe=(t,i,s,l=o)=>{const r=Ue(a[l]);r[t]&&(r[t]={...r[t],[i]:s},tt(r,l))},ma=(t,i=o)=>{const s=Ue(a[i]);if(!s[t])return;const l=(s[t].items?.length||0)+1;s[t].items=[...s[t].items||[],{index:l,title:`MADDƏ ${l}`,desc:"Maddə təsviri..."}],tt(s,i)},xa=(t,i,s=o)=>{const l=Ue(a[s]);l[t]&&(l[t].items=(l[t].items||[]).filter((r,u)=>u!==i),tt(l,s))},Wt=(t,i,s,l,r=o)=>{const u=Ue(a[r]);!u[t]||!u[t].items[i]||(u[t].items[i]={...u[t].items[i],[s]:l},tt(u,r))},Ii=(t,i)=>{L({pageIdx:t,imgId:i}),z(!0)},Ci=async(t,i)=>{const s=new FormData;s.append("image",t);const l=T.loading(i?.loadingText||"Şəkil yüklənir...");try{const r=await fetch("/api/upload-image",{method:"POST",body:s});if(r.ok){const u=await r.json();return T.success(i?.successText||"Şəkil uğurla yükləndi",{id:l}),u.url}else throw new Error("Upload fail")}catch(r){return console.error("Upload error:",r),T.error(i?.errorText||"Görsəl yüklənərkən xəta baş verdi",{id:l}),null}},Ge=async t=>Ci(t),Ms=async t=>t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")?(T.error("Yalnız PDF faylı yüklənə bilər"),null):Ci(t,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"}),Bs=async t=>{try{(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&localStorage.setItem(Pi,Date.now().toString())}catch(i){console.error("Silent save failed:",i)}},ha=async(t,i,s=o)=>{const l=await Ms(t);if(!l)return;const r=Ue(a[s]);if(!r[i])return;r[i]={...r[i],docName:t.name,docUrl:l};const u=tt(r,s);u&&J==="extract"&&await Bs(u)},zs=async(t,i,s)=>{const l=t.target.files?.[0];if(!l)return;const r=await Ge(l);if(r){const u=[...a],m=u[i].images.findIndex(h=>h.id===s);m!==-1&&(u[i].images[m].path=r,u[i].images[m].type="local",n(u))}},Ps=t=>{if(!O)return;const i=[...a];if(w){const s=`img-${i[O.pageIdx].images.length}-${Date.now()}`;i[O.pageIdx].images.push({id:s,path:t,alt:"Daxil edildi",type:"local"}),ae(!1)}else{const s=i[O.pageIdx].images.findIndex(l=>l.id===O.imgId);s!==-1&&(i[O.pageIdx].images[s].path=t,i[O.pageIdx].images[s].type="local")}n(i),z(!1),T.success("Şəkil seçildi")},Ot=async()=>{j(!0);const t=T.loading("Yadda saxlanılır...");try{const i=Date.now().toString();if(J==="extract"){const s=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw new Error(await s.text())}else if(J==="events"){const s=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)});if(!s.ok)throw new Error(await s.text())}else if(J==="news"){const s=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe)});if(!s.ok)throw new Error(await s.text())}else if(J==="drivers"){const s=await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(!s.ok)throw new Error(await s.text())}else if(J==="videos"){const s=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)});if(!s.ok)throw new Error(await s.text())}else if(J==="photos"){const s=await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(At)});if(!s.ok)throw new Error(await s.text())}localStorage.setItem(Pi,i),(J==="photos"||J==="videos"||J==="events")&&localStorage.setItem($n,i),T.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:t}),await ia()}catch(i){console.error("Save error:",i),T.error(`Yadda saxlama xətası: ${i.message} `,{id:t})}finally{j(!1)}},ws=t=>{const i=be.find(s=>s.id===t);i&&(le(t),De({...i}))},Be=(t,i,s)=>{const l=s||ke;De(r=>{const m=!s||s===ke?{...r,[t]:i}:r;return l&&Ye(h=>h.map(f=>f.id===l?{...f,[t]:i}:f)),m})},Us=()=>{const t=be.length>0?Math.max(...be.map(s=>s.id))+1:1,i={id:t,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",status:"planned"};Ye([...be,i]),le(t),De(i),T.success("Yeni tədbir yaradıldı")},Fs=async(t,i)=>{i.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(Ye(be.filter(s=>s.id!==t)),ke===t&&le(null),T.success("Tədbir silindi"))},Ys=t=>{const i=qe.find(s=>s.id===t);i&&(R(t),V({...i}))},ot=(t,i,s)=>{const l=s||d;V(r=>{const m=!s||s===d?{...r,[t]:i}:r;return l&&mt(h=>h.map(f=>f.id===l?{...f,[t]:i}:f)),m})},qs=()=>{const t=qe.length>0?Math.max(...qe.map(s=>s.id))+1:1,i={id:t,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};mt([...qe,i]),R(t),V(i),T.success("Yeni xəbər yaradıldı")},fa=t=>{Ke(t);const i=Q.find(s=>s.id===t);i&&ji({...i})},Zt=(t,i,s)=>{const l=ie;ji(r=>{let m={...r,[t]:i};if(t==="youtubeUrl"){const h=ga(i);h&&(m={...m,videoId:h,thumbnail:`https://img.youtube.com/vi/${h}/maxresdefault.jpg`})}return l&&ne(h=>h.map(f=>{if(f.id===l){let c={...f,[t]:i};if(t==="youtubeUrl"){const x=ga(i);x&&(c.videoId=x,c.thumbnail=`https://img.youtube.com/vi/${x}/maxresdefault.jpg`)}return c}return f})),m})},ga=t=>{const i=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=t.match(i);return s&&s[2].length===11?s[2]:null},ba=(t=At)=>t.reduce((s,l)=>{const r=Number(l.id);return Number.isFinite(r)&&r>s?r:s},0)+1,Ks=t=>{Nt(t);const i=At.find(s=>s.id===t);if(i){const s=he(i.album),l=i.eventId?be.find(r=>r.id===i.eventId):be.find(r=>he(r.title)===s);dt({...i,album:s}),Rt(s),Ni(l?String(l.id):"")}},$s=()=>{const t=Xi.trim();if(!t){T.error("Albom adı daxil edin");return}const i=he(t);if(Di(i)){T.error("Xüsusi albom adı yazın (Ümumi Arxiv olmaz)");return}Rt(i),Lt(i),Ji(""),T.success(`Albom seçildi: ${i}`)},Gs=t=>{if(Ni(t),!t)return;const i=Number(t);if(!Number.isFinite(i))return;const s=be.find(r=>r.id===i);if(!s)return;const l=he(s.title);Rt(l),Lt(l)},Hs=()=>{const t=ba(),i=he(Ai);if(Di(i)){T.error("Əvvəlcə albom seçin və ya event albomu təyin edin");return}const s=Number(ht),l=ht&&Number.isFinite(s)?s:null,r={id:t,title:"Yeni Şəkil",url:"",album:i,eventId:l};xt(u=>[...u,r]),Lt(i),Nt(t),dt({...r})},Vs=async(t,i)=>{i.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(xt(s=>s.filter(l=>l.id!==t)),rt===t&&(Nt(null),dt({})),T.success("Şəkil silindi"))},Xt=(t,i)=>{dt(s=>{const l={...s,[t]:i};return t==="album"&&(l.album=he(i),Rt(l.album)),rt!==null&&xt(r=>r.map(u=>u.id===rt?l:u)),l})},Qs=t=>{const i=Number(t),s=t&&Number.isFinite(i)?i:null,l=s!==null?be.find(r=>r.id===s):null;Ni(t),dt(r=>{const u={...r,eventId:s,album:he(l?l.title:r.album)};return Rt(u.album||hi),rt!==null&&xt(m=>m.map(h=>h.id===rt?u:h)),u})},Ws=async t=>{const i=t.target.files?.[0];if(!i)return;const s=await Ge(i);s&&Xt("url",s)},Zs=async t=>{const i=Array.from(t.target.files||[]);if(!i.length)return;const s=he(Ai);if(Di(s)){T.error("Çoxlu yükləmə üçün əvvəlcə albom seçin"),t.target.value="";return}const l=Number(ht),r=ht&&Number.isFinite(l)?l:null;let u=ba();const m=[];for(const h of i){const f=await Ge(h);if(!f)continue;const c=(h.name||"").replace(/\.[^/.]+$/,"").trim()||`Şəkil ${u}`;m.push({id:u,title:c,url:f,album:s,eventId:r}),u+=1}if(!m.length){T.error("Şəkillər yüklənmədi"),t.target.value="";return}xt(h=>[...h,...m]),Lt(s),Nt(m[0].id),dt({...m[0]}),T.success(`${m.length} şəkil "${s}" albomuna əlavə edildi`),m.length!==i.length&&T.error(`${i.length-m.length} fayl yüklənmədi`),t.target.value=""},Xs=()=>{const t=Q.length>0?Math.max(...Q.map(s=>s.id))+1:1,i={id:t,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};ne([...Q,i]),Ke(t),ji(i),T.success("Yeni video əlavə edildi")},Js=async(t,i)=>{i.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(ne(Q.filter(s=>s.id!==t)),ie===t&&Ke(null),T.success("Video silindi"))},el=async(t,i)=>{i.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(mt(qe.filter(s=>s.id!==t)),d===t&&R(null),T.success("Xəbər silindi"))},tl=t=>{It(t),Ct(null),gt({})},il=t=>{Ct(t);const s=Ce.find(l=>l.id===de)?.drivers.find(l=>l.id===t);s&&gt({...s})},ct=(t,i)=>{!de||!ft||gt(s=>{const l={...s,[t]:i};return Je(r=>r.map(u=>u.id===de?{...u,drivers:u.drivers.map(m=>m.id===ft?l:m)}:u)),l})},al=()=>{if(!de){T.error("Öncə kateqoriya seçin və ya yaradın");return}const t=Date.now(),i={id:t,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};Je(s=>s.map(l=>l.id===de?{...l,drivers:[...l.drivers,i]}:l)),Ct(t),gt(i),T.success("Yeni sürücü siyahıya əlavə edildi")},sl=t=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&(Je(i=>i.map(s=>s.id===de?{...s,drivers:s.drivers.filter(l=>l.id!==t)}:s)),ft===t&&(Ct(null),gt({})),T.success("Sürücü silindi"))},ll=async()=>{const t=Le,i=Ce.map(l=>l.id===de?{...l,drivers:l.drivers.map(r=>r.id===ft?{...r,...t}:r)}:l);j(!0);const s=T.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw new Error("Yadda saxlama uğursuz oldu");Je(i),T.success("Bütün sürücü məlumatları qeyd edildi",{id:s})}catch{T.error("Xəta baş verdi",{id:s})}finally{j(!1)}},nl=()=>{const t=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!t)return;const i=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(Ce.find(l=>l.id===i)){T.error("Bu adda kateqoriya artıq mövcuddur");return}const s={id:i,name:t,drivers:[]};Je([...Ce,s]),It(i),T.success("Kateqoriya əlavə edildi")},rl=()=>{if(!de)return;const t=Ce.find(i=>i.id===de);if(t&&window.confirm(`"${t.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const i=Ce.filter(s=>s.id!==de);Je(i),i.length>0?It(i[0].id):It(null),Ct(null),gt({}),T.success("Kateqoriya silindi")}},dl=t=>{if(!de)return;const i=t.trim();if(!i){T.error("Kateqoriya adı boş ola bilməz");return}Je(s=>s.map(l=>l.id===de?{...l,name:i}:l))};if(a.length===0&&!y&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(_e,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:Rs,children:"Sinxronizasiyanı Başlat"})]})});if(y)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${D}%`}})}),e.jsx("div",{className:"step-label",children:Y})]})});const G=a[o],va=Xa(ve),Oi=va.map(t=>{const i=a.findIndex(s=>s.id===t);return i===-1?null:{page:a[i],pageIdx:i}}).filter(Boolean),ol=!!ve&&va.length>1&&(!!pt[ve]||!!gi[ve]),cl=J==="extract"&&ol&&Oi.length>0,ya=!!ve&&(ve==="home"||gi[ve]==="home"),Sa=ya?Oi.filter(({page:t})=>mr[ta].includes(t.id)):Oi,it=ge.trim().toLowerCase(),je=(...t)=>it?t.some(i=>(i||"").toString().toLowerCase().includes(it)):!0,vt=(G?.sections||[]).filter(t=>Wa(t)||G?.id==="about"&&ut(t.id)||G?.id==="partners"||G?.id==="rulespage"&&Bi.test(t.id)||G?.id==="rulespage"&&t.id.startsWith("RULES_")?!1:je(t.id,t.label,t.value,t.url)).sort((t,i)=>Se(t.order,0)-Se(i.order,0)),ja=G?.id==="about"?(()=>{const t=new Map;return(G.sections||[]).forEach(s=>{if(!ut(s.id))return;const l=Qa(s.id)||s.id,r=t.get(l)||{label:"",value:""};s.id.startsWith(We)&&(r.label=s.value||""),s.id.startsWith(Ze)&&(r.value=s.value||""),t.set(l,r)}),Array.from(t.entries()).sort(([s],[l])=>s.localeCompare(l,void 0,{numeric:!0})).map(([s,l])=>({suffix:s,...l})).filter(s=>je(s.suffix,s.label,s.value))})():[],Ta=G?.id==="rulespage"?Ue(G):[],Jt=(G?.images||[]).filter(t=>je(t.id,t.alt,t.path)).sort((t,i)=>Se(t.order,0)-Se(i.order,0)),ul=t=>{const i=(t.value||"").toLowerCase();return i.includes("<p")||i.includes("<br")||i.includes("[b]")||i.includes("[i]")||i.includes("[u]")||i.includes("[url")||i.includes("[img")||i.includes("[center]")},Ea=t=>/^val-(icon|title|desc)-/i.test(t.id),pl=t=>Ea(t)?/^val-icon-/i.test(t.id)?"icon":/^val-title-/i.test(t.id)?"title":/^val-desc-/i.test(t.id)?"desc":null:null,ml=(t,i)=>!i||i!=="privacypolicypage"&&i!=="termsofservicepage"?!1:t.id==="INTRO_TEXT"?!0:/^SECTION_\d+_BODY$/.test(t.id),xl=(t,i)=>`${t}::${i}`,ei=(t,i,s=o,l=G)=>{const r=lt(t),u=ui(t,"label"),m=ui(t,"value"),h=ui(t,"url"),f=!!(t.url||"").trim(),c=lr(t),x=l?.sections||[],U=x.findIndex(se=>se.id===t.id),H=U>0,P=U>=0&&U<x.length-1,ee=Ea(t),xe=pl(t),at=xe==="icon",He=l?.id||G?.id||"unknown",kt=xl(He,t.id),Dt=!!ue[kt],ti=ee?!1:Dt,ii=ml(t,l?.id)?8:4;nr(t);const ai=rr(t,l?.id),Ve=(t.value||"").trim(),si=!!(Ve&&Ga[Ve]);return e.jsxs("div",{className:"field-item-wrapper",style:{background:"#fcfcfd",padding:"1.25rem",borderRadius:"14px",border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",minWidth:260,flex:1},children:[e.jsx("input",{type:"text",value:Yt(t.label)?fi(t.label):t.label,onChange:se=>$e(s,t.id,"label",se.target.value),disabled:!u,style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),e.jsx("div",{className:"section-meta-hint",children:ai}),e.jsxs("div",{className:"section-technical-id",children:["ID: ",t.id]})]}),r&&!0&&e.jsx("span",{style:{fontSize:"10px",color:"#475569",background:"#f1f5f9",borderRadius:"999px",padding:"3px 8px",fontWeight:700},children:"Açar mətn"}),e.jsxs("span",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginLeft:"0"},children:["Sıra: ",i+1]}),e.jsxs("label",{className:"section-hide-toggle",children:[e.jsx("input",{type:"checkbox",checked:Dt,onChange:se=>{Re(yt=>({...yt,[kt]:se.target.checked}))}}),e.jsx("span",{children:"Paneldə gizlə"})]})]}),ti?e.jsx("div",{className:"section-collapsed-tip",children:"Bu section paneldə gizlidir. Yenidən göstərmək üçün “Paneldə gizlə” seçimini söndürün."}):e.jsxs(e.Fragment,{children:[at?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(54px, 1fr))",gap:"8px"},children:Wn.map(se=>{const yt=Ga[se],St=Ve===se;return e.jsx("button",{type:"button",title:se,onClick:()=>$e(s,t.id,"value",se),disabled:!m,style:{height:"48px",border:St?"1px solid #f97316":"1px solid #e2e8f0",borderRadius:"10px",background:St?"#fff7ed":"#fff",color:St?"#ea580c":"#475569",display:"flex",alignItems:"center",justifyContent:"center",cursor:m?"pointer":"not-allowed"},children:e.jsx(yt,{size:18})},`${t.id}-${se}`)})}),Ve&&!si&&e.jsxs("div",{style:{fontSize:"11px",color:"#b45309",fontWeight:700},children:["Naməlum ikon kodu: ",Ve,". Düzgün ikon seçin."]}),e.jsxs("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:["Seçilmiş ikon: ",Ve||"-"]})]}):xe==="title"?e.jsx("input",{type:"text",value:t.value||"",onChange:se=>$e(s,t.id,"value",se.target.value),disabled:!m,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}):r||!ul(t)||xe==="desc"?e.jsx("textarea",{value:t.value||"",onChange:se=>$e(s,t.id,"value",se.target.value),disabled:!m,rows:xe==="desc"?3:ii,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(ci,{id:`editor-${t.id}`,value:oi(t.value||""),onChange:se=>$e(s,t.id,"value",se),readOnly:!m}),f&&!0&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(_e,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:zt(t.url||""),onChange:se=>$e(s,t.id,"url",se.target.value),onBlur:()=>Ls(s,t.id),disabled:!h,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginTop:"0.9rem"},children:[!f&&h&&e.jsxs("button",{title:"Link əlavə et",onClick:()=>$e(s,t.id,"url",`${window.location.origin}/`),style:{background:"#fff",border:"1px solid #dbeafe",color:"#2563eb",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(_e,{size:12})," Link əlavə et"]}),e.jsxs(e.Fragment,{children:[e.jsxs("button",{title:"Yuxarı daşı",onClick:()=>Kt("text",t.id,"up",s),disabled:!H,style:{background:"#fff",border:"1px solid #e2e8f0",color:H?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:H?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Mt,{size:12})," Yuxarı"]}),e.jsxs("button",{title:"Aşağı daşı",onClick:()=>Kt("text",t.id,"down",s),disabled:!P,style:{background:"#fff",border:"1px solid #e2e8f0",color:P?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:P?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Bt,{size:12})," Aşağı"]}),c&&e.jsxs("button",{className:"field-delete-btn",onClick:()=>la("text",t.id,s),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(ye,{size:12})," Sil"]})]})]})]})]},`${t.id}-${i}`)},hl=(()=>{if(G?.id!=="contactpage")return[];const t=new Set,i=Jn.map(l=>{const r=l.ids.map(u=>vt.find(m=>m.id===u)).filter(Boolean);return r.forEach(u=>t.add(u.id)),{title:l.title,subtitle:l.subtitle,sections:r}}).filter(l=>l.sections.length>0),s=vt.filter(l=>!t.has(l.id));return s.length>0&&i.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən sahələr",sections:s}),i})(),fl=(()=>{if(!G?.id||!Ha[G.id])return[];const t=new Set,i=Ha[G.id].map(l=>{const r=l.ids.map(u=>vt.find(m=>m.id===u)).filter(Boolean);return r.forEach(u=>t.add(u.id)),{title:l.title,subtitle:l.subtitle,sections:r}}).filter(l=>l.sections.length>0),s=vt.filter(l=>!t.has(l.id));return s.length>0&&i.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən əlavə sahələr",sections:s}),i})(),Aa=(t,i=16)=>{const s=Xn[t]||xs;return e.jsx(s,{size:i})},Na=(t,i)=>{const s=bt(t).filter(l=>{const r=et(l),u=(t.images||[]).find(m=>m.id===r);return je(l.index,l.name,l.tag,l.icon,l.useImage,l.imageId,u?.path,u?.alt)});return e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Pt,{size:16})," Tərəfdaş Kartları"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Cs(i),children:[e.jsx(ce,{size:14})," Tərəfdaş Əlavə Et"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"6px",fontWeight:700},children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:t.sections.find(l=>l.id==="SECTION_TITLE")?.value||"",onChange:l=>$e(i,"SECTION_TITLE","value",l.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"10px"},children:s.length===0?e.jsx("div",{style:{gridColumn:"1/-1",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:ge?"Axtarışa uyğun tərəfdaş tapılmadı.":'Hələ tərəfdaş kartı yoxdur. "Tərəfdaş Əlavə Et" ilə başlayın.'}):s.map((l,r)=>{const u=r>0,m=r<s.length-1,h=et(l),f=(t.images||[]).find(x=>x.id===h),c=["1","true","yes","on"].includes((l.useImage||"").toLowerCase());return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"12px",background:"#fff",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"#f1f5f9",border:"1px solid #e2e8f0",color:"#334155",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:800},children:r+1}),e.jsx("input",{type:"text",value:l.name,onChange:x=>Ht(l.index,"name",x.target.value,i),placeholder:"Tərəfdaş adı",style:{flex:1,padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"72px 1fr",gap:"10px",alignItems:"start"},children:[e.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"#f8fafc",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:c?f?.path?e.jsx("img",{src:f.path,alt:f.alt||l.name||`Partner ${l.index}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(ze,{size:18}):Aa(l.icon||"ShieldCheck",18)}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("button",{type:"button",onClick:()=>Ht(l.index,"useImage","false",i),style:{padding:"7px 10px",borderRadius:"8px",border:c?"1px solid #e2e8f0":"1px solid #fb923c",background:c?"#fff":"#fff7ed",color:c?"#334155":"#c2410c",fontSize:"12px",fontWeight:700},children:"İkon"}),e.jsx("button",{type:"button",onClick:()=>{Ht(l.index,"useImage","true",i),da(l,i)},style:{padding:"7px 10px",borderRadius:"8px",border:c?"1px solid #fb923c":"1px solid #e2e8f0",background:c?"#fff7ed":"#fff",color:c?"#c2410c":"#334155",fontSize:"12px",fontWeight:700},children:"Görsəl"})]}),c?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:"6px"},children:[e.jsx("input",{type:"text",value:f?.path||"",onChange:x=>oa(l,{path:x.target.value},i),placeholder:"Görsel URL / yol",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`partner-upload-${i}-${l.index}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async x=>{const U=x.target.files?.[0];if(!U)return;const H=await Ge(U);H&&oa(l,{path:H},i),x.target.value=""}}),e.jsx("button",{type:"button",className:"btn-secondary",style:{padding:"8px 10px",fontSize:"12px"},onClick:()=>document.getElementById(`partner-upload-${i}-${l.index}`)?.click(),children:"Yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{padding:"8px 10px",fontSize:"12px"},onClick:()=>{const x=da(l,i);x&&Ii(i,x)},children:"Kitabxana"})]}):e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Zn.map(x=>{const U=(l.icon||"").toLowerCase()===x.toLowerCase();return e.jsxs("button",{type:"button",onClick:()=>Ht(l.index,"icon",x,i),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"7px 10px",borderRadius:"8px",border:U?"1px solid #fb923c":"1px solid #e2e8f0",background:U?"#fff7ed":"#fff",color:U?"#c2410c":"#334155",fontSize:"12px",fontWeight:700},children:[Aa(x,14),x]},`${l.index}-${x}`)})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end",marginTop:"2px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>ra(l.index,"up",i),disabled:!u,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:u?"#334155":"#cbd5e1"},children:e.jsx(Mt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>ra(l.index,"down",i),disabled:!m,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:m?"#334155":"#cbd5e1"},children:e.jsx(Bt,{size:14})}),e.jsx("button",{title:"Sil",onClick:()=>Os(l.index,i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ye,{size:14})})]})]},`${i}-${l.index}`)})})]})},Ra=qe.filter(t=>je(t.title,t.date,t.category,t.status,t.description)),La=be.filter(t=>je(t.title,t.date,t.location,t.category,t.status,t.description)),_a=Q.filter(t=>je(t.title,t.duration,t.youtubeUrl,t.videoId,t.created_at)),gl=be.map(t=>({eventId:t.id,album:he(t.title)})).filter((t,i,s)=>s.findIndex(l=>l.album===t.album)===i),bl=Array.from(new Set([hi,...gl.map(t=>t.album),...At.map(t=>he(t.album)),he(Ai),he(typeof we.album=="string"?we.album:"")])).filter(t=>!!t.trim()).sort((t,i)=>t.localeCompare(i,"az")),Ia=Ri==="all"?"all":he(Ri),Ca=At.filter(t=>{const i=he(t.album);return(Ia==="all"||i===Ia)&&je(t.title,t.url,i)}),vl=()=>{me({}),Re({}),T.success("Gizlədilən bütün sahələr yenidən açıldı")};return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(_e,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(ps,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:ge,onChange:t=>Ne(t.target.value),className:"header-search-input"})]}),e.jsxs("div",{className:"header-actions",children:[J==="extract"&&e.jsx("span",{className:"editor-lock-badge",title:"Geniş rejim məcburi aktivdir",children:"Geniş Rejim: Məcburi"}),J==="extract"&&e.jsx("button",{type:"button",className:"editor-secondary-btn",onClick:vl,title:"Paneldə gizlədilən bütün bölmələri yenidən göstər",children:"Gizlədilənləri Aç"}),e.jsx("button",{className:`save-btn ${v?"saving":""}`,onClick:Ot,disabled:v,children:v?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(Vi,{size:16})," Saxla"]})})]})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${J==="extract"?"active":""}`,onClick:()=>Me("extract"),children:"Ana Səhifə"}),e.jsx("button",{className:`mode-btn ${J==="events"?"active":""}`,onClick:()=>Me("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${J==="news"?"active":""}`,onClick:()=>Me("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${J==="drivers"?"active":""}`,onClick:()=>Me("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${J==="videos"?"active":""}`,onClick:()=>Me("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${J==="photos"?"active":""}`,onClick:()=>Me("photos"),children:"Fotolar"})]}),J==="extract"&&e.jsx("div",{className:"editor-view-note",children:"Geniş rejim məcburi aktivdir: texniki ID, sıralama, silmə və gizlətmə alətləri hər zaman görünür."})]}),J==="news"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:qs,children:e.jsx(ce,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Ra.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:it?"Axtarışa uyğun xəbər tapılmadı.":'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):Ra.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${d===t.id?"active":""}`,onClick:()=>Ys(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(wt,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>el(t.id,i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ye,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:d!==null&&I.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(wt,{size:22})," Xəbəri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[I.title," // ID: ",I.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:I.title,onChange:t=>ot("title",t.target.value,I.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:I.date,onChange:t=>ot("date",t.target.value,I.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:I.category,onChange:t=>ot("category",t.target.value,I.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:I.status,onChange:t=>ot("status",t.target.value,I.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:I.img?e.jsx("img",{src:I.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:I.img,onChange:t=>ot("img",t.target.value,I.id)}),e.jsx("input",{type:"file",id:"news-full-img",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await Ge(i);s&&ot("img",s,I.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(ci,{id:"news-full-desc",value:oi(I.description||""),onChange:t=>ot("description",t,I.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Ot,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(wt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):J==="events"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:Us,children:e.jsx(ce,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:La.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:it?"Axtarışa uyğun tədbir tapılmadı.":'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):La.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ke===t.id?"active":""}`,onClick:()=>ws(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(mi,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>Fs(t.id,i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ye,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ke!==null&&Z.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(mi,{size:22})," Tədbiri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[Z.title," // ID: ",Z.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:Z.title,onChange:t=>Be("title",t.target.value,Z.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:Z.date,onChange:t=>Be("date",t.target.value,Z.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:Z.location,onChange:t=>Be("location",t.target.value,Z.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:Z.category,onChange:t=>Be("category",t.target.value,Z.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:Z.status,onChange:t=>Be("status",t.target.value,Z.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:Z.img?e.jsx("img",{src:Z.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Z.img,onChange:t=>Be("img",t.target.value,Z.id)}),e.jsx("input",{type:"file",id:"event-full-img",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await Ge(i);s&&Be("img",s,Z.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(ci,{id:"event-full-desc",value:oi(Z.description||""),onChange:t=>Be("description",t,Z.id)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PDF URL"}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:Z.pdfUrl||"",onChange:t=>Be("pdfUrl",t.target.value,Z.id),placeholder:"https://.../rules.pdf"}),e.jsx("input",{type:"file",id:"event-full-pdf",accept:".pdf,application/pdf",style:{display:"none"},onChange:async t=>{const i=t.target.files?.[0];if(!i)return;if(i.type!=="application/pdf"&&!i.name.toLowerCase().endsWith(".pdf")){T.error("Yalnız PDF faylı yüklənə bilər");return}const s=await Ci(i,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"});s&&Be("pdfUrl",s,Z.id),t.target.value=""}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-full-pdf")?.click(),className:"btn-secondary",children:"PDF Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(ci,{id:"event-full-rules",value:oi(Z.rules||""),onChange:t=>Be("rules",t,Z.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Ot,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(mi,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):J==="drivers"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:nl,title:"Kateqoriya əlavə et",children:e.jsx(ce,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:rl,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(ye,{size:16})})]})]}),e.jsx("select",{value:de||"",onChange:t=>tl(t.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:Ce.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),de&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"11px",fontWeight:800,color:"#64748b",textTransform:"uppercase"},children:"Kateqoriya adı"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:e.jsx("input",{type:"text",value:Ce.find(t=>t.id===de)?.name||"",onChange:t=>dl(t.target.value),placeholder:"Kateqoriya adı",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"}})})]}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:al,children:e.jsx(ce,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:de&&(Ce.find(t=>t.id===de)?.drivers||[]).filter(t=>je(t.name,t.license,t.team,t.rank,t.points,t.wins)).length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:it?"Axtarışa uyğun sürücü tapılmadı.":"Bu kateqoriyada sürücü yoxdur."}):(Ce.find(t=>t.id===de)?.drivers||[]).filter(t=>je(t.name,t.license,t.team,t.rank,t.points,t.wins)).map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ft===t.id?"active":""}`,onClick:()=>il(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",t.rank]})," ",t.name]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>{i.stopPropagation(),sl(t.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ye,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ft!==null&&Le.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:Le.name}),e.jsxs("p",{style:{color:"#64748b"},children:[Ce.find(t=>t.id===de)?.name," // RANK #",Le.rank]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:Le.name,onChange:t=>ct("name",t.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:Le.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:Le.license,onChange:t=>ct("license",t.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:Le.team,onChange:t=>ct("team",t.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:Le.wins,onChange:t=>ct("wins",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:Le.points,onChange:t=>ct("points",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{className:"input-row",children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:Le.img?e.jsx("img",{src:Le.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ze,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{className:"input-row",style:{flex:1},children:[e.jsx("input",{type:"text",value:Le.img||"",onChange:t=>ct("img",t.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async t=>{const i=t.target.files?.[0];if(i){const s=await Ge(i);s&&ct("img",s)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:ll,disabled:v,children:v?"Gözləyin...":"Sürücünü Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Pt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):J==="videos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:Xs,children:e.jsx(ce,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:_a.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:it?"Axtarışa uyğun video tapılmadı.":"Heç bir video əlavə edilməyib."}):_a.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${ie===t.id?"active":""}`,onClick:()=>fa(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>{i.stopPropagation(),Js(t.id,i)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ye,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:ie!==null&&Ie.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[Ie.title," // ID: ",Ie.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:Ie.title,onChange:t=>Zt("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(_e,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:Ie.youtubeUrl,onChange:t=>Zt("youtubeUrl",t.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{className:"edit-grid grid-2-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:Ie.duration,onChange:t=>Zt("duration",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:Ie.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:Ie.created_at||"",onChange:t=>Zt("created_at",t.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[Ie.thumbnail?e.jsx("img",{src:Ie.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Ui,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),Ie.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(Ie.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(Ul,{size:24,fill:"currentColor"})})})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Ot,disabled:v,children:v?"Gözləyin...":"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ui,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):J==="photos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{marginBottom:"1rem"},children:[e.jsx("h3",{style:{marginBottom:"0.75rem"},children:"Foto Arxiv"}),e.jsxs("div",{style:{display:"grid",gap:"8px"},children:[e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b"},children:"EVENT ALBOMU"}),e.jsxs("select",{value:ht,onChange:t=>Gs(t.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"",children:"Event seçilməyib"}),be.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]}),e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b",marginTop:"4px"},children:"YENİ ALBOM"}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("input",{type:"text",value:Xi,onChange:t=>Ji(t.target.value),placeholder:"Məs: Bakı Ralli 2026",style:{flex:1,minWidth:0,padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("button",{type:"button",onClick:$s,style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Seç"})]}),e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b",marginTop:"4px"},children:"ALBOM FİLTRİ"}),e.jsxs("select",{value:Ri,onChange:t=>Lt(t.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"all",children:"Bütün albomlar"}),bl.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px"},children:[e.jsxs("button",{className:"add-section-btn",onClick:Hs,title:"Yeni şəkil əlavə et",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(ce,{size:14}),"Yeni"]}),e.jsx("button",{type:"button",onClick:()=>ea.current?.click(),style:{flex:1,padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Çoxlu Yüklə"}),e.jsx("input",{ref:ea,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:Zs})]})]})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:Ca.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:it?"Axtarışa uyğun şəkil tapılmadı.":"Şəkil yoxdur"}):Ca.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${rt===t.id?"active":""}`,onClick:()=>Ks(t.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px",textAlign:"left"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:t.url?e.jsx("img",{src:t.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(ze,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsxs("div",{style:{minWidth:0,display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title}),e.jsx("span",{style:{fontSize:"10px",color:"#94a3b8",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:he(t.album)})]})]}),e.jsx("button",{className:"delete-section-btn",onClick:i=>Vs(t.id,i),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(ye,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:rt!==null&&we.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[we.title," // ID: ",we.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:we.title,onChange:t=>Xt("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ALBOM"}),e.jsx("input",{type:"text",value:we.album||"",onChange:t=>Xt("album",t.target.value),placeholder:"Məs: Bakı Ralli 2026",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"EVENT BAĞLANTISI (İSTƏYƏ BAĞLI)"}),e.jsxs("select",{value:ht,onChange:t=>Qs(t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Event seçilməyib"}),be.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[we.url?e.jsx("img",{src:we.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(ze,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:Ws}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(ce,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:we.url||"",onChange:t=>Xt("url",t.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Ot,disabled:v,children:v?"Gözləyin...":"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(ze,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsx("div",{className:"editor-layout",children:e.jsx("main",{className:"editor-canvas",style:{width:"100%"},children:cl?e.jsxs("div",{className:"edit-fields",style:{width:"100%"},children:[ya&&e.jsx("div",{className:"canvas-header",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"Ana Səhifə Blokları"}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:pr.map(t=>e.jsx("button",{type:"button",className:`mode-btn ${ta===t.id?"active":""}`,onClick:()=>_t(t.id),style:{minWidth:"120px"},children:t.label},t.id))})]})}),ve==="abouttab"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"HAQQIMIZDA"})}),Sa.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Seçilən sekmədə göstəriləcək məzmun tapılmadı."}),Sa.map(({page:t,pageIdx:i})=>{const s=t.id==="marquee",l=s&&!!q[t.id],r=(t.sections||[]).filter(c=>Wa(c)||t.id==="about"&&ut(c.id)||t.id==="partners"||t.id==="rulespage"&&Bi.test(c.id)||t.id==="rulespage"&&c.id.startsWith("RULES_")?!1:je(c.id,c.label,c.value,c.url)).sort((c,x)=>Se(c.order,0)-Se(x.order,0)),u=(t.images||[]).filter(c=>je(c.id,c.alt,c.path)).sort((c,x)=>Se(c.order,0)-Se(x.order,0)),m=t.id==="about"?(()=>{const c=new Map;return(t.sections||[]).forEach(x=>{if(!ut(x.id))return;const U=Qa(x.id)||x.id,H=c.get(U)||{label:"",value:""};x.id.startsWith(We)&&(H.label=x.value||""),x.id.startsWith(Ze)&&(H.value=x.value||""),c.set(U,H)}),Array.from(c.entries()).sort(([x],[U])=>x.localeCompare(U,void 0,{numeric:!0})).map(([x,U])=>({suffix:x,...U})).filter(x=>je(x.suffix,x.label,x.value))})():[],h=t.id==="rulespage"?Ue(t).filter(c=>je(c.id,c.title,c.icon,c.docName,c.docButton,c.docUrl,...(c.items||[]).flatMap(x=>[x.title,x.desc]))):[],f=t.id==="partners"?bt(t).filter(c=>{const x=et(c),U=(t.images||[]).find(H=>H.id===x);return je(c.index,c.name,c.tag,c.icon,c.useImage,c.imageId,U?.path,U?.alt)}):[];return it&&r.length===0&&u.length===0&&m.length===0&&h.length===0&&f.length===0?null:e.jsxs("div",{className:"field-group",children:[e.jsx("div",{className:"canvas-header",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("h2",{style:{fontSize:"1.05rem",fontWeight:800,color:"var(--text-main)"},children:zi[t.id]||t.title}),pi(t.id)&&e.jsx("p",{className:"page-help-note",children:pi(t.id)})]})}),s&&e.jsxs("div",{className:"marquee-control-panel",children:[e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Marquee aktivdir"}),e.jsx("div",{className:"marquee-control-desc",children:"Frontenddə sürüşən yazı göstərilsin"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Marquee aktivdir",children:[e.jsx("input",{type:"checkbox",checked:t.active!==!1,onChange:c=>{const x=[...a];x[i]&&(x[i].active=c.target.checked,n(x))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]}),e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Paneldə gizlə"}),e.jsx("div",{className:"marquee-control-desc",children:"Bu kartı editorda daralt və yadda saxla"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Paneldə gizlə",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:c=>{me(x=>({...x,[t.id]:c.target.checked}))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]})]}),(t.id!=="marquee"||!l)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[t.id==="about"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Statistikalar"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Li(i),children:[e.jsx(ce,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map(c=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:c.label,onChange:x=>$t(c.suffix,"label",x.target.value,i),placeholder:"Statistika adı",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:c.value,onChange:x=>$t(c.suffix,"value",x.target.value,i),placeholder:"Dəyər",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{type:"button",onClick:()=>na(c.suffix,i),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ye,{size:14})})]},c.suffix))})]}),t.id==="rulespage"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Qaydalar Sekmələri"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>ua(i),children:[e.jsx(ce,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:h.map((c,x)=>{const U=x>0,H=x<h.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"10px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px 160px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:c.title,onChange:P=>Oe(x,"title",P.target.value,i),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:c.id,onChange:P=>Oe(x,"id",P.target.value,i),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:c.icon,onChange:P=>Oe(x,"icon",P.target.value,i),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:Mi.map(P=>e.jsx("option",{value:P,children:P},P))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{type:"button",title:"Yuxarı",onClick:()=>Qt(x,"up",i),disabled:!U,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:U?"#334155":"#cbd5e1"},children:e.jsx(Mt,{size:14})}),e.jsx("button",{type:"button",title:"Aşağı",onClick:()=>Qt(x,"down",i),disabled:!H,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:H?"#334155":"#cbd5e1"},children:e.jsx(Bt,{size:14})}),e.jsx("button",{type:"button",title:"Sekməni sil",onClick:()=>pa(x,i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ye,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:c.docName||"",onChange:P=>Oe(x,"docName",P.target.value,i),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:c.docButton||"",onChange:P=>Oe(x,"docButton",P.target.value,i),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(_e,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:c.docUrl||"",onChange:P=>Oe(x,"docUrl",P.target.value,i),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-${i}-${x}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async P=>{const ee=P.target.files?.[0];ee&&(await ha(ee,x,i),P.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-${i}-${x}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(c.items||[]).map((P,ee)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:P.title,onChange:xe=>Wt(x,ee,"title",xe.target.value,i),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{type:"button",title:"Maddəni sil",onClick:()=>xa(x,ee,i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ye,{size:14})})]}),e.jsx("textarea",{rows:3,value:P.desc,onChange:xe=>Wt(x,ee,"desc",xe.target.value,i),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-tab-item-group-${c.index}-${P.index}`)),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>ma(x,i),children:[e.jsx(ce,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-group-${c.index}-${c.id}`)})})]}),t.id==="partners"&&Na(t,i),r.map((c,x)=>ei(c,x,i,t))]}),t.id!=="partners"&&e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:700},children:"Şəkillər"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>{const c=[...a],x=c[i];x&&(x.images.push({id:`img-${x.images.length}-${Date.now()}`,path:"",alt:"",type:"local",order:x.images.length}),n(c))},children:[e.jsx(ce,{size:14})," Yeni Şəkil"]})]}),e.jsxs("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:[u.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Bu bölmədə şəkil yoxdur."}),u.map(c=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",padding:"0.75rem",background:"#fff"},children:[e.jsx("div",{style:{height:"120px",background:"#f8fafc",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:c.path?e.jsx("img",{src:c.path,alt:c.alt||c.id,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:"Önizləmə yoxdur"})}),e.jsx("input",{type:"text",value:c.path,placeholder:"Tam şəkil linki",onChange:x=>{const U=[...a],H=U[i];if(!H)return;const P=H.images.findIndex(ee=>ee.id===c.id);P!==-1&&(H.images[P].path=x.target.value,n(U))},style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",marginBottom:"8px"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:`group-file-up-${t.id}-${c.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async x=>{const U=x.target.files?.[0];if(!U)return;const H=await Ge(U);if(!H)return;const P=[...a],ee=P[i];if(!ee)return;const xe=ee.images.findIndex(at=>at.id===c.id);xe!==-1&&(ee.images[xe].path=H,ee.images[xe].type="local",n(P))}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`group-file-up-${t.id}-${c.id}`)?.click(),style:{fontSize:"11px",padding:"6px 10px"},children:"Fayldan yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Ii(i,c.id),style:{fontSize:"11px",padding:"6px 10px"},children:"Kitabxanadan seç"})]}),e.jsx("input",{type:"text",value:c.alt,placeholder:"Alt mətni",onChange:x=>aa(i,c.id,x.target.value),style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px"}})]},`${t.id}-${c.id}`))]})]})]}),l&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Marquee bölməsi paneldə gizlədildi. Yuxarıdakı checkbox ilə geri aça bilərsiniz."})]},t.id)})]}):G?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:zi[G.id]||G.title}),pi(G.id)&&e.jsx("p",{className:"page-help-note",children:pi(G.id)})]}),e.jsxs("div",{className:"canvas-actions",children:[G.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Li(),style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(Pt,{size:14})," Statistika Əlavə Et"]}),(G.id==="about"||G.id==="values")&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Is(),style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(ce,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const t=[...a];t[o].active=G?.active===!1,n(t),T.success(t[o].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:G?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:G?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[G.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Pt,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Li(),children:[e.jsx(ce,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:ja.length>0?ja.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:t.label,onChange:i=>$t(t.suffix,"label",i.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.value,onChange:i=>$t(t.suffix,"value",i.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>na(t.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ye,{size:14})})]},t.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:ge?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),G.id==="partners"&&Na(G,o),G.id==="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(bi,{size:16})," Qaydalar Sekmələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ua(),children:[e.jsx(ce,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Ta.map((t,i)=>{const s=i>0,l=i<Ta.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px 170px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.title,onChange:r=>Oe(i,"title",r.target.value),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.id,onChange:r=>Oe(i,"id",r.target.value),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:t.icon,onChange:r=>Oe(i,"icon",r.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:Mi.map(r=>e.jsx("option",{value:r,children:r},r))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>Qt(i,"up"),disabled:!s,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:s?"#334155":"#cbd5e1"},children:e.jsx(Mt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>Qt(i,"down"),disabled:!l,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:l?"#334155":"#cbd5e1"},children:e.jsx(Bt,{size:14})}),e.jsx("button",{title:"Sekməni sil",onClick:()=>pa(i),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ye,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:t.docName||"",onChange:r=>Oe(i,"docName",r.target.value),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.docButton||"",onChange:r=>Oe(i,"docButton",r.target.value),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(_e,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:t.docUrl||"",onChange:r=>Oe(i,"docUrl",r.target.value),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-current-${i}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async r=>{const u=r.target.files?.[0];u&&(await ha(u,i),r.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-current-${i}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(t.items||[]).map((r,u)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:r.title,onChange:m=>Wt(i,u,"title",m.target.value),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{title:"Maddəni sil",onClick:()=>xa(i,u),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(ye,{size:14})})]}),e.jsx("textarea",{rows:3,value:r.desc,onChange:m=>Wt(i,u,"desc",m.target.value),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-item-${t.index}-${r.index}`)),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ma(i),children:[e.jsx(ce,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-${t.index}-${t.id}`)})})]}),G.id!=="rulespage"&&G.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(us,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>sa("text"),children:[e.jsx(ce,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:vt.length===0&&ge?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):G?.id==="contactpage"?hl.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((i,s)=>ei(i,s))]},t.title)):G?.id==="privacypolicypage"||G?.id==="termsofservicepage"?fl.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((i,s)=>ei(i,s))]},t.title)):vt.map((t,i)=>ei(t,i))})]}),G.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(ze,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>sa("image"),children:[e.jsx(ce,{size:14})," Yeni Şəkil Yeri"]})]}),Jt.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:800,color:"#64748b",marginBottom:"8px"},children:"Komponent Daxili Önizləmə (Sıra ilə)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:Jt.map((t,i)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",background:"#fff"},children:[e.jsx("div",{style:{height:"84px",background:"#f8fafc"},children:t.path?e.jsx("img",{src:t.path,alt:t.alt||`Preview ${i+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"11px"},children:"Şəkil yoxdur"})}),e.jsxs("div",{style:{padding:"6px 8px",fontSize:"10px",color:"#475569",fontWeight:700},children:["#",i+1,` • ${t.id}`]})]},`preview-${t.id}`))})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:Jt.length>0?Jt.map((t,i)=>{const s=G?.images||[],l=s.findIndex(m=>m.id===t.id),r=l>0,u=l>=0&&l<s.length-1;return e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>la("image",t.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(ye,{size:12})}),e.jsxs("div",{style:{position:"absolute",right:"40px",top:"8px",zIndex:10,display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı daşı",onClick:()=>Kt("image",t.id,"up"),disabled:!r,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:r?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:r?"pointer":"not-allowed"},children:e.jsx(Mt,{size:12})}),e.jsx("button",{title:"Aşağı daşı",onClick:()=>Kt("image",t.id,"down"),disabled:!u,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:u?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:u?"pointer":"not-allowed"},children:e.jsx(Bt,{size:12})})]})]}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:t.path&&(t.path.startsWith("http")||t.path.startsWith("/"))?e.jsx("img",{src:t.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(ze,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginBottom:"6px"},children:["Sıra: ",i+1]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:t.path,onChange:m=>{if(o<0||o>=a.length)return;const h=[...a],f=h[o];if(!f)return;const c=f.images.findIndex(x=>x.id===t.id);c!==-1&&(f.images[c].path=m.target.value,n(h))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>Ii(o,t.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(_e,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${t.id}`,style:{display:"none"},accept:"image/*",onChange:m=>zs(m,o,t.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${t.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(ce,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:t.alt,onChange:m=>aa(o,t.id,m.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},t.id)}):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:ge?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),G.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(ze,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(ce,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=async i=>{const s=i.target.files?.[0];if(!s)return;const l=await Ge(s);if(l&&o>=0&&o<a.length){const r=[...a],u=r[o];if(u){const m=`img-${u.images.length}-${Date.now()}`;u.images.push({id:m,path:l,alt:"",type:"local"}),n(r),T.success("Yeni şəkil əlavə edildi")}}},t.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=`img-${(G.images||[]).length}`;L({pageIdx:o,imgId:t}),ae(!0),z(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx(bi,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})})}),B&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>S(!1),children:e.jsx(Fi,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:_,onChange:t=>Ee(t.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>S(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:_s,children:"Əlavə et"})]})]})}),$&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>z(!1),children:e.jsx(Fi,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:te.length>0?te.map((t,i)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>Ps(t),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:t.split("/").pop()})]},i)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>z(!1),children:"Bağla"})})]})})]})},Es="forsaj_admin_user",As="forsaj_admin_token",Gi="forsaj:session-expired",Ut=()=>{const a=localStorage.getItem(As);return!a||a==="null"||a==="undefined"?null:a},Pe=()=>{localStorage.removeItem(Es),localStorage.removeItem(As),window.dispatchEvent(new Event(Gi))},hr=({currentUser:a})=>{const[n,o]=g.useState([]),[p,v]=g.useState(!0),[j,y]=g.useState(!1),[E,D]=g.useState(null),M=async()=>{try{const S=Ut();if(!S){Pe();return}const $=await fetch("/api/users",{headers:{Authorization:`Bearer ${S}`}});if($.status===401||$.status===403){Pe(),T.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(!$.ok)throw new Error("Yükləmə uğursuz oldu");const z=await $.json();o(z||[])}catch{T.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{v(!1)}};g.useEffect(()=>{M()},[]);const Y=async S=>{if(S.preventDefault(),!E?.username||!E?.name||!E?.id&&!E?.password){T.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const $=Ut();if(!$){Pe();return}const z=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify(E)});if(z.status===401||z.status===403){Pe(),T.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(z.ok)T.success(E.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),y(!1),D(null),M();else{const w=await z.json();T.error(w.error||"Xəta baş verdi")}}catch{T.error("Serverlə bağlantı kəsildi")}},F=async S=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const $=Ut();if(!$){Pe();return}const z=await fetch(`/api/users/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}});if(z.status===401||z.status===403){Pe(),T.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(z.ok)T.success("İstifadəçi silindi"),M();else{const w=await z.json();T.error(w.error||"Silmək mümkün olmadı")}}catch{T.error("Serverlə bağlantı kəsildi")}},B=(S=null)=>{D(S?{...S}:{username:"",name:"",password:"",role:"secondary"}),y(!0)};return p?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),a.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>B(),children:[e.jsx(ql,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:n.map(S=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${S.name}&background=${S.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:S.name}),e.jsxs("div",{className:`role-badge ${S.role||"secondary"}`,children:[e.jsx(Yi,{size:10})," ",S.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:S.name}),e.jsxs("span",{children:["@",S.username||"username"]})]}),a.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>B(S),title:"Düzəliş et",children:e.jsx(Kl,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>F(S.id.toString()),title:"Sil",children:e.jsx(ye,{size:16})})]})]},S.id))}),j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:E?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>y(!1),children:e.jsx(Fi,{size:20})})]}),e.jsxs("form",{onSubmit:Y,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ft,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:E?.name||"",onChange:S=>D({...E,name:S.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ft,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:E?.username||"",onChange:S=>D({...E,username:S.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(qi,{size:14})," Şifrə ",E?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:E?.password||"",onChange:S=>D({...E,password:S.target.value}),placeholder:"••••••••",required:!E?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Yi,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:E?.role||"secondary",onChange:S=>D({...E,role:S.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),E?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx($l,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>y(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(Vi,{size:18})," Yadda Saxla"]})]})]})]})})]})},fr=()=>{const[a,n]=g.useState(!1),o=async()=>{n(!0);const v=T.loading("Front qovluğu skan edilir...");try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error("Skan xətası");T.success("Skan tamamlandı! Panel yenilənir...",{id:v}),setTimeout(()=>window.location.reload(),1500)}catch{T.error("Skan uğursuz oldu!",{id:v})}finally{n(!1)}},p=[{id:1,title:"Sitemap Faylını Yaradın",description:"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.",path:"public/sitemap.json",icon:Gl},{id:2,title:"Front Layihəsini Sinxronlaşdırın",description:"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.",path:"/front/src/pages",icon:Hl},{id:3,title:"Sistem Ayarlarını Tənzimləyin",description:"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.",path:"Sistem Ayarları",icon:ns}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:"Forsaj Club İdarəetmə"})]}),e.jsx("h1",{children:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq"}),e.jsx("p",{children:"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin."})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:p.map(v=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(v.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:v.title}),e.jsx("p",{children:v.description}),e.jsx("span",{className:"step-badge",children:v.path})]})]},v.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(Vl,{size:32}),e.jsx("h4",{children:"Yeni Səhifə Əlavə Et"}),e.jsx("p",{children:"Dinamik olaraq yeni admin səhifəsi yaradın."})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(ps,{size:32}),e.jsx("h4",{children:"Front Skaner"}),e.jsx("p",{children:"/front qosulub. Skanlamağa hazırdır."}),e.jsx("button",{className:`scan-btn ${a?"loading":""}`,onClick:o,disabled:a,children:a?e.jsx(hs,{className:"animate-spin"}):"İndi Skan Et"})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Məlumat:"})," /front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək."]})})]})},gr=({onLogin:a})=>{const[n,o]=g.useState(!0),[p,v]=g.useState(""),[j,y]=g.useState(""),[E,D]=g.useState(""),[M,Y]=g.useState(!1);g.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&o(!1)}catch(S){console.error("Setup check failed",S)}})()},[]);const F=async B=>{B.preventDefault();const S=p.trim(),$=E.trim();if(!S||!j.trim()){T.error("İstifadəçi adı və şifrə mütləqdir");return}if(!n&&!$){T.error("Tam ad mütləqdir");return}if(!n&&j.length<6){T.error("Şifrə ən azı 6 simvol olmalıdır");return}Y(!0);try{const ae=await fetch(n?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n?{username:S,password:j}:{username:S,password:j,name:$})}),te=await ae.json();if(!ae.ok)throw new Error(te.error||(n?"Giriş uğursuz oldu":"Quraşdırma uğursuz oldu"));n?(localStorage.setItem("forsaj_admin_token",te.token),localStorage.setItem("forsaj_admin_user",JSON.stringify(te.user)),a(te.user),T.success("Xoş gəldiniz!")):(T.success("Baza uğurla başladıldı! İndi daxil ola bilərsiniz."),o(!0))}catch(z){T.error(z.message||"Əməliyyat uğursuz oldu")}finally{Y(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:n?e.jsx(Ql,{size:40,className:"logo-icon"}):e.jsx(qi,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:n?"Forsaj İdarəetmə Paneli":"Sistem Quraşdırılması"}),e.jsx("p",{children:n?"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin":"İlkin Baş Admin hesabını yaradaraq sistemi başladın"})]}),e.jsxs("form",{className:"login-form",onSubmit:F,children:[!n&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ft,{size:16})," Tam Adınız"]}),e.jsx("input",{type:"text",value:E,onChange:B=>D(B.target.value),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ft,{size:16})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:p,onChange:B=>v(B.target.value),placeholder:"Məs: admin",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(qi,{size:16})," Şifrə"]}),e.jsx("input",{type:"password",value:j,onChange:B=>y(B.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:M,children:M?e.jsxs("div",{className:"loader-container",children:[e.jsx(hs,{className:"animate-spin",size:20}),e.jsx("span",{children:"Gözləyin..."})]}):n?"Daxil ol":"Sistemi başlat"})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin."})})]})})},br=()=>{const[a,n]=g.useState([]),[o,p]=g.useState(null),[v,j]=g.useState(!0),[y,E]=g.useState("all"),D=async()=>{const S=localStorage.getItem("forsaj_admin_token");try{const $=await fetch("/api/applications",{headers:{Authorization:`Bearer ${S}`}});if($.ok){const z=await $.json();n(z)}}catch{T.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{j(!1)}};g.useEffect(()=>{D()},[]);const M=async S=>{const $=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${S}/read`,{method:"POST",headers:{Authorization:`Bearer ${$}`}})).ok&&(n(w=>w.map(ae=>ae.id===S?{...ae,status:"read"}:ae)),o?.id===S&&p(w=>w?{...w,status:"read"}:null))}catch(z){console.error(z)}},Y=async S=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const $=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}})).ok&&(n(w=>w.filter(ae=>ae.id!==S)),o?.id===S&&p(null),T.success("Müraciət silindi"))}catch{T.error("Silinmə zamanı xəta baş verdi")}},F=a.filter(S=>y==="unread"?S.status==="unread":y==="read"?S.status==="read":!0),B=S=>{try{const $=JSON.parse(S);return e.jsx("div",{className:"app-details-grid",children:Object.entries($).map(([z,w])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[z.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String(w)})]},z))})}catch{return e.jsx("div",{className:"detail-text",children:S})}};return v?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:y==="all"?"active":"",onClick:()=>E("all"),children:"Hamısı"}),e.jsx("button",{className:y==="unread"?"active":"",onClick:()=>E("unread"),children:"Oxunmamış"}),e.jsx("button",{className:y==="read"?"active":"",onClick:()=>E("read"),children:"Oxunmuş"})]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:F.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):F.map(S=>e.jsxs("div",{className:`application-item ${S.status} ${o?.id===S.id?"selected":""}`,onClick:()=>{p(S),S.status==="unread"&&M(S.id)},children:[e.jsx("div",{className:"app-item-icon",children:S.status==="unread"?e.jsx(cs,{className:"icon-unread"}):e.jsx(Wl,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:S.name}),e.jsx("span",{className:"app-item-date",children:new Date(S.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:S.type})]}),e.jsx(Zl,{size:16,className:"chevron"})]},S.id))}),e.jsx("div",{className:"application-details",children:o?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${o.status}`,children:o.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>Y(o.id),children:e.jsx(ye,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Ft,{size:16})," Göndərən"]}),e.jsx("p",{children:o.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(os,{size:16})," Əlaqə"]}),e.jsx("p",{children:o.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(wt,{size:16})," Kateqoriya"]}),e.jsx("p",{children:o.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:B(o.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(rs,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},ts="forsaj_general_hidden_cards",vr={general:"SİSTEM AYARLARI",marquee:"MARQUEE"},yr=["SOCIAL_INSTAGRAM","SOCIAL_YOUTUBE","SOCIAL_FACEBOOK"],Sr=[{id:"seo-basic",label:"SEO əsas"},{id:"seo-social",label:"OG / Twitter"},{id:"seo-verify",label:"Təsdiq kodları"},{id:"contact-details",label:"Əlaqə"},{id:"departments",label:"Şöbə e-poçtları"},{id:"smtp-settings",label:"SMTP"},{id:"branding",label:"Brendinq"},{id:"social-links",label:"Sosial linklər"},{id:"marquee-settings",label:"Marquee"},{id:"stats",label:"Statistika"}],is=a=>{const n=(a||"").trim();return n?/^[a-z][a-z0-9+.-]*:/i.test(n)?n:n.startsWith("//")?`https:${n}`:/^[\w.-]+\.[a-z]{2,}(?:[/?#]|$)/i.test(n)?`https://${n}`:n:""},jr=()=>{const[a,n]=g.useState([]),[o,p]=g.useState(!1),[v,j]=g.useState(!0),[y,E]=g.useState(!1),[D,M]=g.useState(()=>{try{const d=localStorage.getItem(ts),R=d?JSON.parse(d):[];return Array.isArray(R)?R:[]}catch{return[]}}),Y=Hi(),B=new URLSearchParams(Y.search).get("tab")==="hidden",S=d=>D.includes(d),$=d=>B?S(d):!S(d),z=d=>`settings-card shadow-sm${$(d)?"":" settings-card-hidden"}`,w=d=>{M(R=>R.includes(d)?R:[...R,d])},ae=d=>{M(R=>R.filter(I=>I!==d))},te=d=>{const R=S(d),I=B&&R;return e.jsx("button",{type:"button",className:"card-visibility-btn",onClick:()=>R?ae(d):w(d),title:I?"Kartı geri gətir":"Kartı gizlət","aria-label":I?"Kartı geri gətir":"Kartı gizlət",children:I?e.jsx(ls,{size:16}):e.jsx(Xl,{size:16})})},C=async()=>{try{const d=await fetch("/api/site-content");if(!d.ok)throw new Error("site-content fetch failed");const R=await d.json();n(Array.isArray(R)?R:[])}catch{T.error("Ayarlar yüklənərkən xəta baş verdi")}finally{j(!1)}};g.useEffect(()=>{C()},[]),g.useEffect(()=>{localStorage.setItem(ts,JSON.stringify(D))},[D]),g.useEffect(()=>{if(v)return;const R=new URLSearchParams(Y.search).get("tab"),V=R?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"social-links",stats:"stats",marquee:"marquee-settings"}[R]:"";V&&setTimeout(()=>{const Q=document.querySelector(`[data-settings-section="${V}"]`);Q&&Q.scrollIntoView({behavior:"smooth",block:"start"})},50)},[Y.search,v]);const O=(d,R)=>{let I=d.findIndex(V=>V.id===R);return I===-1&&(d.push({id:R,title:vr[R]||R.toUpperCase(),sections:[],images:[],active:!0}),I=d.length-1),Array.isArray(d[I].sections)||(d[I].sections=[]),Array.isArray(d[I].images)||(d[I].images=[]),I},L=(d,R,I=!1,V="general")=>{const Q=[...a],ne=O(Q,V);if(I){const ie=Q[ne].images.findIndex(Ke=>Ke.id===d);ie===-1?Q[ne].images.push({id:d,path:R,alt:d,type:"local"}):Q[ne].images[ie].path=R}else{const ie=Q[ne].sections.findIndex(Ke=>Ke.id===d);ie===-1?Q[ne].sections.push({id:d,type:"text",label:d,value:R}):Q[ne].sections[ie].value=R}n(Q)},_=(d,R=!1,I="general")=>{const V=a.find(ie=>ie.id===I);if(!V)return"";const Q=Array.isArray(V.sections)?V.sections:[],ne=Array.isArray(V.images)?V.images:[];return R?ne.find(ie=>ie.id===d)?.path||"":Q.find(ie=>ie.id===d)?.value||""},Ee=(d,R=!0)=>{const I=a.find(V=>V.id===d);return!I||I.active===void 0?R:!!I.active},ge=(d,R)=>{const I=[...a],V=O(I,d);I[V].active=R,n(I)},Ne=()=>{const d=a.find(R=>R.id==="marquee");return d&&(d.sections?.find(R=>R.id==="MARQUEE_TEXT")?.value||d.sections?.[0]?.value)||""},q=d=>{const R=[...a],I=O(R,"marquee"),V=R[I].sections,Q=V.findIndex(ne=>ne.id==="MARQUEE_TEXT");Q>=0?V[Q].value=d:V.length>0?V[0].value=d:V.push({id:"MARQUEE_TEXT",type:"text",label:"MARQUEE_TEXT",value:d}),n(R)},me=d=>{const R=a.find(I=>I.id==="marquee");return R&&R.sections?.find(I=>I.id===d)?.value||""},ue=(d,R)=>{const I=[...a],V=O(I,"marquee"),Q=I[V].sections,ne=Q.findIndex(ie=>ie.id===d);ne>=0?Q[ne].value=R:Q.push({id:d,type:"text",label:d,value:R}),n(I)},Re=()=>me("MARQUEE_LINK"),be=d=>ue("MARQUEE_LINK",d),Ye=()=>{const d=(me("MARQUEE_LINK_ACTIVE")||"").toString().trim().toLowerCase();return d==="1"||d==="true"||d==="yes"||d==="on"},ke=d=>{ue("MARQUEE_LINK_ACTIVE",d?"1":"0")},le=d=>is(_(d)),Z=d=>d.map(R=>R?.id!=="general"||!Array.isArray(R.sections)?R:{...R,sections:R.sections.map(I=>yr.includes(I?.id)?{...I,value:is(I?.value||"")}:I)}),De=async(d,R,I="general")=>{const V=d.target.files?.[0];if(!V)return;const Q=new FormData;Q.append("image",V);const ne=T.loading("Şəkil yüklənir...");try{const ie=await fetch("/api/upload-image",{method:"POST",body:Q});if(!ie.ok)throw new Error("image upload failed");const Ke=await ie.json();L(R,Ke.url,!0,I),T.success("Şəkil yükləndi",{id:ne})}catch{T.error("Yükləmə xətası",{id:ne})}},qe=async()=>{p(!0);const d=T.loading("Yadda saxlanılır..."),R=Z(a);n(R);try{if(!(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("save-content failed");T.success("Ayarlar qeyd edildi!",{id:d})}catch{T.error("Xəta baş verdi",{id:d})}finally{p(!1)}},mt=d=>{const R=document.querySelector(`[data-settings-section="${d}"]`);R&&R.scrollIntoView({behavior:"smooth",block:"start"})};return v?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:B?"Gizlədilmiş ayar kartları":"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:qe,disabled:o,children:[e.jsx(Vi,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),B&&D.length===0&&e.jsx("div",{className:"hidden-settings-empty",children:"Gizlənmiş kart yoxdur. Kartları gizlətmək üçün normal görünüşdə kartın üzərinə gəlib göz ikonuna klikləyin."}),!B&&e.jsx("div",{className:"settings-quick-nav",children:Sr.map(d=>e.jsx("button",{type:"button",className:"quick-nav-btn",onClick:()=>mt(d.id),children:d.label},d.id))}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:z("seo-basic"),"data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(_e,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"})]}),e.jsx("p",{className:"card-description",children:"Axtarış nəticələrində görünən əsas meta məlumatlar."})]}),te("seo-basic")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:_("SEO_TITLE"),onChange:d=>L("SEO_TITLE",d.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:_("SEO_DESCRIPTION"),onChange:d=>L("SEO_DESCRIPTION",d.target.value),placeholder:"Sayt haqqında qısa məlumat..."}),e.jsx("small",{className:"field-help",children:"Tövsiyə: 140-160 simvol arası qısa təsvir."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:_("SEO_KEYWORDS"),onChange:d=>L("SEO_KEYWORDS",d.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"}),e.jsx("small",{className:"field-help",children:"Açar sözləri vergül ilə ayırın."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:_("SEO_CANONICAL_URL"),onChange:d=>L("SEO_CANONICAL_URL",d.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:_("SEO_ROBOTS"),onChange:d=>L("SEO_ROBOTS",d.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:_("SEO_AUTHOR"),onChange:d=>L("SEO_AUTHOR",d.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:_("SEO_LANGUAGE"),onChange:d=>L("SEO_LANGUAGE",d.target.value),placeholder:"az"}),e.jsx("small",{className:"field-help",children:"Məs: `az`, `en`, `tr`."})]})]})]}),e.jsxs("div",{className:z("seo-social"),"data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(_e,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"})]}),e.jsx("p",{className:"card-description",children:"Link paylaşılarkən görünən başlıq, təsvir və şəkil."})]}),te("seo-social")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:_("SEO_OG_TITLE"),onChange:d=>L("SEO_OG_TITLE",d.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:_("SEO_OG_DESCRIPTION"),onChange:d=>L("SEO_OG_DESCRIPTION",d.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:_("SEO_OG_URL"),onChange:d=>L("SEO_OG_URL",d.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:_("SEO_TWITTER_CARD"),onChange:d=>L("SEO_TWITTER_CARD",d.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:_("SEO_TWITTER_SITE"),onChange:d=>L("SEO_TWITTER_SITE",d.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:_("SEO_TWITTER_CREATOR"),onChange:d=>L("SEO_TWITTER_CREATOR",d.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:_("SEO_OG_IMAGE",!0)?e.jsx("img",{src:_("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"form-grid two-cols",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(ri,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:d=>De(d,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:_("SEO_OG_IMAGE",!0),onChange:d=>L("SEO_OG_IMAGE",d.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:z("seo-verify"),"data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(qa,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"})]}),e.jsx("p",{className:"card-description",children:"Google, Bing və Yandex üçün doğrulama kodları."})]}),te("seo-verify")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:_("SEO_GOOGLE_VERIFICATION"),onChange:d=>L("SEO_GOOGLE_VERIFICATION",d.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:_("SEO_BING_VERIFICATION"),onChange:d=>L("SEO_BING_VERIFICATION",d.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:_("SEO_YANDEX_VERIFICATION"),onChange:d=>L("SEO_YANDEX_VERIFICATION",d.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:z("contact-details"),"data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ze,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"})]}),e.jsx("p",{className:"card-description",children:"Footer və əlaqə hissəsində görünən ofis və əlaqə məlumatları."})]}),te("contact-details")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:_("CONTACT_ADDRESS_1"),onChange:d=>L("CONTACT_ADDRESS_1",d.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:_("CONTACT_ADDRESS_2"),onChange:d=>L("CONTACT_ADDRESS_2",d.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:_("CONTACT_HOURS"),onChange:d=>L("CONTACT_HOURS",d.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:_("CONTACT_PHONE"),onChange:d=>L("CONTACT_PHONE",d.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:_("CONTACT_EMAIL"),onChange:d=>L("CONTACT_EMAIL",d.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:z("departments"),"data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ka,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"})]}),e.jsx("p",{className:"card-description",children:"Müraciətlərin istiqamətinə uyğun e-poçt ünvanları."})]}),te("departments")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:_("DEPT_HQ_EMAIL"),onChange:d=>L("DEPT_HQ_EMAIL",d.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:_("DEPT_PR_EMAIL"),onChange:d=>L("DEPT_PR_EMAIL",d.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:_("DEPT_TECH_EMAIL"),onChange:d=>L("DEPT_TECH_EMAIL",d.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:z("smtp-settings"),"data-settings-section":"smtp-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ka,{size:20,className:"text-emerald-500"}),e.jsx("h2",{children:"SMTP Bildiriş Ayarları"})]}),e.jsx("p",{className:"card-description",children:"Form müraciətləri göndəriləndə e-poçt bildirişi üçün SMTP məlumatları."})]}),te("smtp-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP aktiv"}),e.jsxs("select",{value:_("SMTP_ENABLED")||"1",onChange:d=>L("SMTP_ENABLED",d.target.value),children:[e.jsx("option",{value:"1",children:"Aktiv"}),e.jsx("option",{value:"0",children:"Deaktiv"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP Host"}),e.jsx("input",{type:"text",value:_("SMTP_HOST"),onChange:d=>L("SMTP_HOST",d.target.value),placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP Port"}),e.jsx("input",{type:"number",value:_("SMTP_PORT")||"587",onChange:d=>L("SMTP_PORT",d.target.value),placeholder:"587"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Təhlükəsizlik (SSL/TLS)"}),e.jsxs("select",{value:_("SMTP_SECURE")||"0",onChange:d=>L("SMTP_SECURE",d.target.value),children:[e.jsx("option",{value:"0",children:"Yox (STARTTLS/587)"}),e.jsx("option",{value:"1",children:"Bəli (SSL/465)"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP istifadəçi"}),e.jsx("input",{type:"text",value:_("SMTP_USER"),onChange:d=>L("SMTP_USER",d.target.value),placeholder:"noreply@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP şifrə / app password"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:y?"text":"password",value:_("SMTP_PASS"),onChange:d=>L("SMTP_PASS",d.target.value),placeholder:"********"}),e.jsx("button",{type:"button",className:"social-test-link",onClick:()=>E(d=>!d),children:y?"Gizlət":"Göstər"})]})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Göndərən ünvanı (From)"}),e.jsx("input",{type:"text",value:_("SMTP_FROM"),onChange:d=>L("SMTP_FROM",d.target.value),placeholder:"Forsaj Club <noreply@forsaj.az>"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Qəbul edən ünvan(lar) (To)"}),e.jsx("input",{type:"text",value:_("SMTP_TO"),onChange:d=>L("SMTP_TO",d.target.value),placeholder:"admin@forsaj.az, support@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:z("branding"),"data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ze,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"})]}),e.jsx("p",{className:"card-description",children:"Light/Dark loqoları yükləyin, görünüşü dərhal önizləyin."})]}),te("branding")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:_("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:_("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(ri,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:d=>De(d,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:_("SITE_LOGO_DARK",!0)?e.jsx("img",{src:_("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(ri,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:d=>De(d,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:z("social-links"),"data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(_e,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"})]}),e.jsx("p",{className:"card-description",children:"Sosial hesabları daxil edin və “Test et” ilə yoxlayın."})]}),te("social-links")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:_("SOCIAL_INSTAGRAM"),onChange:d=>L("SOCIAL_INSTAGRAM",d.target.value),placeholder:"https://instagram.com/forsajclub"}),e.jsx("a",{href:le("SOCIAL_INSTAGRAM")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${le("SOCIAL_INSTAGRAM")?"":" disabled"}`,onClick:d=>{le("SOCIAL_INSTAGRAM")||d.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:_("SOCIAL_YOUTUBE"),onChange:d=>L("SOCIAL_YOUTUBE",d.target.value),placeholder:"https://youtube.com/@forsajclub"}),e.jsx("a",{href:le("SOCIAL_YOUTUBE")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${le("SOCIAL_YOUTUBE")?"":" disabled"}`,onClick:d=>{le("SOCIAL_YOUTUBE")||d.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:_("SOCIAL_FACEBOOK"),onChange:d=>L("SOCIAL_FACEBOOK",d.target.value),placeholder:"https://facebook.com/forsajclub"}),e.jsx("a",{href:le("SOCIAL_FACEBOOK")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${le("SOCIAL_FACEBOOK")?"":" disabled"}`,onClick:d=>{le("SOCIAL_FACEBOOK")||d.preventDefault()},children:"Test et"})]}),e.jsx("small",{className:"field-help",children:"Domen ilə başlayan linklərdə (`instagram.com/...`) `https://` avtomatik əlavə ediləcək."})]})]})]}),e.jsxs("div",{className:z("marquee-settings"),"data-settings-section":"marquee-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ss,{size:20,className:"text-amber-500"}),e.jsx("h2",{children:"Marquee Ayarları"})]}),e.jsx("p",{className:"card-description",children:"Ana səhifənin üst hissəsindəki hərəkətli elan xəttini idarə edin."})]}),te("marquee-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:Ee("marquee",!0),onChange:d=>ge("marquee",d.target.checked)}),e.jsx("span",{children:"Marquee aktivdir (səhifədə göstər)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee mətni"}),e.jsx("textarea",{value:Ne(),onChange:d=>q(d.target.value),placeholder:"Məs: FORSAJ CLUB // OFFROAD MOTORSPORT HUB"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Link əlavə et"}),e.jsx("input",{type:"text",value:Re(),onChange:d=>be(d.target.value),placeholder:"Məs: /events və ya https://forsaj.az/events"})]}),e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:Ye(),onChange:d=>ke(d.target.checked)}),e.jsx("span",{children:"Link aktivdir (aktiv/deaktiv)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee arxa plan şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"90px"},children:_("marquee-image",!0,"marquee")?e.jsx("img",{src:_("marquee-image",!0,"marquee"),alt:"Marquee Background"}):e.jsx("div",{className:"no-logo",children:"Arxa plan şəkli yoxdur"})}),e.jsxs("div",{className:"form-grid two-cols",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(ri,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:d=>De(d,"marquee-image","marquee")})]}),e.jsx("input",{type:"text",value:_("marquee-image",!0,"marquee"),onChange:d=>L("marquee-image",d.target.value,!0,"marquee"),placeholder:"https://forsaj.az/marquee-bg.jpg"})]})]})]})]}),e.jsxs("div",{className:z("stats"),"data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(qa,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"})]}),e.jsx("p",{className:"card-description",children:"Ana səhifədə göstərilən qısa statistik göstəricilər."})]}),te("stats")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:_("STATS_PILOTS"),onChange:d=>L("STATS_PILOTS",d.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:_("STATS_RACES"),onChange:d=>L("STATS_RACES",d.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:_("STATS_YOUTH"),onChange:d=>L("STATS_YOUTH",d.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},fe=a=>a.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Tr={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Ana Səhifə / Naviqasiya / Footer","SAYT MƏZMUNU":"Ana Səhifə / Naviqasiya / Footer",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Sistem Ayarları",SOSYAL:"Sosyal","MƏXFİLİK SİYASƏTİ":"PRIVACY POLICY","XİDMƏT ŞƏRTLƏRİ":"TERMS OF SERVICE"},Er={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},Ar=a=>{const n=Tr[a.title]||a.title;return{...a,title:n,children:a.children?.map(o=>({...o,title:Er[o.title]||o.title}))}},Et=a=>a&&(a==="/frontend-settings"||a==="/admin/frontend-settings"||a==="/general-settings"||a==="/admin/general-settings"?"/general-settings?tab=general":a),Ns=a=>({...a,path:Et(a.path),children:a.children?.map(Ns)}),wi=(a=[])=>{const n=new Map;return a.forEach(o=>{const p=`${fe(o.title||"")}|${fe(o.path||"")}`;p&&n.set(p,o)}),Array.from(n.values())},as=a=>{const n=fe(a?.title||""),o=fe(Et(a?.path)||"");return n==="sistem ayarlari"||o==="/frontend-settings"||o==="/admin/frontend-settings"||o==="/general-settings"||o==="/admin/general-settings"||o.startsWith("/general-settings?")},Nr=()=>{const[a,n]=g.useState(null),[o,p]=g.useState([]),[v,j]=g.useState(0),[y,E]=g.useState(!0);if(g.useEffect(()=>{const M=localStorage.getItem(Es),Y=Ut();if(M&&Y)try{n(JSON.parse(M))}catch{Pe(),n(null)}else Pe(),n(null);E(!1)},[]),g.useEffect(()=>{const M=()=>n(null);return window.addEventListener(Gi,M),()=>window.removeEventListener(Gi,M)},[]),g.useEffect(()=>{const M=async()=>{const F=Ut();if(!F){Pe();return}try{let B=v;const S=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${F}`}});if(S.status===401||S.status===403){Pe();return}if(S.ok){const{count:z}=await S.json();B=Number(z)||0,j(B)}const $=await fetch(`/api/sitemap?v=${Date.now()}`);if($.ok){const z=await $.json();let w=Array.isArray(z)?z:[];w=w.map(q=>Ar(q)).map(q=>Ns(q));const ae=w.find(q=>q.path==="/applications");ae?B>0?ae.badge={text:B.toString(),color:"bg-red-500"}:delete ae.badge:w=[...w,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:B>0?{text:B.toString(),color:"bg-red-500"}:void 0}];const te=[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Parametrlər",path:"/general-settings?tab=general",icon:"Sliders"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"},{title:"Marquee Ayarları",path:"/general-settings?tab=marquee",icon:"Activity"},{title:"Tətbiq Ayarları",path:"/general-settings?tab=stats",icon:"Activity"},{title:"Gizlənən Ayarlar",path:"/general-settings?tab=hidden",icon:"Eye"}],C=w.filter(q=>as(q));w=w.filter(q=>!as(q));const L={title:"Sistem Ayarları",icon:"Settings",path:"/general-settings?tab=general",children:wi([...te,...C.flatMap(q=>q.children||[])])},_=w.findIndex(q=>fe(q.path||"")==="/users-management");if(_>=0?w.splice(_+1,0,L):w.push(L),!w.some(q=>fe(q.title||"")==="sosyal"||fe(Et(q.path)||"")==="/general-settings?tab=social")){const q={title:"Sosyal",icon:"Globe",path:"/general-settings?tab=social"},me=w.findIndex(Re=>fe(Re.title||"")==="sistem ayarlari"||fe(Et(Re.path)||"")==="/general-settings?tab=general"),ue=w.findIndex(Re=>fe(Re.path||"")==="/applications");me>=0?w.splice(me+1,0,q):ue>=0?w.splice(ue,0,q):w.push(q)}const ge=(q,me=[])=>{const ue=fe(Et(q.path)||""),Re=fe(q.title||"");if(w.some(le=>fe(le.title||"")===Re||fe(Et(le.path)||"")===ue))return;const Ye=w.findIndex(le=>{const Z=fe(le.title||"");return me.some(De=>Z===fe(De))});if(Ye>=0){w.splice(Ye+1,0,q);return}const ke=w.findIndex(le=>fe(le.path||"")==="/applications");if(ke>=0){w.splice(ke,0,q);return}w.push(q)};ge({title:"PRIVACY POLICY",icon:"FileText",path:"/?page=privacypolicypage"},["Qaydalar","QAYDALAR"]),ge({title:"TERMS OF SERVICE",icon:"FileText",path:"/?page=termsofservicepage"},["PRIVACY POLICY"]);const Ne=new Map;for(const q of w){const me=fe(q.title||"");if(!me)continue;const ue=Ne.get(me);if(!ue){Ne.set(me,{...q,children:wi(q.children||[])});continue}Ne.set(me,{...ue,path:ue.path||q.path,icon:ue.icon||q.icon,badge:ue.badge||q.badge,children:wi([...ue.children||[],...q.children||[]])})}p(Array.from(Ne.values()))}}catch(B){console.error("Fetch data failed",B)}finally{E(!1)}};M();const Y=setInterval(M,3e4);return()=>clearInterval(Y)},[a]),y)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:"Yüklənir..."});const D=!o||o.length===0;return e.jsx(El,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(Kn,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),a?e.jsxs(e.Fragment,{children:[e.jsx(en,{menuItems:o,user:a,onLogout:()=>{Pe(),n(null)}}),e.jsxs("main",{className:"main-content",children:[e.jsx(tn,{user:a}),e.jsx("div",{className:"content-body",children:e.jsx(Al,{children:D?e.jsx(Tt,{path:"*",element:e.jsx(fr,{})}):e.jsxs(e.Fragment,{children:[e.jsx(Tt,{path:"/",element:e.jsx(xr,{})}),e.jsx(Tt,{path:"/applications",element:e.jsx(br,{})}),e.jsx(Tt,{path:"/general-settings",element:e.jsx(jr,{})}),e.jsx(Tt,{path:"/users-management",element:e.jsx(hr,{currentUser:a})}),e.jsx(Tt,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:"Səhifə tapılmadı"})})})]})})})]})]}):e.jsx(gr,{onLogin:n})]})})};Nl.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(Nr,{})}));
