import{u as sa,r as v,j as e,R as er,N as tr,B as ir,a as ar,b as Rt,d as sr}from"./vendor-react-B0Xi4u7S.js";import{H as lr,L as rr,P as Vt,A as As,E as Ns,G as ze,S as Ls,I as Rs,M as nr,U as _s,a as Is,B as or,V as Wi,b as Ye,c as dr,T as Gt,C as Cs,d as Ht,e as cr,F as Ct,f as ur,g as pr,h as mr,i as Os,j as xr,k as hr,l as fr,m as gr,n as ks,o as la,p as pe,q as Te,r as br,s as qt,t as Kt,u as Ai,Z as Ds,v as vr,X as Zi,w as yr,x as zs,y as Sr,z as Tr,D as Qt,J as Xi,K as Er,N as jr,O as Ar,Q as Nr,R as Ms,W as Lr,Y as Rr,_ as _r,$ as Ir,a0 as hi,a1 as ss,a2 as ls,a3 as Cr}from"./vendor-ui-BXLfhbLL.js";import{i as Or}from"./vendor-editor-BvsJV83P.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))p(g);new MutationObserver(g=>{for(const T of g)if(T.type==="childList")for(const b of T.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&p(b)}).observe(document,{childList:!0,subtree:!0});function o(g){const T={};return g.integrity&&(T.integrity=g.integrity),g.referrerPolicy&&(T.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?T.credentials="include":g.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function p(g){if(g.ep)return;g.ep=!0;const T=o(g);fetch(g.href,T)}})();const Bs="forsaj_admin_language",kr=i=>(i||"").toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ə/g,"e").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ü/g,"u").replace(/ğ/g,"g").replace(/ş/g,"s").replace(/ç/g,"c").trim(),Dr={az:{primaryNavigation:"ƏSAS NAVİQASİYA",groupContent:"SAYT MƏZMUNU",groupLegal:"HÜQUQİ SƏHİFƏLƏR",groupManagement:"İDARƏETMƏ",emptyMenu:"Menyu boşdur",logout:"Çıxış"},ru:{primaryNavigation:"ОСНОВНАЯ НАВИГАЦИЯ",groupContent:"КОНТЕНТ САЙТА",groupLegal:"ЮРИДИЧЕСКИЕ СТРАНИЦЫ",groupManagement:"УПРАВЛЕНИЕ",emptyMenu:"Меню пустое",logout:"Выход"}},zr={"ana sehife":"Главная","ana sehife / naviqasiya / footer":"Главная / Навигация / Footer",haqqimizda:"О нас",xeberler:"Новости",tedbirler:"Мероприятия",suruculer:"Пилоты",qalereya:"Галерея",qaydalar:"Правила",elaqe:"Контакты","istifadeci idaresi":"Управление пользователями","sistem ayarlari":"Системные настройки",sosyal:"Соцсети","sosial media":"Соцсети",muracietler:"Заявки","privacy policy":"Политика конфиденциальности","terms of service":"Условия использования","ana sehife bloklari":"Блоки главной","menyu ve naviqasiya":"Меню и навигация","hero bolmesi":"Hero секция","marquee yazisi":"Бегущая строка",footer:"Футер","xeber mezmunu":"Контент новостей","xeber sehifesi metni":"Текст страницы новости","tedbir siyahisi":"Список мероприятий","tedbir sehifesi metni":"Текст страницы мероприятия","surucu cedveli":"Таблица пилотов","suruculer sehifesi metni":"Текст страницы пилотов","seo ayarlari":"Настройки SEO","umumi parametrler":"Общие параметры","elaqe ve sosial":"Контакты и соцсети","marquee ayarlari":"Настройки бегущей строки","tetbiq ayarlari":"Настройки приложения","gizlenen ayarlar":"Скрытые настройки"},Mr={"ana sehife / naviqasiya / footer":"Ana Səhifə",sosyal:"Sosial Media"},Br={"/applications":"Заявки","/users-management":"Управление пользователями","/general-settings?tab=general":"Системные настройки","/general-settings?tab=social":"Соцсети","/general-settings?tab=seo":"Настройки SEO","/general-settings?tab=contact":"Контакты и соцсети","/general-settings?tab=marquee":"Настройки бегущей строки","/general-settings?tab=stats":"Настройки приложения","/general-settings?tab=hidden":"Скрытые настройки","/?page=privacypolicypage":"Политика конфиденциальности","/?page=termsofservicepage":"Условия использования"},Pr={"/general-settings?tab=social":"Sosial Media"},Ps=[{az:"Yüklənir...",ru:"Загрузка..."},{az:"Səhifə tapılmadı",ru:"Страница не найдена"},{az:"Sayta Bax",ru:"Открыть сайт"},{az:"Forsaj İdarəçisi",ru:"Администратор Forsaj"},{az:"Baş Admin",ru:"Главный админ"},{az:"Sayt Redaktoru",ru:"Редактор сайта"},{az:"Profil",ru:"Профиль"},{az:"İstifadəçi adı və şifrə mütləqdir",ru:"Логин и пароль обязательны"},{az:"Tam ad mütləqdir",ru:"Полное имя обязательно"},{az:"Şifrə ən azı 6 simvol olmalıdır",ru:"Пароль должен содержать минимум 6 символов"},{az:"Giriş uğursuz oldu",ru:"Ошибка входа"},{az:"Quraşdırma uğursuz oldu",ru:"Ошибка настройки"},{az:"Xoş gəldiniz!",ru:"Добро пожаловать!"},{az:"Baza uğurla başladıldı! İndi daxil ola bilərsiniz.",ru:"Система успешно инициализирована. Теперь можно войти."},{az:"Əməliyyat uğursuz oldu",ru:"Операция не выполнена"},{az:"Forsaj İdarəetmə Paneli",ru:"Панель управления Forsaj"},{az:"Sistem Quraşdırılması",ru:"Настройка системы"},{az:"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin",ru:"Введите данные для входа в систему"},{az:"İlkin Baş Admin hesabını yaradaraq sistemi başladın",ru:"Создайте первого главного администратора для запуска системы"},{az:"Tam Adınız",ru:"Ваше полное имя"},{az:"İstifadəçi Adı",ru:"Имя пользователя"},{az:"Şifrə",ru:"Пароль"},{az:"Gözləyin...",ru:"Подождите..."},{az:"Daxil ol",ru:"Войти"},{az:"Sistemi başlat",ru:"Запустить систему"},{az:"Məs: Əli Məmmədov",ru:"Например: Али Мамедов"},{az:"Məs: admin",ru:"Например: admin"},{az:"Front qovluğu skan edilir...",ru:"Сканируется папка front..."},{az:"Skan xətası",ru:"Ошибка сканирования"},{az:"Skan tamamlandı! Panel yenilənir...",ru:"Сканирование завершено! Панель обновляется..."},{az:"Skan uğursuz oldu!",ru:"Сканирование не удалось!"},{az:"Sitemap Faylını Yaradın",ru:"Создайте файл Sitemap"},{az:"Front Layihəsini Sinxronlaşdırın",ru:"Синхронизируйте Front-проект"},{az:"Sistem Ayarlarını Tənzimləyin",ru:"Настройте системные параметры"},{az:"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq",ru:"Добро пожаловать! Давайте настроим панель"},{az:"Yeni Səhifə Əlavə Et",ru:"Добавить новую страницу"},{az:"Dinamik olaraq yeni admin səhifəsi yaradın.",ru:"Создайте новую страницу админки динамически."},{az:"Front Skaner",ru:"Сканер Front"},{az:"/front qosulub. Skanlamağa hazırdır.",ru:"/front подключен. Готов к сканированию."},{az:"İndi Skan Et",ru:"Сканировать сейчас"},{az:"Məlumat:",ru:"Информация:"},{az:"Sessiya müddəti bitib. Yenidən daxil olun.",ru:"Сессия истекла. Войдите снова."},{az:"İstifadəçiləri yükləmək mümkün olmadı",ru:"Не удалось загрузить пользователей"},{az:"Zəhmət olmasa bütün sahələri doldurun",ru:"Пожалуйста, заполните все поля"},{az:"İstifadəçi yeniləndi",ru:"Пользователь обновлен"},{az:"Yeni istifadəçi yaradıldı",ru:"Новый пользователь создан"},{az:"Xəta baş verdi",ru:"Произошла ошибка"},{az:"Serverlə bağlantı kəsildi",ru:"Потеряно соединение с сервером"},{az:"Bu istifadəçini silmək istədiyinizə əminsiniz?",ru:"Вы уверены, что хотите удалить этого пользователя?"},{az:"İstifadəçi silindi",ru:"Пользователь удален"},{az:"Silmək mümkün olmadı",ru:"Не удалось удалить"},{az:"Admin Hesabları",ru:"Аккаунты админов"},{az:"Yeni idarəçi",ru:"Новый админ"},{az:"Baş admin",ru:"Главный админ"},{az:"Redaktor",ru:"Редактор"},{az:"Düzəliş et",ru:"Редактировать"},{az:"Sil",ru:"Удалить"},{az:"İstifadəçini redaktə et",ru:"Редактировать пользователя"},{az:"Yeni idarəçi hesabı",ru:"Новый администратор"},{az:"Dəyişmək istəmirsinizsə boş saxlayın",ru:"Оставьте пустым, если не хотите менять"},{az:"Baş Admin (Tam səlahiyyət)",ru:"Главный админ (полные права)"},{az:"Redaktor (Məhdud səlahiyyət)",ru:"Редактор (ограниченные права)"},{az:"Ləğv et",ru:"Отмена"},{az:"Yadda Saxla",ru:"Сохранить"},{az:"Müraciətlər yüklənərkən xəta baş verdi",ru:"Ошибка при загрузке заявок"},{az:"Bu müraciəti silmək istədiyinizə əminsiniz?",ru:"Вы уверены, что хотите удалить эту заявку?"},{az:"Müraciət silindi",ru:"Заявка удалена"},{az:"Silinmə zamanı xəta baş verdi",ru:"Ошибка при удалении"},{az:"Export üçün müraciət tapılmadı",ru:"Нет заявок для экспорта"},{az:"XLSX faylı yükləndi",ru:"XLSX файл загружен"},{az:"XLSX export zamanı xəta baş verdi",ru:"Ошибка экспорта XLSX"},{az:"Müraciətlər",ru:"Заявки"},{az:"Hamısı",ru:"Все"},{az:"Oxunmamış",ru:"Непрочитанные"},{az:"Oxunmuş",ru:"Прочитанные"},{az:"Excelə Aktar",ru:"Экспорт в Excel"},{az:"Heç bir müraciət tapılmadı",ru:"Заявки не найдены"},{az:"Müraciət Təfərrüatları",ru:"Детали заявки"},{az:"Göndərən",ru:"Отправитель"},{az:"Əlaqə",ru:"Контакт"},{az:"Məzmun",ru:"Содержание"},{az:"Baxmaq üçün siyahıdan müraciət seçin",ru:"Выберите заявку из списка для просмотра"},{az:"Sistem Ayarları",ru:"Системные настройки"},{az:"Yadda saxlanılır...",ru:"Сохраняется..."},{az:"Ayarlar qeyd edildi!",ru:"Настройки сохранены!"},{az:"Ayarlar yüklənərkən xəta baş verdi",ru:"Ошибка загрузки настроек"},{az:"Şəkil yüklənir...",ru:"Загрузка изображения..."},{az:"Şəkil yükləndi",ru:"Изображение загружено"},{az:"Yükləmə xətası",ru:"Ошибка загрузки"},{az:"Gizlədilmiş ayar kartları",ru:"Скрытые карточки настроек"},{az:"SEO, Brendinq və ümumi sayt tənzimləmələri",ru:"SEO, брендинг и общие настройки сайта"},{az:"Gizlənmiş kart yoxdur. Kartları gizlətmək üçün normal görünüşdə kartın üzərinə gəlib göz ikonuna klikləyin.",ru:"Скрытых карточек нет. Чтобы скрыть карточку, наведите на нее и нажмите иконку глаза."},{az:"Gizlət",ru:"Скрыть"},{az:"Göstər",ru:"Показать"},{az:"Test et",ru:"Проверить"},{az:"Aktiv",ru:"Активно"},{az:"Deaktiv",ru:"Неактивно"}],ws=(i,s)=>{const o=new Map;return i.forEach(p=>{o.set(p.az,s==="ru"?p.ru:p.az),o.set(p.ru,s==="ru"?p.ru:p.az)}),o},wr=ws(Ps,"ru"),Ur=ws(Ps,"az"),q=(i,s,o)=>i==="ru"?o:s,Us=(i,s)=>{const o=String(s??"");if(!o)return o;const p=o.match(/^(\s*)([\s\S]*?)(\s*)$/);if(!p)return o;const[,g,T,b]=p,R=(i==="ru"?wr:Ur).get(T);return R?`${g}${R}${b}`:o},Fr=()=>typeof window>"u"?"az":window.localStorage.getItem(Bs)==="ru"?"ru":"az",Yr=i=>{typeof window>"u"||window.localStorage.setItem(Bs,i)},_t=(i,s)=>Dr[i][s],qr=(i,s,o)=>{const p=kr(i),g=String(s||"").trim().toLocaleLowerCase("az");if(o==="ru"){const j=Br[g];if(j)return j;const R=zr[p];return R||i}const T=Pr[g];if(T)return T;const b=Mr[p];return b||i},Kr=({menuItems:i,user:s,onLogout:o,language:p,onLanguageChange:g})=>{const T=s?.role||"secondary",b=sa(),j=E=>(E||"").toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),R=E=>E&&(E==="/frontend-settings"||E==="/admin/frontend-settings"||E==="/general-settings"||E==="/admin/general-settings"?"/general-settings?tab=general":E),k={Layout:Vt,Home:fr,Menu:hr,Maximize:xr,Type:Os,Star:mr,Anchor:pr,Info:ur,FileText:Ct,List:cr,Calendar:Ht,Clock:Cs,Trophy:Gt,Award:dr,Image:Ye,Video:Wi,BookOpen:or,Phone:Is,Users:_s,Monitor:nr,Inbox:Rs,Settings:Ls,Globe:ze,Eye:Ns,Activity:As},U=({name:E,className:S})=>{const ae=k[E];return ae?e.jsx(ae,{className:S,size:18}):e.jsx(Vt,{className:S,size:18})},M=E=>{const S=R(E);return S?S.includes("?")?b.pathname+b.search===S:b.pathname===S:!1},F=(E,S,ae)=>e.jsx("li",{className:"sidebar-item",children:e.jsxs(tr,{to:R(ae||E.path)||"#",className:()=>`sidebar-link ${M(R(ae||E.path))?"active":""}`,children:[(E.icon||S)&&e.jsx(U,{name:E.icon||S||"",className:"sidebar-icon"}),e.jsx("span",{className:"sidebar-text",children:E.title}),E.badge&&e.jsx("span",{className:`badge ${E.badge.color} sidebar-badge`,children:E.badge.text})]})}),O=E=>{const S=["/frontend-settings","/general-settings","/users-management"],ae=new Set(["/","/admin"]);return E.map(Z=>{const ve=Z.children?O(Z.children):void 0,Ae=R(Z.path),Oe=(Ae||"").toLowerCase(),Me=j(Z.title||"");return T==="secondary"&&S.some(Fe=>Ae?.toLowerCase().startsWith(Fe))||ae.has(Oe)||Me==="panel ana sehife"||Me==="dashboard"||!Ae&&(!ve||ve.length===0)?null:{...Z,path:Ae,children:ve}}).filter(Boolean)},K=E=>{const S=new Set;return E.filter(ae=>{const fe=j(ae.title||"");return!fe||S.has(fe)?!1:(S.add(fe),!0)})},N=E=>{const S=j(E);return S==="ana sehife / naviqasiya / footer"?"Ana Səhifə":S==="sosyal"?"Sosial Media":E},$=E=>{const S=R(E.path||"")||"";return S.includes("page=privacypolicypage")||S.includes("page=termsofservicepage")?"legal":S.startsWith("/users-management")||S.startsWith("/general-settings")||S.startsWith("/applications")?"management":"content"},W=E=>{const S=R(E.path||"")||"",ae=j(E.title||"");return S.includes("page=home")?10:S.includes("page=about")?20:S.includes("mode=news")?30:S.includes("mode=events")?40:S.includes("mode=drivers")?50:S.includes("mode=videos")?60:S.includes("page=rulespage")?70:S.includes("page=contactpage")?80:S.includes("page=privacypolicypage")?90:S.includes("page=termsofservicepage")?100:S.startsWith("/users-management")?110:S.includes("tab=general")?120:S.includes("tab=social")||ae==="sosial media"?130:S.startsWith("/applications")?140:999},X={content:_t(p,"groupContent"),legal:_t(p,"groupLegal"),management:_t(p,"groupManagement")},V=v.useMemo(()=>K(O(i)).map(E=>({...E,title:N(E.title)})).sort((E,S)=>W(E)-W(S)),[i,T]),D=v.useMemo(()=>{const E={content:[],legal:[],management:[]};return V.forEach(S=>{E[$(S)].push(S)}),E},[V]);return e.jsxs("aside",{className:"sidebar",children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsxs("div",{className:"brand-logo",children:[e.jsx("div",{className:"logo-mark",children:e.jsx(lr,{className:"logo-icon",size:22,fill:"currentColor"})}),e.jsxs("span",{className:"brand-name",children:[e.jsx("strong",{children:"FORSAJ"}),e.jsx("span",{children:"PANEL"})]})]}),e.jsxs("div",{className:"sidebar-lang-switch","aria-label":"Admin language switch",children:[e.jsx("button",{type:"button",className:`sidebar-lang-btn ${p==="az"?"active":""}`,onClick:()=>g("az"),children:"AZ"}),e.jsx("button",{type:"button",className:`sidebar-lang-btn ${p==="ru"?"active":""}`,onClick:()=>g("ru"),children:"RU"})]})]}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-section-label",children:_t(p,"primaryNavigation")}),["content","legal","management"].map(E=>{const S=D[E];return S.length?e.jsxs("div",{className:"sidebar-group",children:[e.jsx("div",{className:"sidebar-section-label sidebar-subsection-label",children:X[E]}),e.jsx("ul",{className:"sidebar-menu",children:S.map(ae=>{const fe=ae.children?.find(Ae=>!!Ae.path)?.path,Z=ae.path||fe,ve=qr(ae.title,Z,p);return e.jsx(er.Fragment,{children:F({...ae,title:ve},ae.icon,Z)},`${ae.title}-${Z||"no-path"}`)})})]},E):null}),V.length===0&&e.jsx("div",{className:"empty-sidebar-msg",children:e.jsx("p",{children:_t(p,"emptyMenu")})})]}),e.jsx("div",{className:"sidebar-footer",children:e.jsxs("button",{className:"logout-btn",onClick:o,children:[e.jsx(rr,{size:18}),e.jsx("span",{children:_t(p,"logout")})]})})]})},$r=({user:i,language:s})=>e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-right",children:[e.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"view-site-btn",children:[e.jsx(gr,{size:16})," ",q(s,"Sayta Bax","Открыть сайт")]}),e.jsxs("div",{className:"header-profile",children:[e.jsxs("div",{className:"profile-info",children:[e.jsx("span",{className:"profile-name",children:i?.name||q(s,"Forsaj İdarəçisi","Администратор Forsaj")}),e.jsx("span",{className:"profile-status",children:i?.role==="master"?q(s,"Baş Admin","Главный админ"):q(s,"Sayt Redaktoru","Редактор сайта")})]}),e.jsx("img",{src:`https://ui-avatars.com/api/?name=${i?.name||"Admin"}&background=random`,alt:q(s,"Profil","Профиль")})]})]})}),Fs=["placeholder","title","aria-label"],Ys=i=>{if(!i)return!0;const s=i.tagName.toLowerCase();return s==="script"||s==="style"||s==="code"||s==="pre"||s==="textarea"},Ji=(i,s)=>{Ys(i)||Fs.forEach(o=>{const p=i.getAttribute(o);if(!p)return;const g=Us(s,p);g!==p&&i.setAttribute(o,g)})},ea=(i,s)=>{if(!i.nodeValue)return;const o=i.parentElement;if(Ys(o))return;const p=Us(s,i.nodeValue);p!==i.nodeValue&&(i.nodeValue=p)},rs=(i,s)=>{if(i.nodeType===Node.TEXT_NODE){ea(i,s);return}i.nodeType===Node.ELEMENT_NODE&&Ji(i,s);const o=document.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT);let p=o.currentNode;for(;p;)p.nodeType===Node.TEXT_NODE?ea(p,s):p.nodeType===Node.ELEMENT_NODE&&Ji(p,s),p=o.nextNode()},Gr=({language:i})=>(v.useEffect(()=>{const s=document.querySelector(".app-container")||document.body;if(!s)return;rs(s,i);const o=new MutationObserver(p=>{p.forEach(g=>{if(g.type==="characterData"&&g.target.nodeType===Node.TEXT_NODE){ea(g.target,i);return}if(g.type==="attributes"&&g.target.nodeType===Node.ELEMENT_NODE){Ji(g.target,i);return}g.addedNodes.forEach(T=>rs(T,i))})});return o.observe(s,{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:Fs}),()=>o.disconnect()},[i]),null);let Hr={data:""},Vr=i=>{if(typeof window=="object"){let s=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(i||document.head).appendChild(s),s.firstChild}return i||Hr},Qr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wr=/\/\*[^]*?\*\/|  +/g,ns=/\n+/g,dt=(i,s)=>{let o="",p="",g="";for(let T in i){let b=i[T];T[0]=="@"?T[1]=="i"?o=T+" "+b+";":p+=T[1]=="f"?dt(b,T):T+"{"+dt(b,T[1]=="k"?"":s)+"}":typeof b=="object"?p+=dt(b,s?s.replace(/([^,])+/g,j=>T.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,R=>/&/.test(R)?R.replace(/&/g,j):j?j+" "+R:R)):T):b!=null&&(T=/^--/.test(T)?T:T.replace(/[A-Z]/g,"-$&").toLowerCase(),g+=dt.p?dt.p(T,b):T+":"+b+";")}return o+(s&&g?s+"{"+g+"}":g)+p},et={},qs=i=>{if(typeof i=="object"){let s="";for(let o in i)s+=o+qs(i[o]);return s}return i},Zr=(i,s,o,p,g)=>{let T=qs(i),b=et[T]||(et[T]=(R=>{let k=0,U=11;for(;k<R.length;)U=101*U+R.charCodeAt(k++)>>>0;return"go"+U})(T));if(!et[b]){let R=T!==i?i:(k=>{let U,M,F=[{}];for(;U=Qr.exec(k.replace(Wr,""));)U[4]?F.shift():U[3]?(M=U[3].replace(ns," ").trim(),F.unshift(F[0][M]=F[0][M]||{})):F[0][U[1]]=U[2].replace(ns," ").trim();return F[0]})(i);et[b]=dt(g?{["@keyframes "+b]:R}:R,o?"":"."+b)}let j=o&&et.g?et.g:null;return o&&(et.g=et[b]),((R,k,U,M)=>{M?k.data=k.data.replace(M,R):k.data.indexOf(R)===-1&&(k.data=U?R+k.data:k.data+R)})(et[b],s,p,j),b},Xr=(i,s,o)=>i.reduce((p,g,T)=>{let b=s[T];if(b&&b.call){let j=b(o),R=j&&j.props&&j.props.className||/^go/.test(j)&&j;b=R?"."+R:j&&typeof j=="object"?j.props?"":dt(j,""):j===!1?"":j}return p+g+(b??"")},"");function Li(i){let s=this||{},o=i.call?i(s.p):i;return Zr(o.unshift?o.raw?Xr(o,[].slice.call(arguments,1),s.p):o.reduce((p,g)=>Object.assign(p,g&&g.call?g(s.p):g),{}):o,Vr(s.target),s.g,s.o,s.k)}let Ks,ta,ia;Li.bind({g:1});let at=Li.bind({k:1});function Jr(i,s,o,p){dt.p=s,Ks=i,ta=o,ia=p}function ut(i,s){let o=this||{};return function(){let p=arguments;function g(T,b){let j=Object.assign({},T),R=j.className||g.className;o.p=Object.assign({theme:ta&&ta()},j),o.o=/ *go\d+/.test(R),j.className=Li.apply(o,p)+(R?" "+R:"");let k=i;return i[0]&&(k=j.as||i,delete j.as),ia&&k[0]&&ia(j),Ks(k,j)}return g}}var en=i=>typeof i=="function",Ni=(i,s)=>en(i)?i(s):i,tn=(()=>{let i=0;return()=>(++i).toString()})(),$s=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");i=!s||s.matches}return i}})(),an=20,ra="default",Gs=(i,s)=>{let{toastLimit:o}=i.settings;switch(s.type){case 0:return{...i,toasts:[s.toast,...i.toasts].slice(0,o)};case 1:return{...i,toasts:i.toasts.map(b=>b.id===s.toast.id?{...b,...s.toast}:b)};case 2:let{toast:p}=s;return Gs(i,{type:i.toasts.find(b=>b.id===p.id)?1:0,toast:p});case 3:let{toastId:g}=s;return{...i,toasts:i.toasts.map(b=>b.id===g||g===void 0?{...b,dismissed:!0,visible:!1}:b)};case 4:return s.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(b=>b.id!==s.toastId)};case 5:return{...i,pausedAt:s.time};case 6:let T=s.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(b=>({...b,pauseDuration:b.pauseDuration+T}))}}},Si=[],Hs={toasts:[],pausedAt:void 0,settings:{toastLimit:an}},Qe={},Vs=(i,s=ra)=>{Qe[s]=Gs(Qe[s]||Hs,i),Si.forEach(([o,p])=>{o===s&&p(Qe[s])})},Qs=i=>Object.keys(Qe).forEach(s=>Vs(i,s)),sn=i=>Object.keys(Qe).find(s=>Qe[s].toasts.some(o=>o.id===i)),Ri=(i=ra)=>s=>{Vs(s,i)},ln={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rn=(i={},s=ra)=>{let[o,p]=v.useState(Qe[s]||Hs),g=v.useRef(Qe[s]);v.useEffect(()=>(g.current!==Qe[s]&&p(Qe[s]),Si.push([s,p]),()=>{let b=Si.findIndex(([j])=>j===s);b>-1&&Si.splice(b,1)}),[s]);let T=o.toasts.map(b=>{var j,R,k;return{...i,...i[b.type],...b,removeDelay:b.removeDelay||((j=i[b.type])==null?void 0:j.removeDelay)||i?.removeDelay,duration:b.duration||((R=i[b.type])==null?void 0:R.duration)||i?.duration||ln[b.type],style:{...i.style,...(k=i[b.type])==null?void 0:k.style,...b.style}}});return{...o,toasts:T}},nn=(i,s="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...o,id:o?.id||tn()}),Zt=i=>(s,o)=>{let p=nn(s,i,o);return Ri(p.toasterId||sn(p.id))({type:2,toast:p}),p.id},be=(i,s)=>Zt("blank")(i,s);be.error=Zt("error");be.success=Zt("success");be.loading=Zt("loading");be.custom=Zt("custom");be.dismiss=(i,s)=>{let o={type:3,toastId:i};s?Ri(s)(o):Qs(o)};be.dismissAll=i=>be.dismiss(void 0,i);be.remove=(i,s)=>{let o={type:4,toastId:i};s?Ri(s)(o):Qs(o)};be.removeAll=i=>be.remove(void 0,i);be.promise=(i,s,o)=>{let p=be.loading(s.loading,{...o,...o?.loading});return typeof i=="function"&&(i=i()),i.then(g=>{let T=s.success?Ni(s.success,g):void 0;return T?be.success(T,{id:p,...o,...o?.success}):be.dismiss(p),g}).catch(g=>{let T=s.error?Ni(s.error,g):void 0;T?be.error(T,{id:p,...o,...o?.error}):be.dismiss(p)}),i};var on=1e3,dn=(i,s="default")=>{let{toasts:o,pausedAt:p}=rn(i,s),g=v.useRef(new Map).current,T=v.useCallback((M,F=on)=>{if(g.has(M))return;let O=setTimeout(()=>{g.delete(M),b({type:4,toastId:M})},F);g.set(M,O)},[]);v.useEffect(()=>{if(p)return;let M=Date.now(),F=o.map(O=>{if(O.duration===1/0)return;let K=(O.duration||0)+O.pauseDuration-(M-O.createdAt);if(K<0){O.visible&&be.dismiss(O.id);return}return setTimeout(()=>be.dismiss(O.id,s),K)});return()=>{F.forEach(O=>O&&clearTimeout(O))}},[o,p,s]);let b=v.useCallback(Ri(s),[s]),j=v.useCallback(()=>{b({type:5,time:Date.now()})},[b]),R=v.useCallback((M,F)=>{b({type:1,toast:{id:M,height:F}})},[b]),k=v.useCallback(()=>{p&&b({type:6,time:Date.now()})},[p,b]),U=v.useCallback((M,F)=>{let{reverseOrder:O=!1,gutter:K=8,defaultPosition:N}=F||{},$=o.filter(V=>(V.position||N)===(M.position||N)&&V.height),W=$.findIndex(V=>V.id===M.id),X=$.filter((V,D)=>D<W&&V.visible).length;return $.filter(V=>V.visible).slice(...O?[X+1]:[0,X]).reduce((V,D)=>V+(D.height||0)+K,0)},[o]);return v.useEffect(()=>{o.forEach(M=>{if(M.dismissed)T(M.id,M.removeDelay);else{let F=g.get(M.id);F&&(clearTimeout(F),g.delete(M.id))}})},[o,T]),{toasts:o,handlers:{updateHeight:R,startPause:j,endPause:k,calculateOffset:U}}},cn=at`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,un=at`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pn=at`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mn=ut("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${un} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xn=at`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hn=ut("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${xn} 1s linear infinite;
`,fn=at`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gn=at`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bn=ut("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vn=ut("div")`
  position: absolute;
`,yn=ut("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Sn=at`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tn=ut("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Sn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,En=({toast:i})=>{let{icon:s,type:o,iconTheme:p}=i;return s!==void 0?typeof s=="string"?v.createElement(Tn,null,s):s:o==="blank"?null:v.createElement(yn,null,v.createElement(hn,{...p}),o!=="loading"&&v.createElement(vn,null,o==="error"?v.createElement(mn,{...p}):v.createElement(bn,{...p})))},jn=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,An=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,Nn="0%{opacity:0;} 100%{opacity:1;}",Ln="0%{opacity:1;} 100%{opacity:0;}",Rn=ut("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_n=ut("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,In=(i,s)=>{let o=i.includes("top")?1:-1,[p,g]=$s()?[Nn,Ln]:[jn(o),An(o)];return{animation:s?`${at(p)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${at(g)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Cn=v.memo(({toast:i,position:s,style:o,children:p})=>{let g=i.height?In(i.position||s||"top-center",i.visible):{opacity:0},T=v.createElement(En,{toast:i}),b=v.createElement(_n,{...i.ariaProps},Ni(i.message,i));return v.createElement(Rn,{className:i.className,style:{...g,...o,...i.style}},typeof p=="function"?p({icon:T,message:b}):v.createElement(v.Fragment,null,T,b))});Jr(v.createElement);var On=({id:i,className:s,style:o,onHeightUpdate:p,children:g})=>{let T=v.useCallback(b=>{if(b){let j=()=>{let R=b.getBoundingClientRect().height;p(i,R)};j(),new MutationObserver(j).observe(b,{subtree:!0,childList:!0,characterData:!0})}},[i,p]);return v.createElement("div",{ref:T,className:s,style:o},g)},kn=(i,s)=>{let o=i.includes("top"),p=o?{top:0}:{bottom:0},g=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$s()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(o?1:-1)}px)`,...p,...g}},Dn=Li`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fi=16,zn=({reverseOrder:i,position:s="top-center",toastOptions:o,gutter:p,children:g,toasterId:T,containerStyle:b,containerClassName:j})=>{let{toasts:R,handlers:k}=dn(o,T);return v.createElement("div",{"data-rht-toaster":T||"",style:{position:"fixed",zIndex:9999,top:fi,left:fi,right:fi,bottom:fi,pointerEvents:"none",...b},className:j,onMouseEnter:k.startPause,onMouseLeave:k.endPause},R.map(U=>{let M=U.position||s,F=k.calculateOffset(U,{reverseOrder:i,gutter:p,defaultPosition:s}),O=kn(M,F);return v.createElement(On,{id:U.id,key:U.id,onHeightUpdate:k.updateHeight,className:U.visible?Dn:"",style:O},U.type==="custom"?Ni(U.message,U):g?g(U):v.createElement(Cn,{toast:U,position:M}))}))},A=be;const Ws="forsaj_admin_user",Zs="forsaj_admin_token",aa="forsaj:session-expired",kt=()=>{const i=localStorage.getItem(Zs);return!i||i==="null"||i==="undefined"?null:i},qe=()=>{localStorage.removeItem(Ws),localStorage.removeItem(Zs),window.dispatchEvent(new Event(aa))},Ti="Ümumi Arxiv",Mn="forsaj_gallery_version",Bn=new Set(["","umumi arxiv","ümumi arxiv","general archive","default","archive","arxiv"]),Ee=i=>(i||"").trim()||Ti,os=(i,s)=>{const o=String(i||"").trim().toLocaleLowerCase("az");if(o==="past"||o==="kecmis"||o==="keçmiş")return"past";if(o==="planned"||o==="gelecek"||o==="gələcək")return"planned";const p=new Date(String(s||"").trim());if(!Number.isNaN(p.getTime())){const g=new Date;if(g.setHours(0,0,0,0),p.getTime()<g.getTime())return"past"}return"planned"},Pn=i=>{if(typeof i=="boolean")return i;const s=String(i||"").trim().toLocaleLowerCase("az");return s?!["false","0","no","off","disabled","deactive","inactive","bagli","bağlı"].includes(s):!0},Ki=i=>{const s=Ee(i).toLocaleLowerCase("az").normalize("NFC").trim();return Bn.has(s)},wn=(i,s)=>{const o=Number(i);return Number.isFinite(o)?o:s},Un=(i,s)=>{const o=wn(i?.id,Date.now()+s+1),p=String(i?.title||i?.alt||`Şəkil ${s+1}`).trim(),g=String(i?.url||i?.path||"").trim(),T=Number(i?.eventId??i?.event_id),b=Number.isFinite(T)?T:null,j=Ee(typeof i?.album=="string"?i.album:typeof i?.event=="string"?i.event:"");return{id:o,title:p||`Şəkil ${s+1}`,url:g,album:j,eventId:b}},Fn={toolbar:[[{header:[2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},ds=["Shield","Users","Leaf","Zap"],$i={Shield:Ai,Users:_s,Leaf:vr,Zap:Ds},Yn=["ShieldCheck","Truck","Globe","Zap"],qn={ShieldCheck:zs,Truck:yr,Globe:ze,Zap:Ds},Gi=["Info","Settings","ShieldAlert","Leaf","FileText"],Kn=[{title:"Səhifə və Sistem",subtitle:"Səhifə başlığı, status və sistem mesajları",ids:["PAGE_TITLE","PAGE_SUBTITLE","ONLINE_STATUS_LABEL","FORM_TOAST_REQUIRED","FORM_TOAST_SUCCESS","FORM_TOAST_ERROR"]},{title:"Baş Ofis",subtitle:"Ofis məlumatları və əsas əlaqə sahələri",ids:["OFFICE_LABEL","ADDRESS_LINE_1","ADDRESS_LINE_2","WORK_HOURS","PHONE_LABEL","PHONE_NUMBER","EMAIL_LABEL","EMAIL_Address"]},{title:"Departamentlər",subtitle:"Departament kartları və e-poçt məlumatları",ids:["DEPT_HQ_TITLE","DEPT_HQ_DESC","DEPT_HQ_EMAIL","DEPT_PR_TITLE","DEPT_PR_DESC","DEPT_PR_EMAIL","DEPT_TECH_TITLE","DEPT_TECH_DESC","DEPT_TECH_EMAIL"]},{title:"Form",subtitle:"Müraciət formu sahələri və seçimlər",ids:["FORM_TITLE","FORM_STATUS_LABEL","FORM_METHOD","FORM_CONTENT_TYPE","FIELD_NAME_LABEL","FIELD_NAME_PLACEHOLDER","FIELD_CONTACT_LABEL","FIELD_CONTACT_PLACEHOLDER","FIELD_TOPIC_LABEL","TOPIC_GENERAL","TOPIC_PILOT","TOPIC_TECH","FIELD_MESSAGE_LABEL","FIELD_MESSAGE_PLACEHOLDER","BTN_SEND"]}],cs={privacypolicypage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Məxfilik siyasətinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY","SECTION_9_TITLE","SECTION_9_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}],termsofservicepage:[{title:"Səhifə Başlığı",subtitle:"Ümumi başlıq və tarix məlumatları",ids:["PAGE_TITLE","PAGE_SUBTITLE","INTRO_TEXT","UPDATED_LABEL","UPDATED_DATE"]},{title:"Mətn Bölmələri",subtitle:"Xidmət şərtlərinin əsas maddələri",ids:["SECTION_1_TITLE","SECTION_1_BODY","SECTION_2_TITLE","SECTION_2_BODY","SECTION_3_TITLE","SECTION_3_BODY","SECTION_4_TITLE","SECTION_4_BODY","SECTION_5_TITLE","SECTION_5_BODY","SECTION_6_TITLE","SECTION_6_BODY","SECTION_7_TITLE","SECTION_7_BODY","SECTION_8_TITLE","SECTION_8_BODY"]},{title:"Əlaqə",subtitle:"Səhifənin sonunda görünən əlaqə məlumatları",ids:["CONTACT_TITLE","CONTACT_EMAIL","CONTACT_WEBSITE"]}]},Xs=/^val-(icon|title|desc)-(.+)$/i,us=i=>{const s=String(i||"").trim().match(Xs);return s?{field:s[1].toLowerCase(),suffix:s[2]}:null},$n={navbar:"Üst menudakı düymə adları və keçidlərini buradan yeniləyin.",hero:"Ana səhifənin ilk ekranında görünən başlıq, alt başlıq və düymələr.",marquee:"Ana səhifədə sürüşən məlumat zolağının məzmunu.",categoryleaders:"Ana səhifə liderlər bölməsi başlıq və məlumatları.",nextrace:'Ana səhifədəki "NÖVBƏTİ YARIŞ" bölməsinin başlıq və CTA mətnləri.',videoarchive:'Ana səhifədəki "VİDEO ARXİVİ" bölməsinin başlıq və izah mətnləri.',news:'Ana səhifədəki "SON XƏBƏRLƏR" bölməsinin başlıq və izah mətnləri.',partners:'Ana səhifənin alt hissəsindəki "RƏSMİ TƏRƏFDAŞLARIMIZ" kartları.',footer:"Saytın alt hissəsi (footer) mətnləri, linkləri və əlaqə məlumatları.",about:"Haqqımızda səhifəsindəki əsas başlıqlar, mətnlər və dəyərlər.",newspage:"Xəbərlər səhifəsi başlıq və üst mətn sahələri.",eventspage:"Tədbirlər səhifəsi başlıq və forma ilə bağlı mətnlər.",drivers:"Sürücülər bölməsinin kateqoriya və cədvəl başlıqları.",gallerypage:"Qalereya səhifəsi tab və başlıq məzmunları.",contactpage:"Əlaqə səhifəsində ofis, departament və form mətnləri.",rulespage:"Qaydalar səhifəsi tablar, sənəd düymələri və maddələr.",privacypolicypage:"Privacy Policy səhifəsində başlıq, maddələr və əlaqə məlumatları.",termsofservicepage:"Terms of Service səhifəsində başlıq, maddələr və əlaqə məlumatları."},ps={PAGE_TITLE:"Səhifənin ən üstündə görünən əsas başlıq.",PAGE_SUBTITLE:"Başlığın altında görünən qısa izah mətni.",SECTION_TITLE:"Bu blokun üstündə görünən etiket mətnidir.",INTRO_TEXT:"Səhifə girişində görünən giriş mətni.",UPDATED_LABEL:"Yenilənmə tarixindən əvvəl görünən etiket.",UPDATED_DATE:"Səhifədə göstərilən son yenilənmə tarixi.",CONTACT_TITLE:"Səhifə sonundakı əlaqə bölməsi başlığı.",CONTACT_EMAIL:"Səhifə sonundakı e-mail ünvanı.",CONTACT_WEBSITE:"Səhifə sonundakı veb sayt linki."},gi=i=>{if(!i)return"";const s=i.replace(/\\+\[/g,"[").replace(/\\+\]/g,"]");if(!/\[(\/?)(B|I|U|S|CENTER|FONT|URL|IMG|COLOR|SIZE|QUOTE|CODE|LIST|\*)[\]=\s\w"':#.,+-]*\]/i.test(s))return s;let p=s;return p=p.replace(/\[CENTER\]([\s\S]*?)\[\/CENTER\]/gi,'<div style="text-align:center;">$1</div>'),p=p.replace(/\[FONT=([^\]]+)\]([\s\S]*?)\[\/FONT\]/gi,'<span style="font-family:$1;">$2</span>'),p=p.replace(/\[B\]([\s\S]*?)\[\/B\]/gi,"<strong>$1</strong>"),p=p.replace(/\[I\]([\s\S]*?)\[\/I\]/gi,"<em>$1</em>"),p=p.replace(/\[U\]([\s\S]*?)\[\/U\]/gi,'<span style="text-decoration:underline;">$1</span>'),p=p.replace(/\[S\]([\s\S]*?)\[\/S\]/gi,"<strike>$1</strike>"),p=p.replace(/\[URL=([^\]]+)\]([\s\S]*?)\[\/URL\]/gi,'<a href="$1" target="_blank" rel="noopener noreferrer">$2</a>'),p=p.replace(/\[IMG\]([\s\S]*?)\[\/IMG\]/gi,'<img src="$1" style="max-width:100%;" />'),p=p.replace(/\[COLOR=([^\]]+)\]([\s\S]*?)\[\/COLOR\]/gi,'<span style="color:$1;">$2</span>'),p=p.replace(/\[SIZE=([^\]]+)\]([\s\S]*?)\[\/SIZE\]/gi,'<span style="font-size:$1px;">$2</span>'),p=p.replace(/\[QUOTE\]([\s\S]*?)\[\/QUOTE\]/gi,"<blockquote>$1</blockquote>"),p=p.replace(/\[CODE\]([\s\S]*?)\[\/CODE\]/gi,"<pre><code>$1</code></pre>"),p=p.replace(/\r?\n/g,"<br />"),p},bi=({value:i,onChange:s,id:o,readOnly:p=!1})=>e.jsx("div",{className:"quill-editor-wrapper",id:o,children:e.jsx(Or,{theme:"snow",value:i||"",onChange:s,modules:p?{toolbar:!1}:Fn,readOnly:p,placeholder:"Məzmunu daxil edin..."})}),ct=i=>{if(/^[A-Z0-9_]+$/.test(i.id))return i.id.trim();const s=(i.label||"").trim();return s.startsWith("KEY:")?s.replace(/^KEY:\s*/i,"").trim():""},Gn=/\b[A-Z0-9]+(?:_[A-Z0-9]+)+\b/,Wt=i=>Gn.test((i||"").trim()),Ei=i=>i.replace(/_/g," ").replace(/\s+/g," ").trim(),Ce=i=>{if(!i)return"";let s=i;for(let p=0;p<4;p++){const T=(new DOMParser().parseFromString(s,"text/html").body.textContent||"").trim();if(!T||T===s)break;s=T}return(new DOMParser().parseFromString(s,"text/html").body.textContent||"").replace(/\u00a0/g," ").replace(/\s+/g," ").trim()},It=i=>{const s=(i||"").trim();if(!s)return"";if(/^(https?:)?\/\//i.test(s))return s;const o=s.startsWith("/")?s:`/${s}`;return`${window.location.origin}${o}`},Hn=i=>{const s=(i||"").trim();if(!s)return"";if(/^https?:\/\//i.test(s)){try{const o=new URL(s);if(o.pathname.startsWith("/uploads/"))return`${o.pathname}${o.search}${o.hash}`}catch{}return s}return s.startsWith("/")?s:`/${s}`},Js=i=>/&(?:lt|gt|nbsp|quot|amp);|<\/?[a-z][^>]*>/i.test(i||""),Vn=i=>/<(ul|ol|li|a|img|iframe|video|table|h[1-6])\b|\[(b|i|u|url|img|center)\]/i.test(i||""),Qn=i=>!!(ct(i)||ft(i.id)||i.id.startsWith("txt-")||i.id.startsWith("val-")||i.id.startsWith("RULES_")||i.id.startsWith("PAGE_")||i.id.startsWith("BTN_")||i.id.startsWith("DOC_")||Js(i.value||"")&&!Vn(i.value||"")),tt="label-stat-",it="value-stat-",ft=i=>i.startsWith(tt)||i.startsWith(it),ms=i=>i.startsWith(tt)?i.slice(tt.length):i.startsWith(it)?i.slice(it.length):"",vi=(i,s)=>ct(i)?s!=="label":!0,Wn=i=>!ct(i),xs=i=>{const s=ct(i),o=Ce(i.value||""),p=Ce(i.label||"");if(s&&Wt(o)){const g=o.toUpperCase();if(g===s.toUpperCase()||p&&g===p.toUpperCase())return!0}return!!(!s&&Wt(o))},yi=i=>i&&$n[i]||"",Zn=i=>{const s=Ce(i.label||"");if(s&&!Wt(s))return s;const o=ct(i);return Ei(o||s||(i.id||"").replace(/-/g," "))},Xn=(i,s)=>{const p=(ct(i)||i.id||"").trim();if(ps[p])return ps[p];const g=p.match(/^SECTION_(\d+)_TITLE$/);if(g)return`${g[1]}. maddənin başlıq mətni.`;const T=p.match(/^SECTION_(\d+)_BODY$/);return T?`${T[1]}. maddənin izah mətni.`:s==="partners"&&/^PARTNER_\d+_NAME$/.test(p)?"Partner kartında görünən ad.":s==="partners"&&/^PARTNER_\d+_TAG$/.test(p)?"Partner kartında hover zamanı görünən etiket.":s==="partners"&&/^PARTNER_\d+_ICON$/.test(p)?"Partner kartında istifadə olunan ikon adı.":s==="partners"&&/^PARTNER_\d+_USE_IMAGE$/.test(p)?"Kartın ikon yoxsa görsəl ilə göstərilməsini təyin edir.":s==="partners"&&/^PARTNER_\d+_IMAGE_ID$/.test(p)?"Bu partner üçün bağlı şəkil ID-si.":"Bu mətn saytda olduğu kimi göstərilir."},hs=/^PARTNER_(\d+)_(NAME|TAG|ICON|USE_IMAGE|IMAGE_ID)$/,Jn=/^RULE_TAB_(\d+)_(ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL)$/,eo=/^RULE_TAB_(\d+)_ITEM_(\d+)_(TITLE|DESC)$/,Hi=/^RULE_TAB_\d+_(?:ID|TITLE|ICON|DOC_NAME|DOC_BUTTON|DOC_URL|ITEM_\d+_(?:TITLE|DESC))$/,to=i=>i==="NAME"?"name":i==="TAG"?"tag":i==="ICON"?"icon":i==="USE_IMAGE"?"useImage":i==="IMAGE_ID"?"imageId":null,$t={hero:"Hero Bölməsi",marquee:"Marquee Yazısı",navbar:"Menyu və Naviqasiya",about:"HAQQIMIZDA",mission_vision:"Missiya və Vizyon",values:"Dəyərlərimiz",eventspage:"Tədbirlər Səhifəsi",newspage:"Xəbər Səhifəsi",gallerypage:"Qalereya Səhifəsi",contactpage:"Əlaqə Səhifəsi",rulespage:"Qaydalar Səhifəsi",news:"Xəbərlər",drivers:"Sürücülər",categoryleaders:"Kateqoriya Liderləri",gallery:"Qalereya",videos:"Videolar",videoarchive:"Video Arxiv",privacypolicypage:"Məxfilik Siyasəti",termsofservicepage:"Xidmət Şərtləri",footer:"Footer",partners:"Tərəfdaşlar",offroadinfo:"Offroad Nədir?",whatisoffroad:"Offroad Nədir?",nextrace:"Növbəti Yarış",site:"Sayt Ayarları",settings:"Ümumi Parametrlər",general:"SİSTEM AYARLARI",app:"Tətbiq Ayarları"},gt={home:["navbar","hero","marquee","categoryleaders","nextrace","videoarchive","news","partners","footer"],abouttab:["about"],newstab:["newspage"],eventstab:["eventspage"],driverstab:["drivers"],gallerytab:["gallerypage","gallery","videos","videoarchive"],rulestab:["rulespage","privacypolicypage","termsofservicepage"],contacttab:["contactpage"]},ji=Object.entries(gt).reduce((i,[s,o])=>(o.forEach(p=>{i[p]=s}),i),{}),io=new Set(["privacypolicypage","termsofservicepage"]),ao=[{id:"all",label:"Hamısı"},{id:"navbar",label:"Naviqasiya"},{id:"footer",label:"Footer"}],so={all:gt.home,navbar:["navbar"],footer:["footer"]},fs=i=>{if(!i)return[];if(io.has(i))return[i];if(gt[i])return gt[i];const s=ji[i];return s&&gt[s]?gt[s]:[i]},Vi="forsaj_site_content_version",gs="forsaj_grouped_page_collapsed_v1",bs="forsaj_section_collapsed_v1",Se=(i,s)=>Number.isFinite(i)?i:s,lo=()=>{const[i,s]=v.useState([]),[o,p]=v.useState(0),[g,T]=v.useState(!1),[b,j]=v.useState(!1),[R,k]=v.useState(0),[U,M]=v.useState(""),[F,O]=v.useState(!1),[K,N]=v.useState(!1),[$,W]=v.useState(!1),[X,V]=v.useState([]),[D,E]=v.useState(null),[S,ae]=v.useState(""),[fe,Z]=v.useState(""),[ve,Ae]=v.useState(()=>{try{const t=localStorage.getItem(gs),a=t?JSON.parse(t):{};return a&&typeof a=="object"?a:{}}catch{return{}}}),[Oe,Me]=v.useState(()=>{try{const t=localStorage.getItem(bs),a=t?JSON.parse(t):{};return a&&typeof a=="object"?a:{}}catch{return{}}}),[me,Fe]=v.useState([]),[G,re]=v.useState(null),[B,Le]=v.useState({}),[Ke,We]=v.useState([]),[c,_]=v.useState(null),[C,J]=v.useState({}),[ee,ce]=v.useState([]),[oe,Ze]=v.useState(null),[Be,_i]=v.useState({}),Ii=sa(),na=new URLSearchParams(Ii.search),Ci=na.get("mode"),Ne=na.get("page"),[ie,Pe]=v.useState("extract"),[Oi,oa]=v.useState("modal"),[Dt,bt]=v.useState([]),da=v.useRef(!1),[pt,zt]=v.useState(null),[$e,mt]=v.useState({}),[ki,Mt]=v.useState(Ti),[vt,Di]=v.useState(""),[zi,Bt]=v.useState("all"),[ca,ua]=v.useState(""),pa=v.useRef(null),[ma,Pt]=v.useState("all");v.useEffect(()=>{Pe(Ci||"extract")},[Ci,Ne]),v.useEffect(()=>{if(ie!=="extract")return;const t=Ne?ji[Ne]:null;if(Ne&&(Ne==="home"||t==="home")){if(Ne==="navbar"){Pt("navbar");return}if(Ne==="footer"){Pt("footer");return}Pt("all");return}Pt("all")},[ie,Ne]),v.useEffect(()=>{localStorage.setItem(gs,JSON.stringify(ve))},[ve]),v.useEffect(()=>{localStorage.setItem(bs,JSON.stringify(Oe))},[Oe]);const[we,st]=v.useState([]),[xe,wt]=v.useState(null),[yt,Ut]=v.useState(null),[ke,St]=v.useState({}),[Mi,xa]=v.useState(!1),ha=async()=>{try{const a=await(await fetch("/api/site-content")).json();if(Array.isArray(a)){const h=["hero","marquee","navbar","about","mission_vision","values","rulespage","eventspage","newspage","gallerypage","contactpage","privacypolicypage","termsofservicepage","news","drivers","driverspage","categoryleaders","gallery","videos","videoarchive","footer","partners","offroadinfo","whatisoffroad","nextrace","site","settings","general","app"],d=[...a],f=y=>{const L=y.sections||[],I=y.images||[],z=(H,se,ue)=>{L.some(Lt=>Lt.id===H)||L.push({id:H,type:"text",label:se,value:ue})},he=(H,se,ue)=>{I.some(Lt=>Lt.id===H)||I.push({id:H,path:se,alt:ue,type:"remote",order:I.length})};if(z("PAGE_TITLE","Səhifə Başlığı","HAQQIMIZDA"),z("PAGE_SUBTITLE","Səhifə Alt Başlığı","BİZİM HEKAYƏMİZ // MİSSİYAMIZ VƏ GƏLƏCƏYİMİZ"),z("txt-est-2018-motorsp-949","About Üst Başlıq","EST. 2018 // MOTORSPORT MƏRKƏZİ"),z("txt-forsaj-club-az-rba-66","About Ana Başlıq",'"FORSAJ CLUB" AZƏRBAYCANIN OFFROAD MƏDƏNİYYƏTİNİ PEŞƏKAR SƏVİYYƏYƏ ÇATDIRMAQ ÜÇÜN YARADILMIŞDIR.'),z("txt-bi-zi-m-mi-ssi-yamiz-424","Missiya Başlığı","BİZİM MİSSİYAMIZ"),z("txt-az-rbaycan-n-h-r-bir-45","Missiya Təsviri","Azərbaycanın hər bir guşəsində offroad idmanını təbliğ etmək, yerli pilotları beynəlxalq standartlara uyğun yetişdirmək və təbiəti qoruyaraq ekstremal adrenalin təcrübəsi bəxş etmək."),z("txt-h-d-fi-mi-z-dakar-ral-50","Missiya Hədəf Mətni","HƏDƏFİMİZ: DAKAR RALLİ 2026"),z("txt-bi-zi-m-baxi-imiz-944","Vizyon Başlığı","BİZİM BAXIŞIMIZ"),z("txt-regionun-n-b-y-k-mo-901","Vizyon Təsviri","Regionun ən böyük motorsport hubuna çevrilmək, rəqəmsal və fiziki infrastrukturlarla pilotlarımızı dəstəkləmək və motorsportu hər kəs üçün əlçatan bir ehtirasa çevirmək."),z("txt-qafqazin-li-der-klubu-758","Vizyon Şüarı","QAFQAZIN LİDER KLUBUNA ÇEVRİLMƏK"),z("txt-fundamental-pri-nsi-pl-219","Dəyərlər Alt Başlıq","FUNDAMENTAL PRİNSİPLƏR"),z("txt-sas-d-y-rl-ri-mi-z-482","Dəyərlər Başlığı","ƏSAS DƏYƏRLƏRİMİZ"),z("val-icon-1","Dəyər 1 İkonu","Shield"),z("val-title-1","Dəyər 1 Başlıq","TƏHLÜKƏSİZLİK"),z("val-desc-1","Dəyər 1 Təsvir","EKSTREMAL İDMANDA CAN SAĞLIĞI BİZİM BİR NÖMRƏLİ QAYDAMIZDIR. BÜTÜN TEXNİKALARIMIZ FIA STANDARTLARINA UYĞUN YOXLANILIR."),z("val-icon-2","Dəyər 2 İkonu","Users"),z("val-title-2","Dəyər 2 Başlıq","İCMA RUHU"),z("val-desc-2","Dəyər 2 Təsvir","FORSAJ BİR KLUBDAN DAHA ÇOX, SADİQ VƏ BÖYÜK BİR AİLƏDİR. BİRİMİZ HAMIMIZ, HAMIMIZ BİRİMİZ ÜÇÜN!"),z("val-icon-3","Dəyər 3 İkonu","Leaf"),z("val-title-3","Dəyər 3 Başlıq","TƏBİƏTİ QORU"),z("val-desc-3","Dəyər 3 Təsvir","BİZ OFFROAD EDƏRKƏN TƏBİƏTƏ ZƏRƏR VERMƏMƏYİ ÖZÜMÜZƏ BORC BİLİRİK. EKOLOJİ BALANS BİZİM ÜÇÜN MÜQƏDDƏSDİR."),z("val-icon-4","Dəyər 4 İkonu","Zap"),z("val-title-4","Dəyər 4 Başlıq","MÜKƏMMƏLLİK"),z("val-desc-4","Dəyər 4 Təsvir","HƏR YARIŞDA, HƏR DÖNGƏDƏ DAHA YAXŞI OLMAĞA ÇALIŞIRIQ. TƏLİMLƏRİMİZ PEŞƏKAR İNSTRUKTORLAR TƏRƏFİNDƏN İDARƏ OLUNUR."),L.some(H=>H.id.includes("label-stat"))&&L.some(H=>H.id.includes("value-stat"))){y.sections=L,le(y,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),he("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),y.images=I;return}[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}].forEach((H,se)=>{const ue=`${se+1}`;L.push({id:`label-stat-${ue}`,type:"text",label:`Statistika Etiketi ${se+1}`,value:H.label}),L.push({id:`value-stat-${ue}`,type:"text",label:`Statistika Dəyəri ${se+1}`,value:H.value})}),y.sections=L,le(y,["PAGE_TITLE","PAGE_SUBTITLE","txt-est-2018-motorsp-949"]),he("img-992","https://images.unsplash.com/photo-1541447271487-09612b3f49f7?q=80&w=1974&auto=format&fit=crop","Forsaj Club Detail"),y.images=I},P=y=>{const L=y.sections||[],I=y.images||[],z=(te,H,se)=>{L.some(ue=>ue.id===te)||L.push({id:te,type:"text",label:H,value:se})},he=te=>{I.some(H=>H.id===te)||I.push({id:te,path:"",alt:te,type:"local",order:I.length})};z("SECTION_TITLE","Bölmə Başlığı","RƏSMİ TƏRƏFDAŞLARIMIZ"),[{name:"AZMF",tag:"OFFICIAL PARTNER",icon:"ShieldCheck"},{name:"OFFROAD AZ",tag:"OFFICIAL PARTNER",icon:"Truck"},{name:"GLOBAL 4X4",tag:"OFFICIAL PARTNER",icon:"Globe"},{name:"RACE TECH",tag:"OFFICIAL PARTNER",icon:"Zap"}].forEach((te,H)=>{const se=H+1;z(`PARTNER_${se}_NAME`,`Tərəfdaş ${se} Ad`,te.name),z(`PARTNER_${se}_TAG`,`Tərəfdaş ${se} Etiket`,te.tag),z(`PARTNER_${se}_ICON`,`Tərəfdaş ${se} İkon`,te.icon),z(`PARTNER_${se}_USE_IMAGE`,`Tərəfdaş ${se} Görsel İstifadə`,"false"),z(`PARTNER_${se}_IMAGE_ID`,`Tərəfdaş ${se} Görsel ID`,`partner-image-${se}`),he(`partner-image-${se}`)}),y.sections=L,y.images=I},Q=y=>{const L=y.sections||[],I=(z,he,Ie,te)=>{const H=L.findIndex(se=>se.id===z);if(H===-1){L.push({id:z,type:"text",label:he,value:Ie,...te?{url:te}:{}});return}te&&!L[H].url&&(L[H].url=te)};I("text-3","Hero Düymə 1","YARIŞLARA BAX","events"),I("text-4","Hero Düymə 2","HAQQIMIZDA","about"),y.sections=L},w=(y,L)=>{const I=y.sections||[];L.forEach(z=>{const he=I.findIndex(Ie=>Ie.id===z.id);if(he===-1){I.push({id:z.id,type:"text",label:z.label,value:z.value,...z.url?{url:z.url}:{}});return}z.url&&!I[he].url&&(I[he].url=z.url)}),y.sections=I},le=(y,L)=>{const I=y.sections||[];if(I.length===0||L.length===0)return;const z=new Map(L.map((te,H)=>[te,H])),he=I.filter(te=>z.has(te.id)).sort((te,H)=>z.get(te.id)-z.get(H.id)),Ie=I.filter(te=>!z.has(te.id));y.sections=[...he,...Ie].map((te,H)=>({...te,order:H}))},ye=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"ƏLAQƏ"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"GET IN TOUCH // CONTACT CENTER"},{id:"OFFICE_LABEL",label:"Ofis Bölmə Başlığı",value:"BAŞ OFİS"},{id:"ADDRESS_LINE_1",label:"Ünvan Sətir 1",value:"AZADLIQ 102, BAKI"},{id:"ADDRESS_LINE_2",label:"Ünvan Sətir 2",value:"AZƏRBAYCAN // SECTOR_01"},{id:"WORK_HOURS",label:"İş Saatı",value:"09:00 - 18:00"},{id:"ONLINE_STATUS_LABEL",label:"Onlayn Status Mətni",value:"ONLINE"},{id:"PHONE_LABEL",label:"Telefon Başlığı",value:"ƏLAQƏ NÖMRƏSİ"},{id:"PHONE_NUMBER",label:"Telefon Nömrəsi",value:"+994 50 123 45 67"},{id:"EMAIL_LABEL",label:"E-poçt Başlığı",value:"E-POÇT ÜNVANI"},{id:"EMAIL_Address",label:"Əsas E-poçt Ünvanı",value:"PROTOCOL@FORSAJ.AZ"},{id:"DEPT_HQ_TITLE",label:"Departament 1 Başlıq",value:"BAŞ OFİS"},{id:"DEPT_HQ_DESC",label:"Departament 1 Təsvir",value:"ÜMUMİ SORĞULAR VƏ İDARƏETMƏ"},{id:"DEPT_HQ_EMAIL",label:"Departament 1 E-poçt",value:"HQ@FORSAJ.AZ"},{id:"DEPT_PR_TITLE",label:"Departament 2 Başlıq",value:"MEDİA VƏ PR"},{id:"DEPT_PR_DESC",label:"Departament 2 Təsvir",value:"MƏTBUAT VƏ ƏMƏKDAŞLIQ"},{id:"DEPT_PR_EMAIL",label:"Departament 2 E-poçt",value:"PR@FORSAJ.AZ"},{id:"DEPT_TECH_TITLE",label:"Departament 3 Başlıq",value:"TEXNİKİ DƏSTƏK"},{id:"DEPT_TECH_DESC",label:"Departament 3 Təsvir",value:"PİLOTLAR ÜÇÜN TEXNİKİ YARDIM"},{id:"DEPT_TECH_EMAIL",label:"Departament 3 E-poçt",value:"TECH@FORSAJ.AZ"},{id:"FORM_TITLE",label:"Form Başlığı",value:"MÜRACİƏT FORMU"},{id:"FORM_STATUS_LABEL",label:"Form Status Mətni",value:"STATUS: ONLINE"},{id:"FORM_METHOD",label:"Form Method",value:"POST"},{id:"FORM_CONTENT_TYPE",label:"Form Content-Type",value:"application/json"},{id:"FIELD_NAME_LABEL",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"FIELD_NAME_PLACEHOLDER",label:"Ad Soyad Placeholder",value:"AD SOYAD DAXİL EDİN"},{id:"FIELD_CONTACT_LABEL",label:"Əlaqə Label",value:"ƏLAQƏ VASİTƏSİ"},{id:"FIELD_CONTACT_PLACEHOLDER",label:"Əlaqə Placeholder",value:"TELEFON VƏ YA EMAIL"},{id:"FIELD_TOPIC_LABEL",label:"Müraciət İstiqaməti Label",value:"MÜRACİƏT İSTİQAMƏTİ"},{id:"TOPIC_GENERAL",label:"Mövzu Seçimi 1",value:"ÜMUMİ SORĞU"},{id:"TOPIC_PILOT",label:"Mövzu Seçimi 2",value:"PİLOT QEYDİYYATI"},{id:"TOPIC_TECH",label:"Mövzu Seçimi 3",value:"TEXNİKİ YARDIM"},{id:"FIELD_MESSAGE_LABEL",label:"Mesaj Label",value:"MESAJINIZ"},{id:"FIELD_MESSAGE_PLACEHOLDER",label:"Mesaj Placeholder",value:"BURADA YAZIN..."},{id:"BTN_SEND",label:"Form Göndər Düyməsi",value:"MESAJI GÖNDƏR"},{id:"FORM_TOAST_REQUIRED",label:"Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"FORM_TOAST_SUCCESS",label:"Form Uğurlu Göndəriş Mesajı",value:"Müraciətiniz uğurla göndərildi!"},{id:"FORM_TOAST_ERROR",label:"Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"FOOTER_NEWSLETTER_TITLE",label:"Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."}])},ot=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"TƏDBİRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL EVENT CALENDAR // FORSAJ CLUB"},{id:"BTN_JOIN_EVENT",label:"Tədbirə Qoşul Düyməsi",value:"TƏDBİRƏ QOŞUL"},{id:"SIDEBAR_QUESTION_TITLE",label:"Sual Kartı Başlığı",value:"SUALINIZ VAR?"},{id:"SIDEBAR_QUESTION_DESC",label:"Sual Kartı Təsviri",value:"YARIŞLA BAĞLI ƏLAVƏ SUALLARINIZ ÜÇÜN BİZİMLƏ ƏLAQƏ SAXLAYIN."},{id:"BTN_CONTACT",label:"Sual Kartı Əlaqə Düyməsi",value:"ƏLAQƏ"},{id:"MODAL_TITLE",label:"İştirak Modal Başlığı",value:"YARIŞDA İŞTİRAK"},{id:"JOIN_AS_PILOT",label:"Pilot Kart Başlığı",value:"PİLOT KİMİ QATIL"},{id:"JOIN_PILOT_DESC",label:"Pilot Kart Təsviri",value:"TEXNİKİ REQLAMENTƏ UYĞUN OLARAQ"},{id:"JOIN_AS_SPECTATOR",label:"İzləyici Kart Başlığı",value:"İZLƏYİCİ KİMİ QATIL"},{id:"JOIN_SPECTATOR_DESC",label:"İzləyici Kart Təsviri",value:"YARIŞI TRİBUNADAN İZLƏ"},{id:"BTN_BACK",label:"Geri Düyməsi",value:"GERİ QAYIT"},{id:"PILOT_REG_TITLE",label:"Pilot Qeydiyyatı Başlığı",value:"PİLOT QEYDİYYATI"},{id:"FIELD_NAME",label:"Ad Soyad Label",value:"AD VƏ SOYAD"},{id:"PLACEHOLDER_NAME",label:"Ad Soyad Placeholder",value:"Tam ad daxil edin"},{id:"FIELD_PHONE",label:"Telefon Label",value:"TELEFON"},{id:"FIELD_CAR_MODEL",label:"Avtomobil Label",value:"AVTOMOBİLİN MARKA/MODELİ"},{id:"PLACEHOLDER_CAR",label:"Avtomobil Placeholder",value:"Məs: Toyota LC 105"},{id:"FIELD_TIRE_SIZE",label:"Təkər Label",value:"TƏKƏR ÖLÇÜSÜ"},{id:"PLACEHOLDER_TIRE",label:"Təkər Placeholder",value:"Məs: 35 DÜYM"},{id:"FIELD_ENGINE",label:"Mühərrik Label",value:"MÜHƏRRİK HƏCMİ"},{id:"PLACEHOLDER_ENGINE",label:"Mühərrik Placeholder",value:"Məs: 4.4L"},{id:"FIELD_CLUB",label:"Klub Label",value:"TƏMSİL ETDİYİ KLUB"},{id:"BTN_COMPLETE_REG",label:"Qeydiyyatı Tamamla Düyməsi",value:"QEYDİYYATI TAMAMLA"},{id:"PILOT_FORM_TOAST_REQUIRED",label:"Pilot Form Boş Sahə Xəbərdarlığı",value:"Zəhmət olmasa bütün sahələri doldurun."},{id:"PILOT_FORM_TOAST_SUCCESS",label:"Pilot Form Uğurlu Göndəriş Mesajı",value:"Qeydiyyat müraciətiniz uğurla göndərildi!"},{id:"PILOT_FORM_TOAST_ERROR",label:"Pilot Form Xəta Mesajı",value:"Gondərilmə zamanı xəta baş verdi."},{id:"PLACEHOLDER_PHONE",label:"Telefon Placeholder",value:"+994 -- --- -- --"},{id:"SPECTATOR_TICKET_URL",label:"İzləyici Bilet Linki",value:"https://iticket.az",url:"https://iticket.az"},{id:"CLUB_OPTION_1",label:"Klub Seçimi 1",value:"Fərdi İştirakçı"},{id:"CLUB_OPTION_2",label:"Klub Seçimi 2",value:"Club 4X4"},{id:"CLUB_OPTION_3",label:"Klub Seçimi 3",value:"Extreme 4X4"},{id:"CLUB_OPTION_4",label:"Klub Seçimi 4",value:"Forsaj Club"},{id:"CLUB_OPTION_5",label:"Klub Seçimi 5",value:"Offroad.az"},{id:"CLUB_OPTION_6",label:"Klub Seçimi 6",value:"Overland 4X4"},{id:"CLUB_OPTION_7",label:"Klub Seçimi 7",value:"PatrolClub.az"},{id:"CLUB_OPTION_8",label:"Klub Seçimi 8",value:"Victory Club"},{id:"CLUB_OPTION_9",label:"Klub Seçimi 9",value:"Zəfər 4X4 Club"}])},Xe=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XƏBƏRLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MOTORSPORT MAGAZINE // SEASON 2024"}]),le(y,["PAGE_TITLE","PAGE_SUBTITLE"])},Ft=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QALEREYA"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"XRONOLOJİ MOTORSPORT ARXİVİ // FORSAJ CLUB"},{id:"TAB_PHOTOS",label:"Tab Foto",value:"FOTOLAR"},{id:"TAB_VIDEOS",label:"Tab Video",value:"VİDEOLAR"},{id:"DYNAMIC_COLLECTION",label:"Dinamik Kolleksiya Alt Başlıq",value:"CANLI ARXİV // YENİLƏNƏN MƏZMUN"},{id:"TOTAL_LABEL",label:"Toplam Etiketi",value:"TOPLAM"},{id:"TYPE_PHOTO",label:"Foto Tipi",value:"FOTO"},{id:"TYPE_VIDEO",label:"Video Tipi",value:"VİDEO"}])},Yt=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"SÜRÜCÜLƏR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"OFFICIAL PILOT STANDINGS // SEASON 2024"}])},di=y=>{w(y,[{id:"FOOTER_LOGO_ALT",label:"Footer Logo Alt",value:"Forsaj Logo"},{id:"FOOTER_ABOUT_TEXT",label:"Footer Haqqında Mətn",value:"Azərbaycanın ən prestijli motorsport mərkəzi. Sərhədsiz offroad həyəcanını bizimlə yaşayın."},{id:"FOOTER_ADDRESS_LABEL",label:"Footer Ünvan Başlığı",value:"ÜNVAN"},{id:"FOOTER_CONTACT_LABEL",label:"Footer Əlaqə Başlığı",value:"ƏLAQƏ"},{id:"FOOTER_NAV_TITLE",label:"Footer Naviqasiya Başlığı",value:"NAVİQASİYA"},{id:"FOOTER_MOTORSPORT_TITLE",label:"Footer Motorsport Başlığı",value:"MOTORSPORT"},{id:"FOOTER_NEWSLETTER_TITLE",label:"Footer Abunə Başlığı",value:"XƏBƏRDAR OL"},{id:"FOOTER_NEWSLETTER_DESC",label:"Footer Abunə Təsviri",value:"Yarış təqvimi və xəbərlərdən anında xəbərdar olmaq üçün abunə olun."},{id:"FOOTER_NEWSLETTER_PLACEHOLDER",label:"Footer Abunə Placeholder",value:"EMAIL DAXİL EDİN"},{id:"FOOTER_COPYRIGHT",label:"Footer Copyright",value:"© 2024 FORSAJ CLUB. ALL RIGHTS RESERVED."},{id:"FOOTER_PRIVACY_LABEL",label:"Footer Privacy Link Mətni",value:"Privacy Policy",url:"privacy"},{id:"FOOTER_TERMS_LABEL",label:"Footer Terms Link Mətni",value:"Terms of Service",url:"terms"}]);const L=y.sections||[],I=(z,he)=>{const Ie=L.findIndex(H=>H.id===z);if(Ie===-1)return;const te=String(L[Ie].url||"").trim();(!te||te==="#")&&(L[Ie].url=he)};I("FOOTER_PRIVACY_LABEL","privacy"),I("FOOTER_TERMS_LABEL","terms"),y.sections=L},ci=y=>{w(y,[{id:"LEADER_TITLE_SUFFIX",label:"Lider Başlıq Suffix",value:"LİDERİ"},{id:"EMPTY_DRIVER_NAME",label:"Boş Sürücü Adı",value:"---"},{id:"EMPTY_DRIVER_TEAM",label:"Boş Komanda Adı",value:"---"}])},ui=y=>{w(y,[{id:"RACE_IMAGE_ALT",label:"Növbəti Yarış Görsel Alt",value:"Next Race"}])},Je=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"QAYDALAR"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"FORSAJ MOTORSPORT OFFICIAL RULES"}]);const L=y.sections||[],I=(H,se)=>(L.find(ue=>ue.id===H)?.value||se).trim()||se,z=[{index:1,id:"pilot",title:I("RULES_PILOT_TITLE","PİLOT PROTOKOLU"),icon:"Info",items:[{index:1,title:I("RULES_PILOT_SUB1","İSTİFADƏÇİ ÖHDƏLİKLƏRİ"),desc:I("RULES_PILOT_DESC1","HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR.")},{index:2,title:I("RULES_PILOT_SUB2","DİSKVALİFİKASİYA"),desc:I("RULES_PILOT_DESC2","PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR.")},{index:3,title:I("RULES_PILOT_SUB3","TEXNİKİ TƏLƏBLƏR"),desc:I("RULES_PILOT_DESC3","BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR.")}]},{index:2,id:"technical",title:I("RULES_TECH_TITLE","TEXNİKİ NORMARTİVLƏR"),icon:"Settings",items:[{index:1,title:I("RULES_TECH_SUB1","TƏKƏR ÖLÇÜLƏRİ"),desc:I("RULES_TECH_DESC1","PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR.")},{index:2,title:I("RULES_TECH_SUB2","MÜHƏRRİK GÜCÜ"),desc:I("RULES_TECH_DESC2","MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR.")},{index:3,title:I("RULES_TECH_SUB3","ASQI SİSTEMİ"),desc:I("RULES_TECH_DESC3","AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR.")}]},{index:3,id:"safety",title:I("RULES_SAFETY_TITLE","TƏHLÜKƏSİZLİK QAYDALARI"),icon:"ShieldAlert",items:[{index:1,title:I("RULES_SAFETY_SUB1","KARKAS TƏLƏBİ"),desc:I("RULES_SAFETY_DESC1","BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR.")},{index:2,title:I("RULES_SAFETY_SUB2","YANĞIN SÖNDÜRMƏ"),desc:I("RULES_SAFETY_DESC2","HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR.")},{index:3,title:I("RULES_SAFETY_SUB3","KƏMƏR VƏ DƏBİLQƏ"),desc:I("RULES_SAFETY_DESC3","5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR.")}]},{index:4,id:"eco",title:I("RULES_ECO_TITLE","EKOLOJİ MƏSULİYYƏT"),icon:"Leaf",items:[{index:1,title:I("RULES_ECO_SUB1","TULLANTILARIN İDARƏ EDİLMƏSİ"),desc:I("RULES_ECO_DESC1",'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.')},{index:2,title:I("RULES_ECO_SUB2","MAYE SIZMALARI"),desc:I("RULES_ECO_DESC2","AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR.")},{index:3,title:I("RULES_ECO_SUB3","MARŞRUTDAN KƏNARA ÇIXMAMAQ"),desc:I("RULES_ECO_DESC3","TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR.")}]}],he=[];z.forEach((H,se)=>{const ue=se+1;he.push({id:`RULE_TAB_${ue}_ID`,type:"text",label:`Qayda Sekməsi ${ue} ID`,value:H.id},{id:`RULE_TAB_${ue}_TITLE`,type:"text",label:`Qayda Sekməsi ${ue} Başlıq`,value:H.title},{id:`RULE_TAB_${ue}_ICON`,type:"text",label:`Qayda Sekməsi ${ue} İkon`,value:H.icon}),H.items.forEach((Lt,Jl)=>{const xi=Jl+1;he.push({id:`RULE_TAB_${ue}_ITEM_${xi}_TITLE`,type:"text",label:`Sekmə ${ue} Maddə ${xi} Başlıq`,value:Lt.title},{id:`RULE_TAB_${ue}_ITEM_${xi}_DESC`,type:"text",label:`Sekmə ${ue} Maddə ${xi} Təsvir`,value:Lt.desc})})});const Ie=new Set(L.map(H=>H.id)),te=he.filter(H=>!Ie.has(H.id));y.sections=[...L,...te]},pi=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"MƏXFİLİK SİYASƏTİ (PRIVACY POLICY)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"MƏLUMATLARIN QORUNMASI VƏ İSTİFADƏ ŞƏRTLƏRİ"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Ümumi Məlumat"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"Bu Məxfilik Siyasəti forsaj.az (“Sayt”, “biz”, “bizim”) tərəfindən istifadəçilərdən toplanan məlumatların növlərini, istifadə qaydasını və qorunmasını izah edir. Saytdan istifadə etməklə bu siyasətin şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Toplanan Məlumatlar"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:`Şəxsi məlumatlar:
- Ad və soyad
- Elektron poçt ünvanı
- Telefon nömrəsi (təqdim edildiyi halda)

Texniki məlumatlar:
- IP ünvan
- Brauzer növü və cihaz məlumatları
- Saytda fəaliyyət məlumatları (baxışlar, kliklər və s.)`},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. Məlumatların İstifadə Məqsədi"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`Toplanan məlumatlar aşağıdakı məqsədlərlə istifadə olunur:
- Xidmətlərin təqdim edilməsi və inkişaf etdirilməsi
- İstifadəçi sorğularına cavab verilməsi
- Təhlükəsizliyin təmin olunması
- Statistik və analitik təhlillər aparılması`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Cookies (Kukilər)"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Sayt istifadəçi təcrübəsini yaxşılaşdırmaq üçün kukilərdən istifadə edə bilər. İstifadəçi brauzer vasitəsilə kukiləri deaktiv edə bilər."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məlumatların Üçüncü Tərəflərlə Paylaşılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:`Şəxsi məlumatlar yalnız aşağı hallarda üçüncü tərəflərlə paylaşıla bilər:
- Qanunvericiliyin tələbi olduqda
- Texniki və xidmət tərəfdaşları ilə əməkdaşlıq çərçivəsində
- İstifadəçinin razılığı ilə`},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Məlumat Təhlükəsizliyi"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz şəxsi məlumatların qorunması üçün müvafiq texniki və inzibati təhlükəsizlik tədbirləri tətbiq edirik."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. İstifadəçi Hüquqları"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:`İstifadəçilər:
- Öz məlumatlarına çıxış tələb edə bilər
- Düzəliş və ya silinmə tələb edə bilər
- Məlumatların işlənməsinə etiraz edə bilər`},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Siyasətdə Dəyişikliklər"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:"Bu siyasət zaman-zaman yenilənə bilər. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_9_TITLE",label:"Bölmə 9 Başlıq",value:"9. Əlaqə"},{id:"SECTION_9_BODY",label:"Bölmə 9 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])},qi=y=>{w(y,[{id:"PAGE_TITLE",label:"Səhifə Başlığı",value:"XİDMƏT ŞƏRTLƏRİ (TERMS OF SERVICE)"},{id:"PAGE_SUBTITLE",label:"Səhifə Alt Başlığı",value:"İSTİFADƏ QAYDALARI VƏ HÜQUQİ ŞƏRTLƏR"},{id:"INTRO_TEXT",label:"Giriş Mətni",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"UPDATED_LABEL",label:"Yenilənmə Tarixi Etiketi",value:"Son yenilənmə tarixi"},{id:"UPDATED_DATE",label:"Yenilənmə Tarixi",value:"18 Fevral 2026"},{id:"SECTION_1_TITLE",label:"Bölmə 1 Başlıq",value:"1. Qəbul"},{id:"SECTION_1_BODY",label:"Bölmə 1 Mətn",value:"forsaj.az saytından istifadə etməklə siz bu Xidmət Şərtlərini qəbul etmiş olursunuz."},{id:"SECTION_2_TITLE",label:"Bölmə 2 Başlıq",value:"2. Xidmətin Təsviri"},{id:"SECTION_2_BODY",label:"Bölmə 2 Mətn",value:"forsaj.az avtomobil, motorsport, off-road və Forsaj icması ilə bağlı məlumat, tədbir və digər rəqəmsal xidmətlər təqdim edir."},{id:"SECTION_3_TITLE",label:"Bölmə 3 Başlıq",value:"3. İstifadə Qaydaları"},{id:"SECTION_3_BODY",label:"Bölmə 3 Mətn",value:`İstifadəçi:
- Saytdan yalnız qanuni məqsədlərlə istifadə etməlidir
- Digər istifadəçilərin hüquqlarını pozmamalıdır
- Saytın texniki sisteminə zərər verə biləcək hərəkətlər etməməlidir`},{id:"SECTION_4_TITLE",label:"Bölmə 4 Başlıq",value:"4. Əqli Mülkiyyət Hüquqları"},{id:"SECTION_4_BODY",label:"Bölmə 4 Mətn",value:"Saytda yerləşdirilən bütün məzmun (mətnlər, şəkillər, videolar, loqo və s.) müəllif hüquqları ilə qorunur və icazəsiz istifadə edilə bilməz."},{id:"SECTION_5_TITLE",label:"Bölmə 5 Başlıq",value:"5. Məsuliyyətin Məhdudlaşdırılması"},{id:"SECTION_5_BODY",label:"Bölmə 5 Mətn",value:"Sayt və xidmətlər “olduğu kimi” təqdim olunur. Texniki nasazlıq və ya fasilələrə görə sayt rəhbərliyi məsuliyyət daşımır."},{id:"SECTION_6_TITLE",label:"Bölmə 6 Başlıq",value:"6. Dəyişiklik Hüququ"},{id:"SECTION_6_BODY",label:"Bölmə 6 Mətn",value:"Biz bu şərtləri istənilən vaxt dəyişdirmək hüququnu özümüzdə saxlayırıq. Yenilənmiş versiya saytda dərc edildiyi tarixdən qüvvəyə minir."},{id:"SECTION_7_TITLE",label:"Bölmə 7 Başlıq",value:"7. Tətbiq Olunan Qanun"},{id:"SECTION_7_BODY",label:"Bölmə 7 Mətn",value:"Bu Xidmət Şərtləri Azərbaycan Respublikasının qanunvericiliyinə uyğun tənzimlənir."},{id:"SECTION_8_TITLE",label:"Bölmə 8 Başlıq",value:"8. Əlaqə"},{id:"SECTION_8_BODY",label:"Bölmə 8 Mətn",value:`Email: info@forsaj.az
Veb sayt: https://forsaj.az`},{id:"CONTACT_TITLE",label:"Əlaqə Bölməsi Başlığı",value:"Əlaqə"},{id:"CONTACT_EMAIL",label:"Əlaqə E-poçtu",value:"info@forsaj.az"},{id:"CONTACT_WEBSITE",label:"Əlaqə Vebsaytı",value:"https://forsaj.az"}])};h.forEach(y=>{const L=d.find(I=>I.id===y);L?y==="about"?f(L):y==="partners"?P(L):y==="hero"?Q(L):y==="contactpage"?ye(L):y==="eventspage"?ot(L):y==="newspage"?Xe(L):y==="gallerypage"?Ft(L):y==="driverspage"?Yt(L):y==="footer"?di(L):y==="categoryleaders"?ci(L):y==="nextrace"?ui(L):y==="rulespage"?Je(L):y==="privacypolicypage"?pi(L):y==="termsofservicepage"&&qi(L):d.push({id:y,title:$t[y]||y,sections:[{id:`${y}-default`,type:"text",label:"Bölmə",value:""}],images:[]})});const de=d.find(y=>y.id==="about");de&&f(de);const At=d.find(y=>y.id==="partners");At&&P(At);const Nt=d.find(y=>y.id==="hero");Nt&&Q(Nt);const Ha=d.find(y=>y.id==="contactpage");Ha&&ye(Ha);const Va=d.find(y=>y.id==="eventspage");Va&&ot(Va);const Qa=d.find(y=>y.id==="newspage");Qa&&Xe(Qa);const Wa=d.find(y=>y.id==="gallerypage");Wa&&Ft(Wa);const Za=d.find(y=>y.id==="driverspage");Za&&Yt(Za);const Xa=d.find(y=>y.id==="footer");Xa&&di(Xa);const Ja=d.find(y=>y.id==="categoryleaders");Ja&&ci(Ja);const es=d.find(y=>y.id==="nextrace");es&&ui(es);const ts=d.find(y=>y.id==="rulespage");ts&&Je(ts);const is=d.find(y=>y.id==="privacypolicypage");is&&pi(is);const as=d.find(y=>y.id==="termsofservicepage");as&&qi(as);const mi=new Map(h.map((y,L)=>[y,L]));d.sort((y,L)=>{const I=mi.has(y.id)?mi.get(y.id):Number.MAX_SAFE_INTEGER,z=mi.has(L.id)?mi.get(L.id):Number.MAX_SAFE_INTEGER;return I!==z?I-z:(y.title||y.id).localeCompare(L.title||L.id)});const Xl=d.map(y=>({...y,sections:(y.sections||[]).map((L,I)=>{if(L.type!=="text")return L;const he=Qn(L)?Ce(L.value||""):(L.value||"").replace(/\u00a0/g," "),Ie=Js(L.label||"")?Ce(L.label||""):L.label;return{...L,label:Ie,value:he,...L.url?{url:It(L.url)}:{},order:Se(L.order,I)}}).sort((L,I)=>Se(L.order,0)-Se(I.order,0)),images:(y.images||[]).map((L,I)=>({...L,order:Se(L.order,I)})).sort((L,I)=>Se(L.order,0)-Se(I.order,0))}));s(Xl)}const[r,l,n,u,m,x]=await Promise.all([fetch(`/api/all-images?v=${Date.now()}`).then(h=>h.json()).catch(()=>({})),fetch(`/api/events?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/news?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/drivers?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/gallery-photos?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[]),fetch(`/api/videos?v=${Date.now()}`,{cache:"no-store"}).then(h=>h.json()).catch(()=>[])]);if(r?.local&&V(r.local),Array.isArray(l)){const h=l.map(d=>({...d,status:os(d?.status,d?.date),youtubeUrl:String(d?.youtubeUrl||d?.youtube_url||d?.url||"").trim(),registrationEnabled:Pn(d?.registrationEnabled??d?.registration_enabled)}));Fe(h),h.length>0&&G===null&&(re(h[0].id),Le(h[0]))}if(Array.isArray(n)&&(We(n),n.length>0&&c===null&&(_(n[0].id),J({...n[0]}))),Array.isArray(u)&&(st(u),u.length>0&&xe===null&&wt(u[0].id)),Array.isArray(m)){const h=m.map((d,f)=>Un(d,f));bt(h),h.length===0&&(zt(null),mt({}))}Array.isArray(x)&&(ce(x),x.length>0&&oe===null&&Ia(x[0].id))}catch(t){console.error("Content load error:",t)}};v.useEffect(()=>{ha()},[]),v.useEffect(()=>{if(!i.length)return;const t=i.findIndex(x=>x.id==="about");if(t===-1||(i[t].sections||[]).some(x=>ft(x.id)))return;const l=[{label:"PİLOTLAR",value:"140+"},{label:"YARIŞLAR",value:"50+"},{label:"GƏNCLƏR",value:"20+"}],n=[...i],u={...n[t]},m=[...u.sections||[]];l.forEach((x,h)=>{const d=`${h+1}`;m.push({id:`${tt}${d}`,type:"text",label:`Statistika Etiketi ${h+1}`,value:x.label},{id:`${it}${d}`,type:"text",label:`Statistika Dəyəri ${h+1}`,value:x.value})}),u.sections=m,n[t]=u,s(n)},[i]),v.useEffect(()=>{da.current||(da.current=!0)},[]),v.useEffect(()=>{const t=new URLSearchParams(Ii.search),a=t.get("mode"),r=t.get("page");if(a&&["extract","events","event-management","news","drivers","videos","photos"].includes(a))Pe(a);else if(r){Pe("extract");const l=fs(r),n=i.findIndex(u=>l.includes(u.id));n!==-1&&p(n)}},[Ii.search,i]);const il=async()=>{j(!0),M("Front-end komponentləri skan edilir..."),k(30);const t=Date.now(),a=A.loading("Sinxronizasiya başladı...");try{const r=await fetch("/api/extract-content",{method:"POST"});if(!r.ok){const x=await r.text();throw new Error(x||"Extraction failed")}k(60),M("Bulud bazası ilə sinxronizasiya edilir...");const l=await r.json(),n=l.pages||l,u=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!u.ok){const x=await u.text();throw new Error(x||"Save failed")}k(90),s(n);const m=Date.now()-t;m<800&&await new Promise(x=>setTimeout(x,800-m)),k(100),M("Tamamlandı!"),setTimeout(()=>{j(!1),localStorage.setItem("forsaj_extracted","true"),localStorage.setItem(Vi,Date.now().toString()),A.success("Sinxronizasiya tamamlandı! Baza yeniləndi.",{id:a})},500)}catch(r){console.error("Extraction error:",r),j(!1),A.error(`Sinxronizasiya xətası: ${r.message}`,{id:a})}},De=(t,a,r,l)=>{const n=[...i],u=n[t].sections.findIndex(m=>m.id===a);if(u!==-1){const m=n[t].sections[u];if(!vi(m,r))return;let x=l;const d=!!ct(m)||ft(m.id)||m.id.startsWith("val-")||m.id.startsWith("txt-");(r==="value"||r==="label")&&d&&(x=Ce(l)),n[t].sections[u][r]=x,s(n)}},al=(t,a)=>{const r=i[t];if(!r)return;const l=r.sections.find(u=>u.id===a);if(!l||!l.url)return;const n=It(l.url);n&&n!==l.url&&De(t,a,"url",n)},fa=(t,a,r)=>{const l=[...i],n=l[t].images.findIndex(u=>u.id===a);n!==-1&&(l[t].images[n].alt=r,s(l))},sl=()=>{if(!S.trim()){A.error("Başlıq daxil edin!");return}const a={id:S.toLowerCase().replace(/\s+/g,"-"),title:S,sections:[{id:"text-0",type:"text",label:"Bölmə",value:"Yeni bölmə məzmunu..."}],images:[]};s([...i,a]),p(i.length),O(!1),ae(""),A.success("Yeni bölmə əlavə edildi!")},ga=(t,a,r)=>{if(o<0||o>=i.length)return;const l=[...i],n=l[o];if(n){if(t==="text"){const u=`text-${n.sections.length}-${Date.now()}`,m=n.sections.reduce((x,h,d)=>Math.max(x,Se(h.order,d)),-1)+1;n.sections.push({id:u,type:"text",label:"Bölmə",value:"Yeni mətn sahəsi...",order:m}),A.success("Yeni mətn sahəsi əlavə edildi")}else{const u=`img-${n.images.length}-${Date.now()}`,m=n.images.reduce((x,h,d)=>Math.max(x,Se(h.order,d)),-1)+1;n.images.push({id:u,path:"",alt:"",type:"local",order:m}),A.success("Yeni şəkil sahəsi əlavə edildi")}s(l)}},ba=(t,a,r=o)=>{if(r<0||r>=i.length)return;const l=[...i],n=l[r];n&&(t==="text"?(n.sections=n.sections.filter(u=>u.id!==a),n.sections=n.sections.map((u,m)=>({...u,order:m}))):(n.images=n.images.filter(u=>u.id!==a),n.images=n.images.map((u,m)=>({...u,order:m}))),s(l),A.success("Sahə silindi"))},Xt=(t,a,r,l=o)=>{if(l<0||l>=i.length)return;const n=[...i],u=n[l];if(!u)return;const m=t==="text"?u.sections:u.images,x=m.findIndex(f=>f.id===a);if(x===-1)return;const h=r==="up"?x-1:x+1;if(h<0||h>=m.length)return;const d=m[x];m[x]=m[h],m[h]=d,t==="text"?u.sections=(u.sections||[]).map((f,P)=>({...f,order:P})):u.images=(u.images||[]).map((f,P)=>({...f,order:P})),s(n)},Bi=(t=o)=>{if(t<0||t>=i.length)return;const a=[...i],r=a[t];if(!r||r.id!=="about")return;const l=`${Date.now()}`;r.sections.push({id:`${tt}${l}`,type:"text",label:"Statistika Etiketi",value:"YENİ STATİSTİKA"},{id:`${it}${l}`,type:"text",label:"Statistika Dəyəri",value:"0+"}),s(a),A.success("Yeni statistika əlavə edildi")},Jt=(t,a,r,l=o)=>{if(l<0||l>=i.length)return;const n=[...i],u=n[l];if(!u||u.id!=="about")return;const m=a==="label"?`${tt}${t}`:`${it}${t}`,x=u.sections.findIndex(d=>d.id===m),h=Ce(r);x!==-1?u.sections[x].value=h:u.sections.push({id:m,type:"text",label:a==="label"?"Statistika Etiketi":"Statistika Dəyəri",value:h}),s(n)},va=(t,a=o)=>{if(a<0||a>=i.length)return;const r=[...i],l=r[a];!l||l.id!=="about"||(l.sections=l.sections.filter(n=>n.id!==`${tt}${t}`&&n.id!==`${it}${t}`),s(r),A.success("Statistika silindi"))},ya=(t=o)=>{const a=[...i];let r=t;if((r<0||r>=a.length||!["about","values"].includes(a[r]?.id))&&(r=a.findIndex(u=>u.id==="about")),r<0||r>=a.length)return;const l=a[r],n=`${Date.now()}`;l.sections.push({id:`val-icon-${n}`,type:"text",label:"İkon Kodu (Shield/Users/Leaf/Zap)",value:"Shield"},{id:`val-title-${n}`,type:"text",label:"Dəyər Başlığı",value:"YENİ DƏYƏR"},{id:`val-desc-${n}`,type:"text",label:"Dəyər Təsviri",value:"Dəyər təsvirini daxil edin."}),s(a),A.success("Yeni dəyər əlavə edildi")},Pi=(t,a,r,l=o)=>{if(l<0||l>=i.length)return;const n=[...i],u=n[l];if(!u||!["about","values"].includes(u.id))return;const m=`val-${a}-${t}`,x=(u.sections||[]).findIndex(d=>d.id===m),h=a==="icon"?String(r||"").trim():Ce(r);if(x!==-1)u.sections[x].value=h;else{const d=a==="icon"?"İkon Kodu (Shield/Users/Leaf/Zap)":a==="title"?"Dəyər Başlığı":"Dəyər Təsviri";u.sections.push({id:m,type:"text",label:d,value:h})}s(n)},ll=(t,a=o)=>{if(a<0||a>=i.length)return;const r=[...i],l=r[a];!l||!["about","values"].includes(l.id)||(l.sections=(l.sections||[]).filter(n=>{const u=us(n.id);return!u||u.suffix!==t}),s(r),A.success("Dəyər silindi"))},Tt=t=>{if(!t)return[];const a=new Map;return(t.sections||[]).forEach(r=>{const l=r.id.match(hs);if(!l)return;const n=Number(l[1]),u=to(l[2]);if(!u)return;const m=a.get(n)||{index:n,name:"",tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${n}`};m[u]=r.value||"",a.set(n,m)}),Array.from(a.values()).sort((r,l)=>r.index-l.index)},lt=t=>(t.imageId||"").trim()||`partner-image-${t.index}`,ei=(t,a=o)=>{if(a<0||a>=i.length)return;const r=[...i],l=r[a];if(!l||l.id!=="partners")return;const n=(l.sections||[]).filter(d=>!hs.test(d.id)),u=[];t.forEach(d=>{const f=lt(d);u.push({id:`PARTNER_${d.index}_NAME`,type:"text",label:`Tərəfdaş ${d.index} Ad`,value:d.name},{id:`PARTNER_${d.index}_TAG`,type:"text",label:`Tərəfdaş ${d.index} Etiket`,value:d.tag},{id:`PARTNER_${d.index}_ICON`,type:"text",label:`Tərəfdaş ${d.index} İkon`,value:d.icon},{id:`PARTNER_${d.index}_USE_IMAGE`,type:"text",label:`Tərəfdaş ${d.index} Görsel İstifadə`,value:d.useImage},{id:`PARTNER_${d.index}_IMAGE_ID`,type:"text",label:`Tərəfdaş ${d.index} Görsel ID`,value:f})});const m=l.images||[],x=new Set(t.map(d=>lt(d))),h=[...m];x.forEach(d=>{h.some(f=>f.id===d)||h.push({id:d,path:"",alt:d,type:"local",order:h.length})}),l.sections=[...n,...u],l.images=h.map((d,f)=>({...d,order:f})),s(r)},ti=(t,a,r,l=o)=>{const n=Tt(i[l]).map(u=>u.index===t?{...u,[a]:r}:u);ei(n,l)},rl=(t=o)=>{const a=Tt(i[t]),r=(a[a.length-1]?.index||0)+1;a.push({index:r,name:`PARTNER ${r}`,tag:"OFFICIAL PARTNER",icon:"ShieldCheck",useImage:"false",imageId:`partner-image-${r}`}),ei(a,t)},nl=(t,a=o)=>{const r=Tt(i[a]).filter(l=>l.index!==t);ei(r,a)},Sa=(t,a,r=o)=>{const l=Tt(i[r]),n=l.findIndex(h=>h.index===t);if(n===-1)return;const u=a==="up"?n-1:n+1;if(u<0||u>=l.length)return;const m=l[n];l[n]=l[u],l[u]=m;const x=l.map((h,d)=>({...h,index:d+1,imageId:lt({...h,index:d+1})}));ei(x,r)},Ta=(t,a=o)=>{if(a<0||a>=i.length)return"";const r=[...i],l=r[a];if(!l||l.id!=="partners")return"";const n=lt(t);if((l.images||[]).find(x=>x.id===n))return n;const m=[...l.images||[]];return m.push({id:n,path:"",alt:t.name||`Partner ${t.index}`,type:"local",order:m.length}),l.images=m,s(r),n},Ea=(t,a,r=o)=>{if(r<0||r>=i.length)return;const l=lt(t),n=[...i],u=n[r];if(!u||u.id!=="partners")return;const m=[...u.images||[]];let x=m.findIndex(h=>h.id===l);x===-1&&(m.push({id:l,path:"",alt:t.name||`Partner ${t.index}`,type:"local",order:m.length}),x=m.length-1),typeof a.path=="string"&&(m[x].path=a.path),typeof a.alt=="string"&&(m[x].alt=a.alt),u.images=m.map((h,d)=>({...h,order:d})),s(n)},ja=(t,a)=>Ce(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||a,ol=[{id:"pilot",icon:"Info",titleKey:"RULES_PILOT_TITLE",titleFallback:"PİLOT PROTOKOLU",docNameFallback:"PILOT_PROTOKOLU.PDF",items:[{titleKey:"RULES_PILOT_SUB1",titleFallback:"İSTİFADƏÇİ ÖHDƏLİKLƏRİ",descKey:"RULES_PILOT_DESC1",descFallback:"HƏR BİR İŞTİRAKÇI FEDERASİYANIN MÜƏYYƏN ETDİYİ BÜTÜN TEXNİKİ VƏ ETİK NORMALARI QEYD-ŞƏRTSİZ QƏBUL EDİR."},{titleKey:"RULES_PILOT_SUB2",titleFallback:"DİSKVALİFİKASİYA",descKey:"RULES_PILOT_DESC2",descFallback:"PROTOKOLDAN KƏNARA ÇIXMAQ VƏ YA HAKİM QƏRARLARINA ETİRAZ ETMƏK DƏRHAL DİSKVALİFİKASİYA İLƏ NƏTİCƏLƏNƏ BİLƏR."},{titleKey:"RULES_PILOT_SUB3",titleFallback:"TEXNİKİ TƏLƏBLƏR",descKey:"RULES_PILOT_DESC3",descFallback:"BÜTÜN AVADANLIQLAR YARIŞDAN 24 SAAT ƏVVƏL TEXNİKİ KOMİSSİYA TƏRƏFİNDƏN YOXLANILMALI VƏ TƏHLÜKƏSİZLİK SERTİFİKATI İLƏ TƏMİN EDİLMƏLİDİR."}]},{id:"technical",icon:"Settings",titleKey:"RULES_TECH_TITLE",titleFallback:"TEXNİKİ NORMARTİVLƏR",docNameFallback:"TEXNIKI_NORMATIVLER.PDF",items:[{titleKey:"RULES_TECH_SUB1",titleFallback:"TƏKƏR ÖLÇÜLƏRİ",descKey:"RULES_TECH_DESC1",descFallback:"PRO CLASS ÜÇÜN MAKSİMUM TƏKƏR ÖLÇÜSÜ 37 DÜYM, AMATEUR CLASS ÜÇÜN İSƏ 33 DÜYM OLARAQ MÜƏYYƏN EDİLMİŞDİR."},{titleKey:"RULES_TECH_SUB2",titleFallback:"MÜHƏRRİK GÜCÜ",descKey:"RULES_TECH_DESC2",descFallback:"MÜHƏRRİK ÜZƏRİNDƏ APARILAN MODİFİKASİYALAR KATEQORİYA ÜZRƏ LİMİTLƏRİ AŞMAMALIDIR. TURBO SİSTEMLƏRİ YALNIZ XÜSUSİ KLASLARDA İCAZƏLİDİR."},{titleKey:"RULES_TECH_SUB3",titleFallback:"ASQI SİSTEMİ",descKey:"RULES_TECH_DESC3",descFallback:"AVTOMOBİLİN KLİRENSİ (YERDƏN HÜNDÜRLÜYÜ) VƏ ASQI ARTIKULYASİYASI TƏHLÜKƏSİZLİK STANDARTLARINA UYĞUN OLMALIDIR."}]},{id:"safety",icon:"ShieldAlert",titleKey:"RULES_SAFETY_TITLE",titleFallback:"TƏHLÜKƏSİZLİK QAYDALARI",docNameFallback:"TEHLUKESIZLIK_QAYDALARI.PDF",items:[{titleKey:"RULES_SAFETY_SUB1",titleFallback:"KARKAS TƏLƏBİ",descKey:"RULES_SAFETY_DESC1",descFallback:"BÜTÜN AÇIQ VƏ YA MODİFİKASİYA OLUNMUŞ AVTOMOBİLLƏRDƏ FIA STANDARTLARINA UYĞUN TƏHLÜKƏSİZLİK KARKASI (ROLL CAGE) MƏCBURİDİR."},{titleKey:"RULES_SAFETY_SUB2",titleFallback:"YANĞIN SÖNDÜRMƏ",descKey:"RULES_SAFETY_DESC2",descFallback:"HƏR BİR AVTOMOBİLDƏ ƏN AZI 2 KİLOQRAMLIQ, ASAN ƏLÇATAN YERDƏ YERLƏŞƏN YANĞINSÖNDÜRƏN BALON OLMALIDIR."},{titleKey:"RULES_SAFETY_SUB3",titleFallback:"KƏMƏR VƏ DƏBİLQƏ",descKey:"RULES_SAFETY_DESC3",descFallback:"5 NÖQTƏLİ TƏHLÜKƏSİZLİK KƏMƏRLƏRİ VƏ SERTİFİKATLI KASKALARIN (DƏBİLQƏLƏRİN) İSTİFADƏSİ BÜTÜN MƏRHƏLƏLƏRDƏ MƏCBURİDİR."}]},{id:"eco",icon:"Leaf",titleKey:"RULES_ECO_TITLE",titleFallback:"EKOLOJİ MƏSULİYYƏT",docNameFallback:"EKOLOJI_MESULIYYET.PDF",items:[{titleKey:"RULES_ECO_SUB1",titleFallback:"TULLANTILARIN İDARƏ EDİLMƏSİ",descKey:"RULES_ECO_DESC1",descFallback:'YARIŞ ƏRAZİSİNDƏ VƏ TRASDA HƏR HANSI BİR TULLANTININ ATILMASI QƏTİ QADAĞANDIR. İŞTİRAKÇILAR "LEAVE NO TRACE" PRİNSİPİNƏ ƏMƏL ETMƏLİDİR.'},{titleKey:"RULES_ECO_SUB2",titleFallback:"MAYE SIZMALARI",descKey:"RULES_ECO_DESC2",descFallback:"AVTOMOBİLDƏN YAĞ VƏ YA SOYUDUCU MAYE SIZMASI OLDUĞU TƏQDİRDƏ PİLOT DƏRHAL DAYANMALI VƏ ƏRAZİNİN ÇİRKLƏNMƏSİNİN QARŞISINI ALMALIDIR."},{titleKey:"RULES_ECO_SUB3",titleFallback:"MARŞRUTDAN KƏNARA ÇIXMAMAQ",descKey:"RULES_ECO_DESC3",descFallback:"TƏBİİ ÖRTÜYÜ QORUMAQ MƏQSƏDİ İLƏ MÜƏYYƏN OLUNMUŞ TRASDANKƏNAR SÜRÜŞLƏR VƏ YA YAŞIL SAHƏLƏRƏ ZƏRƏR VERMƏK QADAĞANDIR."}]}],ii=(t,a,r)=>{const l=Ce((t.find(n=>n.id===a)?.value||"").toString());return!l||Wt(l)?r:l},dl=t=>{const a=ii(t,"BTN_DOWNLOAD_PDF","PDF YÜKLƏ"),r=It((t.find(l=>l.id==="BTN_DOWNLOAD_PDF")?.url||"").toString());return ol.map((l,n)=>({index:n+1,id:l.id,title:ii(t,l.titleKey,l.titleFallback),icon:l.icon,docName:l.docNameFallback,docButton:a,docUrl:r,items:l.items.map((u,m)=>({index:m+1,title:ii(t,u.titleKey,u.titleFallback),desc:ii(t,u.descKey,u.descFallback)}))}))},wi=t=>ja(t||"",""),Ge=t=>{if(!t||t.id!=="rulespage")return[];const a=new Map;(t.sections||[]).forEach(x=>{const h=x.id.match(Jn);if(h){const f=Number(h[1]),P=h[2],Q=a.get(f)||{id:`tab-${f}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map};P==="ID"&&(Q.id=x.value||`tab-${f}`),P==="TITLE"&&(Q.title=x.value||""),P==="ICON"&&(Q.icon=x.value||"Info"),P==="DOC_NAME"&&(Q.docName=x.value||""),P==="DOC_BUTTON"&&(Q.docButton=x.value||""),P==="DOC_URL"&&(Q.docUrl=It(x.url||x.value||"")),a.set(f,Q);return}const d=x.id.match(eo);if(d){const f=Number(d[1]),P=Number(d[2]),Q=d[3],w=a.get(f)||{id:`tab-${f}`,title:"",icon:"Info",docName:"",docButton:"",docUrl:"",items:new Map},le=w.items.get(P)||{title:"",desc:""};Q==="TITLE"&&(le.title=x.value||""),Q==="DESC"&&(le.desc=x.value||""),w.items.set(P,le),a.set(f,w)}});const r=Array.from(a.entries()).sort((x,h)=>x[0]-h[0]).map(([x,h])=>({index:x,id:h.id||`tab-${x}`,title:h.title||"",icon:h.icon||"Info",docName:h.docName||"",docButton:h.docButton||"",docUrl:h.docUrl||"",items:Array.from(h.items.entries()).sort((d,f)=>d[0]-f[0]).map(([d,f])=>({index:d,title:f.title||"",desc:f.desc||""}))})).filter(x=>x.title||x.items.length>0),l=dl(t.sections||[]);if(!r.length)return l;const n=new Map;r.forEach(x=>{n.set(wi(x.id||x.title||""),x)});const u=new Set,m=l.map(x=>{const h=wi(x.id||x.title||""),d=n.get(h);return d?(u.add(h),{...x,...d,id:d.id||x.id,title:d.title||x.title,icon:d.icon||x.icon,docName:d.docName||x.docName,docButton:d.docButton||x.docButton,docUrl:d.docUrl||x.docUrl,items:d.items&&d.items.length>0?d.items:x.items}):x});return r.forEach(x=>{const h=wi(x.id||x.title||"");u.has(h)||m.push(x)}),m.map((x,h)=>({...x,index:h+1}))},rt=(t,a=o)=>{if(a<0||a>=i.length)return;const r=[...i],l=r[a];if(!l||l.id!=="rulespage")return;const n=(l.sections||[]).filter(m=>!Hi.test(m.id)),u=[];return t.forEach((m,x)=>{const h=x+1,d=ja(m.id||m.title||"",`tab-${h}`),f=Ce(m.title||`SEKME ${h}`),P=Gi.includes(m.icon)?m.icon:"Info",Q=Ce(m.docName||`${d.toUpperCase()}_PROTOKOLU.PDF`),w=Ce(m.docButton||"PDF YÜKLƏ"),le=Hn(m.docUrl||"");u.push({id:`RULE_TAB_${h}_ID`,type:"text",label:`Qayda Sekməsi ${h} ID`,value:d},{id:`RULE_TAB_${h}_TITLE`,type:"text",label:`Qayda Sekməsi ${h} Başlıq`,value:f},{id:`RULE_TAB_${h}_ICON`,type:"text",label:`Qayda Sekməsi ${h} İkon`,value:P},{id:`RULE_TAB_${h}_DOC_NAME`,type:"text",label:`Sekmə ${h} Sənəd Adı`,value:Q},{id:`RULE_TAB_${h}_DOC_BUTTON`,type:"text",label:`Sekmə ${h} Sənəd Düyməsi`,value:w},{id:`RULE_TAB_${h}_DOC_URL`,type:"text",label:`Sekmə ${h} Sənəd Linki`,value:le,...le?{url:le}:{}}),(m.items||[]).forEach((ye,ot)=>{const Xe=ot+1;u.push({id:`RULE_TAB_${h}_ITEM_${Xe}_TITLE`,type:"text",label:`Sekmə ${h} Maddə ${Xe} Başlıq`,value:Ce(ye.title||"")},{id:`RULE_TAB_${h}_ITEM_${Xe}_DESC`,type:"text",label:`Sekmə ${h} Maddə ${Xe} Təsvir`,value:Ce(ye.desc||"")})})}),l.sections=[...n,...u].map((m,x)=>({...m,order:x})),s(r),r},Aa=(t=o)=>{const a=Ge(i[t]),r=a.length+1;a.push({index:r,id:`tab-${r}`,title:`SEKME ${r}`,icon:"Info",docName:`TAB_${r}_PROTOKOLU.PDF`,docButton:"PDF YÜKLƏ",docUrl:"",items:[{index:1,title:"YENİ MADDƏ",desc:"Maddə təsviri..."}]}),rt(a,t),A.success("Yeni sekmə əlavə edildi")},Na=(t,a=o)=>{const r=Ge(i[a]).filter((l,n)=>n!==t);rt(r,a),A.success("Sekmə silindi")},ai=(t,a,r=o)=>{const l=Ge(i[r]),n=a==="up"?t-1:t+1;if(n<0||n>=l.length)return;const u=l[t];l[t]=l[n],l[n]=u,rt(l,r)},Ue=(t,a,r,l=o)=>{const n=Ge(i[l]);n[t]&&(n[t]={...n[t],[a]:r},rt(n,l))},La=(t,a=o)=>{const r=Ge(i[a]);if(!r[t])return;const l=(r[t].items?.length||0)+1;r[t].items=[...r[t].items||[],{index:l,title:`MADDƏ ${l}`,desc:"Maddə təsviri..."}],rt(r,a)},Ra=(t,a,r=o)=>{const l=Ge(i[r]);l[t]&&(l[t].items=(l[t].items||[]).filter((n,u)=>u!==a),rt(l,r))},si=(t,a,r,l,n=o)=>{const u=Ge(i[n]);!u[t]||!u[t].items[a]||(u[t].items[a]={...u[t].items[a],[r]:l},rt(u,n))},Ui=(t,a)=>{E({pageIdx:t,imgId:a}),N(!0)},Fi=async(t,a)=>{const r=new FormData;r.append("image",t);const l=A.loading(a?.loadingText||"Şəkil yüklənir...");try{const n=await fetch("/api/upload-image",{method:"POST",body:r});if(n.ok){const u=await n.json();return A.success(a?.successText||"Şəkil uğurla yükləndi",{id:l}),u.url}else throw new Error("Upload fail")}catch(n){return console.error("Upload error:",n),A.error(a?.errorText||"Görsəl yüklənərkən xəta baş verdi",{id:l}),null}},He=async t=>Fi(t),cl=async t=>t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")?(A.error("Yalnız PDF faylı yüklənə bilər"),null):Fi(t,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"}),ul=async t=>{try{(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&localStorage.setItem(Vi,Date.now().toString())}catch(a){console.error("Silent save failed:",a)}},_a=async(t,a,r=o)=>{const l=await cl(t);if(!l)return;const n=Ge(i[r]);if(!n[a])return;n[a]={...n[a],docName:t.name,docUrl:l};const u=rt(n,r);u&&ie==="extract"&&await ul(u)},pl=async(t,a,r)=>{const l=t.target.files?.[0];if(!l)return;const n=await He(l);if(n){const u=[...i],m=u[a].images.findIndex(x=>x.id===r);m!==-1&&(u[a].images[m].path=n,u[a].images[m].type="local",s(u))}},ml=t=>{if(!D)return;const a=[...i];if($){const r=`img-${a[D.pageIdx].images.length}-${Date.now()}`;a[D.pageIdx].images.push({id:r,path:t,alt:"Daxil edildi",type:"local"}),W(!1)}else{const r=a[D.pageIdx].images.findIndex(l=>l.id===D.imgId);r!==-1&&(a[D.pageIdx].images[r].path=t,a[D.pageIdx].images[r].type="local")}s(a),N(!1),A.success("Şəkil seçildi")},Et=async()=>{T(!0);const t=A.loading("Yadda saxlanılır...");try{const a=Date.now().toString();let r="";if(ie==="extract"||ie==="event-management"){const l=await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok)throw new Error(await l.text())}else if(ie==="events"){const l=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(!l.ok)throw new Error(await l.text());const n=await l.json().catch(()=>({})),u=Number(n?.addedEventsCount||0),m=!!n?.mailSent,x=Number(n?.mailStatus?.recipients||0),h=String(n?.mailStatus?.reason||"").trim();u>0&&(m?r=`Yeni tədbir bildirişi ${x||0} abunəçiyə göndərildi.`:h==="smtp_disabled"||h==="smtp_not_configured"?r="Yeni tədbir əlavə olundu, amma SMTP aktiv olmadığından mail göndərilmədi.":r="Yeni tədbir əlavə olundu, lakin bildiriş maili göndərilmədi.")}else if(ie==="news"){const l=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)});if(!l.ok)throw new Error(await l.text())}else if(ie==="drivers"){const l=await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(we)});if(!l.ok)throw new Error(await l.text())}else if(ie==="videos"){const l=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!l.ok)throw new Error(await l.text())}else if(ie==="photos"){const l=await fetch("/api/gallery-photos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Dt)});if(!l.ok)throw new Error(await l.text())}localStorage.setItem(Vi,a),(ie==="photos"||ie==="videos"||ie==="events")&&localStorage.setItem(Mn,a),A.success("Dəyişikliklər bulud bazasına qeyd edildi!",{id:t}),r&&A.success(r),await ha()}catch(a){console.error("Save error:",a),A.error(`Yadda saxlama xətası: ${a.message} `,{id:t})}finally{T(!1)}},xl=t=>{const a=me.find(r=>r.id===t);a&&(re(t),Le({...a}))},_e=(t,a,r)=>{const l=r||G;Le(n=>{const m=!r||r===G?{...n,[t]:a}:n;return l&&Fe(x=>x.map(h=>h.id===l?{...h,[t]:a}:h)),m})},hl=()=>{const t=me.length>0?Math.max(...me.map(r=>r.id))+1:1,a={id:t,title:"Yeni Tədbir",date:new Date().toISOString().split("T")[0],location:"Bakı",category:"OFFROAD",img:"https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?q=80&w=2070&auto=format&fit=crop",description:"",rules:"",youtubeUrl:"",status:"planned",registrationEnabled:!0};Fe([...me,a]),re(t),Le(a),A.success("Yeni tədbir yaradıldı")},fl=async(t,a)=>{a.stopPropagation(),window.confirm("Bu tədbiri silmək istədiyinizə əminsiniz?")&&(Fe(me.filter(r=>r.id!==t)),G===t&&re(null),A.success("Tədbir silindi"))},gl=t=>{const a=Ke.find(r=>r.id===t);a&&(_(t),J({...a}))},xt=(t,a,r)=>{const l=r||c;J(n=>{const m=!r||r===c?{...n,[t]:a}:n;return l&&We(x=>x.map(h=>h.id===l?{...h,[t]:a}:h)),m})},bl=()=>{const t=Ke.length>0?Math.max(...Ke.map(r=>r.id))+1:1,a={id:t,title:"Yeni Xəbər",date:new Date().toISOString().split("T")[0],img:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=2070&auto=format&fit=crop",description:"",category:"BLOQ",status:"draft"};We([...Ke,a]),_(t),J(a),A.success("Yeni xəbər yaradıldı")},Ia=t=>{Ze(t);const a=ee.find(r=>r.id===t);a&&_i({...a})},li=(t,a,r)=>{const l=oe;_i(n=>{let m={...n,[t]:a};if(t==="youtubeUrl"){const x=Ca(a);x&&(m={...m,videoId:x,thumbnail:`https://img.youtube.com/vi/${x}/maxresdefault.jpg`})}return l&&ce(x=>x.map(h=>{if(h.id===l){let d={...h,[t]:a};if(t==="youtubeUrl"){const f=Ca(a);f&&(d.videoId=f,d.thumbnail=`https://img.youtube.com/vi/${f}/maxresdefault.jpg`)}return d}return h})),m})},Ca=t=>{const a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,r=t.match(a);return r&&r[2].length===11?r[2]:null},Oa=(t=Dt)=>t.reduce((r,l)=>{const n=Number(l.id);return Number.isFinite(n)&&n>r?n:r},0)+1,vl=t=>{zt(t);const a=Dt.find(r=>r.id===t);if(a){const r=Ee(a.album),l=a.eventId?me.find(n=>n.id===a.eventId):me.find(n=>Ee(n.title)===r);mt({...a,album:r}),Mt(r),Di(l?String(l.id):"")}},yl=()=>{const t=ca.trim();if(!t){A.error("Albom adı daxil edin");return}const a=Ee(t);if(Ki(a)){A.error("Xüsusi albom adı yazın (Ümumi Arxiv olmaz)");return}Mt(a),Bt(a),ua(""),A.success(`Albom seçildi: ${a}`)},Sl=t=>{if(Di(t),!t)return;const a=Number(t);if(!Number.isFinite(a))return;const r=me.find(n=>n.id===a);if(!r)return;const l=Ee(r.title);Mt(l),Bt(l)},Tl=()=>{const t=Oa(),a=Ee(ki);if(Ki(a)){A.error("Əvvəlcə albom seçin və ya event albomu təyin edin");return}const r=Number(vt),l=vt&&Number.isFinite(r)?r:null,n={id:t,title:"Yeni Şəkil",url:"",album:a,eventId:l};bt(u=>[...u,n]),Bt(a),zt(t),mt({...n})},El=async(t,a)=>{a.stopPropagation(),window.confirm("Bu şəkli silmək istədiyinizə əminsiniz?")&&(bt(r=>r.filter(l=>l.id!==t)),pt===t&&(zt(null),mt({})),A.success("Şəkil silindi"))},ri=(t,a)=>{mt(r=>{const l={...r,[t]:a};return t==="album"&&(l.album=Ee(a),Mt(l.album)),pt!==null&&bt(n=>n.map(u=>u.id===pt?l:u)),l})},jl=t=>{const a=Number(t),r=t&&Number.isFinite(a)?a:null,l=r!==null?me.find(n=>n.id===r):null;Di(t),mt(n=>{const u={...n,eventId:r,album:Ee(l?l.title:n.album)};return Mt(u.album||Ti),pt!==null&&bt(m=>m.map(x=>x.id===pt?u:x)),u})},Al=async t=>{const a=t.target.files?.[0];if(!a)return;const r=await He(a);r&&ri("url",r)},Nl=async t=>{const a=Array.from(t.target.files||[]);if(!a.length)return;const r=Ee(ki);if(Ki(r)){A.error("Çoxlu yükləmə üçün əvvəlcə albom seçin"),t.target.value="";return}const l=Number(vt),n=vt&&Number.isFinite(l)?l:null;let u=Oa();const m=[];for(const x of a){const h=await He(x);if(!h)continue;const d=(x.name||"").replace(/\.[^/.]+$/,"").trim()||`Şəkil ${u}`;m.push({id:u,title:d,url:h,album:r,eventId:n}),u+=1}if(!m.length){A.error("Şəkillər yüklənmədi"),t.target.value="";return}bt(x=>[...x,...m]),Bt(r),zt(m[0].id),mt({...m[0]}),A.success(`${m.length} şəkil "${r}" albomuna əlavə edildi`),m.length!==a.length&&A.error(`${a.length-m.length} fayl yüklənmədi`),t.target.value=""},Ll=()=>{const t=ee.length>0?Math.max(...ee.map(r=>r.id))+1:1,a={id:t,title:"Yeni Video",youtubeUrl:"",videoId:"",duration:"00:00",thumbnail:"",created_at:new Date().toISOString()};ce([...ee,a]),Ze(t),_i(a),A.success("Yeni video əlavə edildi")},Rl=async(t,a)=>{a.stopPropagation(),window.confirm("Bu videonu silmək istədiyinizə əminsiniz?")&&(ce(ee.filter(r=>r.id!==t)),oe===t&&Ze(null),A.success("Video silindi"))},_l=async(t,a)=>{a.stopPropagation(),window.confirm("Bu xəbəri silmək istədiyinizə əminsiniz?")&&(We(Ke.filter(r=>r.id!==t)),c===t&&_(null),A.success("Xəbər silindi"))},Il=t=>{wt(t),Ut(null),St({})},Cl=t=>{Ut(t);const r=we.find(l=>l.id===xe)?.drivers.find(l=>l.id===t);r&&St({...r})},ht=(t,a)=>{!xe||!yt||St(r=>{const l={...r,[t]:a};return st(n=>n.map(u=>u.id===xe?{...u,drivers:u.drivers.map(m=>m.id===yt?l:m)}:u)),l})},Ol=()=>{if(!xe){A.error("Öncə kateqoriya seçin və ya yaradın");return}const t=Date.now(),a={id:t,rank:99,name:"Yeni Sürücü",license:"PILOT LICENSE",team:"TEAM NAME",wins:0,points:0,img:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400&fit=crop"};st(r=>r.map(l=>l.id===xe?{...l,drivers:[...l.drivers,a]}:l)),Ut(t),St(a),A.success("Yeni sürücü siyahıya əlavə edildi")},kl=t=>{window.confirm("Bu sürücünü silmək istədiyinizə əminsiniz?")&&(st(a=>a.map(r=>r.id===xe?{...r,drivers:r.drivers.filter(l=>l.id!==t)}:r)),yt===t&&(Ut(null),St({})),A.success("Sürücü silindi"))},Dl=async()=>{const t=ke,a=we.map(l=>l.id===xe?{...l,drivers:l.drivers.map(n=>n.id===yt?{...n,...t}:n)}:l);T(!0);const r=A.loading("Yadda saxlanılır...");try{if(!(await fetch("/api/drivers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw new Error("Yadda saxlama uğursuz oldu");st(a),A.success("Bütün sürücü məlumatları qeyd edildi",{id:r})}catch{A.error("Xəta baş verdi",{id:r})}finally{T(!1)}},zl=async()=>{if(Mi)return;const t=kt();if(!t){A.error("Sessiya etibarsızdır. Yenidən daxil olun.");return}if(!window.confirm("Sürücü sıralama bildirişini bütün abunəçilərə göndərmək istəyirsiniz?")){A("Bildiriş göndərilməsi ləğv edildi.");return}const r=window.prompt("Bildiriş üçün qısa qeyd (istəyə bağlı):","")??"";xa(!0);const l=A.loading("Abunələrə bildiriş göndərilir...");try{const n=await fetch("/api/notifications/drivers-ranking",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({note:r,approved:!0})}),u=await n.json().catch(()=>({}));if(!n.ok||!u?.success)throw new Error(u?.error||"Bildiriş göndərilə bilmədi");const m=Number(u?.mailStatus?.recipients||0);A.success(m>0?`Bildiriş göndərildi (${m} abunəçi)`:"Bildiriş göndərildi",{id:l})}catch(n){A.error(n?.message||"Bildiriş göndərilə bilmədi",{id:l})}finally{xa(!1)}},Ml=()=>{const t=window.prompt("Kateqoriya adı (Məs: UNLIMITED CLASS):");if(!t)return;const a=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");if(we.find(l=>l.id===a)){A.error("Bu adda kateqoriya artıq mövcuddur");return}const r={id:a,name:t,drivers:[]};st([...we,r]),wt(a),A.success("Kateqoriya əlavə edildi")},Bl=()=>{if(!xe)return;const t=we.find(a=>a.id===xe);if(t&&window.confirm(`"${t.name}" kateqoriyasını və içindəki bütün sürücüləri silmək istədiyinizə əminsiniz?`)){const a=we.filter(r=>r.id!==xe);st(a),a.length>0?wt(a[0].id):wt(null),Ut(null),St({}),A.success("Kateqoriya silindi")}},Pl=t=>{if(!xe)return;const a=t.trim();if(!a){A.error("Kateqoriya adı boş ola bilməz");return}st(r=>r.map(l=>l.id===xe?{...l,name:a}:l))};if(i.length===0&&!b&&!localStorage.getItem("forsaj_extracted"))return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card fade-in",children:[e.jsx(ze,{size:64,className:"text-primary",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Sayt Məzmununu və Görselləri Çıxarın"}),e.jsx("p",{children:"Front-end layihənizdəki bütün səhifələri, mətnləri və şəkilləri avtomatik olaraq bu panelə yükləyin."}),e.jsx("button",{className:"extract-btn",onClick:il,children:"Sinxronizasiyanı Başlat"})]})});if(b)return e.jsx("div",{className:"extractor-overlay",children:e.jsxs("div",{className:"extractor-card",children:[e.jsx("div",{className:"loader-ring",style:{marginBottom:"1.5rem"}}),e.jsx("h2",{children:"Avtomatik Sinxronizasiya"}),e.jsx("p",{children:"Zəhmət olmasa gözləyin, front-end məlumatları oxunur..."}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${R}%`}})}),e.jsx("div",{className:"step-label",children:U})]})});const Y=i[o],ka=fs(Ne),Yi=ka.map(t=>{const a=i.findIndex(r=>r.id===t);return a===-1?null:{page:i[a],pageIdx:a}}).filter(Boolean),wl=!!Ne&&ka.length>1&&(!!gt[Ne]||!!ji[Ne]),Ul=ie==="extract"&&wl&&Yi.length>0,Da=!!Ne&&(Ne==="home"||ji[Ne]==="home"),za=Da?Yi.filter(({page:t})=>so[ma].includes(t.id)):Yi,nt=fe.trim().toLowerCase(),Re=(...t)=>nt?t.some(a=>(a||"").toString().toLowerCase().includes(nt)):!0,Ve=i.findIndex(t=>t.id==="eventspage"),Fl=Ve>=0?i[Ve]:null,ne=(t,a)=>(Fl?.sections?.find(l=>l.id===t)?.value||a).toString(),ge=(t,a,r)=>{const l=[...i];let n=l.findIndex(x=>x.id==="eventspage");n===-1&&(l.push({id:"eventspage",title:$t.eventspage,sections:[],images:[]}),n=l.length-1);const u=l[n],m=(u.sections||[]).findIndex(x=>x.id===t);if(m>=0)u.sections[m]={...u.sections[m],label:u.sections[m].label||a,value:r};else{const x=(u.sections||[]).reduce((h,d,f)=>Math.max(h,Se(d.order,f)),-1)+1;u.sections.push({id:t,type:"text",label:a,value:r,order:x})}s(l)},Yl=(t,a,r,l)=>{const n=[...i];let u=n.findIndex(d=>d.id==="eventspage");u===-1&&(n.push({id:"eventspage",title:$t.eventspage,sections:[],images:[]}),u=n.length-1);const m=n[u],x=It(l),h=(m.sections||[]).findIndex(d=>d.id===t);if(h>=0)m.sections[h]={...m.sections[h],label:m.sections[h].label||a,value:r,url:x||m.sections[h].url};else{const d=(m.sections||[]).reduce((f,P,Q)=>Math.max(f,Se(P.order,Q)),-1)+1;m.sections.push({id:t,type:"text",label:a,value:r,url:x,order:d})}s(n)},jt=(Y?.sections||[]).filter(t=>xs(t)||Y?.id==="about"&&ft(t.id)||(Y?.id==="about"||Y?.id==="values")&&Xs.test(t.id)||Y?.id==="partners"||Y?.id==="rulespage"&&Hi.test(t.id)||Y?.id==="rulespage"&&t.id.startsWith("RULES_")?!1:Re(t.id,t.label,t.value,t.url)).sort((t,a)=>Se(t.order,0)-Se(a.order,0)),Ma=Y?.id==="about"?(()=>{const t=new Map;return(Y.sections||[]).forEach(r=>{if(!ft(r.id))return;const l=ms(r.id)||r.id,n=t.get(l)||{label:"",value:""};r.id.startsWith(tt)&&(n.label=r.value||""),r.id.startsWith(it)&&(n.value=r.value||""),t.set(l,n)}),Array.from(t.entries()).sort(([r],[l])=>r.localeCompare(l,void 0,{numeric:!0})).map(([r,l])=>({suffix:r,...l})).filter(r=>Re(r.suffix,r.label,r.value))})():[],Ba=Y?.id==="rulespage"?Ge(Y):[],Pa=Y?.id==="about"||Y?.id==="values"?(()=>{const t=new Map;return(Y?.sections||[]).forEach(a=>{const r=us(a.id);if(!r)return;const l=t.get(r.suffix)||{suffix:r.suffix,icon:"Shield",title:"",desc:""};l[r.field]=a.value||"",t.set(r.suffix,l)}),Array.from(t.values()).sort((a,r)=>a.suffix.localeCompare(r.suffix,void 0,{numeric:!0})).filter(a=>Re(a.suffix,a.icon,a.title,a.desc))})():[],ni=(Y?.images||[]).filter(t=>Re(t.id,t.alt,t.path)).sort((t,a)=>Se(t.order,0)-Se(a.order,0)),ql=t=>{const a=(t.value||"").toLowerCase();return a.includes("<p")||a.includes("<br")||a.includes("[b]")||a.includes("[i]")||a.includes("[u]")||a.includes("[url")||a.includes("[img")||a.includes("[center]")},wa=t=>/^val-(icon|title|desc)-/i.test(t.id),Kl=t=>wa(t)?/^val-icon-/i.test(t.id)?"icon":/^val-title-/i.test(t.id)?"title":/^val-desc-/i.test(t.id)?"desc":null:null,$l=(t,a)=>!a||a!=="privacypolicypage"&&a!=="termsofservicepage"?!1:t.id==="INTRO_TEXT"?!0:/^SECTION_\d+_BODY$/.test(t.id),Gl=(t,a)=>`${t}::${a}`,oi=(t,a,r=o,l=Y)=>{const n=ct(t),u=vi(t,"label"),m=vi(t,"value"),x=vi(t,"url"),h=!!(t.url||"").trim(),d=Wn(t),f=l?.sections||[],P=f.findIndex(de=>de.id===t.id),Q=P>0,w=P>=0&&P<f.length-1,le=wa(t),ye=Kl(t),ot=ye==="icon",Xe=l?.id||Y?.id||"unknown",Ft=Gl(Xe,t.id),Yt=!!Oe[Ft],di=le?!1:Yt,ci=$l(t,l?.id)?8:4;Zn(t);const ui=Xn(t,l?.id),Je=(t.value||"").trim(),pi=!!(Je&&$i[Je]);return e.jsxs("div",{className:"field-item-wrapper",style:{background:"#fcfcfd",padding:"1.25rem",borderRadius:"14px",border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",minWidth:260,flex:1},children:[e.jsx("input",{type:"text",value:Wt(t.label)?Ei(t.label):t.label,onChange:de=>De(r,t.id,"label",de.target.value),disabled:!u,style:{fontSize:"0.85rem",fontWeight:800,textTransform:"uppercase",color:"var(--primary)",border:"none",background:"none",width:"auto",padding:0}}),e.jsx("div",{className:"section-meta-hint",children:ui}),e.jsxs("div",{className:"section-technical-id",children:["ID: ",t.id]})]}),n&&!0&&e.jsx("span",{style:{fontSize:"10px",color:"#475569",background:"#f1f5f9",borderRadius:"999px",padding:"3px 8px",fontWeight:700},children:"Açar mətn"}),e.jsxs("span",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginLeft:"0"},children:["Sıra: ",a+1]}),e.jsxs("label",{className:"section-hide-toggle",children:[e.jsx("input",{type:"checkbox",checked:Yt,onChange:de=>{Me(At=>({...At,[Ft]:de.target.checked}))}}),e.jsx("span",{children:"Paneldə gizlə"})]})]}),di?e.jsx("div",{className:"section-collapsed-tip",children:"Bu section paneldə gizlidir. Yenidən göstərmək üçün “Paneldə gizlə” seçimini söndürün."}):e.jsxs(e.Fragment,{children:[ot?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(54px, 1fr))",gap:"8px"},children:ds.map(de=>{const At=$i[de],Nt=Je===de;return e.jsx("button",{type:"button",title:de,onClick:()=>De(r,t.id,"value",de),disabled:!m,style:{height:"48px",border:Nt?"1px solid #f97316":"1px solid #e2e8f0",borderRadius:"10px",background:Nt?"#fff7ed":"#fff",color:Nt?"#ea580c":"#475569",display:"flex",alignItems:"center",justifyContent:"center",cursor:m?"pointer":"not-allowed"},children:e.jsx(At,{size:18})},`${t.id}-${de}`)})}),Je&&!pi&&e.jsxs("div",{style:{fontSize:"11px",color:"#b45309",fontWeight:700},children:["Naməlum ikon kodu: ",Je,". Düzgün ikon seçin."]}),e.jsxs("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:["Seçilmiş ikon: ",Je||"-"]})]}):ye==="title"?e.jsx("input",{type:"text",value:t.value||"",onChange:de=>De(r,t.id,"value",de.target.value),disabled:!m,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}):n||!ql(t)||ye==="desc"?e.jsx("textarea",{value:t.value||"",onChange:de=>De(r,t.id,"value",de.target.value),disabled:!m,rows:ye==="desc"?3:ci,style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:"1.4",resize:"vertical"}}):e.jsx(bi,{id:`editor-${t.id}`,value:gi(t.value||""),onChange:de=>De(r,t.id,"value",de),readOnly:!m}),h&&!0&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"0.75rem"},children:[e.jsx(ze,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:It(t.url||""),onChange:de=>De(r,t.id,"url",de.target.value),onBlur:()=>al(r,t.id),disabled:!x,placeholder:"URL (Məs: /about veya https://...)",style:{fontSize:"12px",padding:"6px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",flex:1}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",marginTop:"0.9rem"},children:[!h&&x&&e.jsxs("button",{title:"Link əlavə et",onClick:()=>De(r,t.id,"url",`${window.location.origin}/`),style:{background:"#fff",border:"1px solid #dbeafe",color:"#2563eb",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(ze,{size:12})," Link əlavə et"]}),e.jsxs(e.Fragment,{children:[e.jsxs("button",{title:"Yuxarı daşı",onClick:()=>Xt("text",t.id,"up",r),disabled:!Q,style:{background:"#fff",border:"1px solid #e2e8f0",color:Q?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:Q?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(qt,{size:12})," Yuxarı"]}),e.jsxs("button",{title:"Aşağı daşı",onClick:()=>Xt("text",t.id,"down",r),disabled:!w,style:{background:"#fff",border:"1px solid #e2e8f0",color:w?"#334155":"#cbd5e1",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:w?"pointer":"not-allowed",fontSize:"12px"},children:[e.jsx(Kt,{size:12})," Aşağı"]}),d&&e.jsxs("button",{className:"field-delete-btn",onClick:()=>ba("text",t.id,r),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",padding:"6px 10px",display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:"12px"},children:[e.jsx(Te,{size:12})," Sil"]})]})]})]})]},`${t.id}-${a}`)},Hl=(()=>{if(Y?.id!=="contactpage")return[];const t=new Set,a=Kn.map(l=>{const n=l.ids.map(u=>jt.find(m=>m.id===u)).filter(Boolean);return n.forEach(u=>t.add(u.id)),{title:l.title,subtitle:l.subtitle,sections:n}}).filter(l=>l.sections.length>0),r=jt.filter(l=>!t.has(l.id));return r.length>0&&a.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən sahələr",sections:r}),a})(),Vl=(()=>{if(!Y?.id||!cs[Y.id])return[];const t=new Set,a=cs[Y.id].map(l=>{const n=l.ids.map(u=>jt.find(m=>m.id===u)).filter(Boolean);return n.forEach(u=>t.add(u.id)),{title:l.title,subtitle:l.subtitle,sections:n}}).filter(l=>l.sections.length>0),r=jt.filter(l=>!t.has(l.id));return r.length>0&&a.push({title:"Digər Sahələr",subtitle:"Avtomatik qruplaşdırıla bilməyən əlavə sahələr",sections:r}),a})(),Ua=(t,a=16)=>{const r=qn[t]||zs;return e.jsx(r,{size:a})},Fa=(t,a)=>{const r=Tt(t).filter(l=>{const n=lt(l),u=(t.images||[]).find(m=>m.id===n);return Re(l.index,l.name,l.tag,l.icon,l.useImage,l.imageId,u?.path,u?.alt)});return e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Gt,{size:16})," Tərəfdaş Kartları"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>rl(a),children:[e.jsx(pe,{size:14})," Tərəfdaş Əlavə Et"]})]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",fontSize:"12px",color:"#64748b",marginBottom:"6px",fontWeight:700},children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:t.sections.find(l=>l.id==="SECTION_TITLE")?.value||"",onChange:l=>De(a,"SECTION_TITLE","value",l.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"10px"},children:r.length===0?e.jsx("div",{style:{gridColumn:"1/-1",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:fe?"Axtarışa uyğun tərəfdaş tapılmadı.":'Hələ tərəfdaş kartı yoxdur. "Tərəfdaş Əlavə Et" ilə başlayın.'}):r.map((l,n)=>{const u=n>0,m=n<r.length-1,x=lt(l),h=(t.images||[]).find(f=>f.id===x),d=["1","true","yes","on"].includes((l.useImage||"").toLowerCase());return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"12px",background:"#fff",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"#f1f5f9",border:"1px solid #e2e8f0",color:"#334155",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:800},children:n+1}),e.jsx("input",{type:"text",value:l.name,onChange:f=>ti(l.index,"name",f.target.value,a),placeholder:"Tərəfdaş adı",style:{flex:1,padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"72px 1fr",gap:"10px",alignItems:"start"},children:[e.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"#f8fafc",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},children:d?h?.path?e.jsx("img",{src:h.path,alt:h.alt||l.name||`Partner ${l.index}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Ye,{size:18}):Ua(l.icon||"ShieldCheck",18)}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("button",{type:"button",onClick:()=>ti(l.index,"useImage","false",a),style:{padding:"7px 10px",borderRadius:"8px",border:d?"1px solid #e2e8f0":"1px solid #fb923c",background:d?"#fff":"#fff7ed",color:d?"#334155":"#c2410c",fontSize:"12px",fontWeight:700},children:"İkon"}),e.jsx("button",{type:"button",onClick:()=>{ti(l.index,"useImage","true",a),Ta(l,a)},style:{padding:"7px 10px",borderRadius:"8px",border:d?"1px solid #fb923c":"1px solid #e2e8f0",background:d?"#fff7ed":"#fff",color:d?"#c2410c":"#334155",fontSize:"12px",fontWeight:700},children:"Görsəl"})]}),d?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:"6px"},children:[e.jsx("input",{type:"text",value:h?.path||"",onChange:f=>Ea(l,{path:f.target.value},a),placeholder:"Görsel URL / yol",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`partner-upload-${a}-${l.index}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async f=>{const P=f.target.files?.[0];if(!P)return;const Q=await He(P);Q&&Ea(l,{path:Q},a),f.target.value=""}}),e.jsx("button",{type:"button",className:"btn-secondary",style:{padding:"8px 10px",fontSize:"12px"},onClick:()=>document.getElementById(`partner-upload-${a}-${l.index}`)?.click(),children:"Yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{padding:"8px 10px",fontSize:"12px"},onClick:()=>{const f=Ta(l,a);f&&Ui(a,f)},children:"Kitabxana"})]}):e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Yn.map(f=>{const P=(l.icon||"").toLowerCase()===f.toLowerCase();return e.jsxs("button",{type:"button",onClick:()=>ti(l.index,"icon",f,a),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"7px 10px",borderRadius:"8px",border:P?"1px solid #fb923c":"1px solid #e2e8f0",background:P?"#fff7ed":"#fff",color:P?"#c2410c":"#334155",fontSize:"12px",fontWeight:700},children:[Ua(f,14),f]},`${l.index}-${f}`)})})]})]}),e.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end",marginTop:"2px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>Sa(l.index,"up",a),disabled:!u,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:u?"#334155":"#cbd5e1"},children:e.jsx(qt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>Sa(l.index,"down",a),disabled:!m,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:m?"#334155":"#cbd5e1"},children:e.jsx(Kt,{size:14})}),e.jsx("button",{title:"Sil",onClick:()=>nl(l.index,a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Te,{size:14})})]})]},`${a}-${l.index}`)})})]})},Ya=Ke.filter(t=>Re(t.title,t.date,t.category,t.status,t.description)),qa=me.filter(t=>Re(t.title,t.date,t.location,t.category,t.status,t.description)),Ka=ee.filter(t=>Re(t.title,t.duration,t.youtubeUrl,t.videoId,t.created_at)),Ql=me.map(t=>({eventId:t.id,album:Ee(t.title)})).filter((t,a,r)=>r.findIndex(l=>l.album===t.album)===a),Wl=Array.from(new Set([Ti,...Ql.map(t=>t.album),...Dt.map(t=>Ee(t.album)),Ee(ki),Ee(typeof $e.album=="string"?$e.album:"")])).filter(t=>!!t.trim()).sort((t,a)=>t.localeCompare(a,"az")),$a=zi==="all"?"all":Ee(zi),Ga=Dt.filter(t=>{const a=Ee(t.album);return($a==="all"||a===$a)&&Re(t.title,t.url,a)}),Zl=()=>{Ae({}),Me({}),A.success("Gizlədilən bütün sahələr yenidən açıldı")};return e.jsxs("div",{className:"visual-editor fade-in",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"header-top-row",children:[e.jsx("div",{className:"header-info",children:e.jsxs("h1",{children:[e.jsx(ze,{size:20})," Admin Panel"]})}),e.jsxs("div",{className:"header-search-container",children:[e.jsx(ks,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{placeholder:"Komponentləri və məzmunu axtar...",type:"text",value:fe,onChange:t=>Z(t.target.value),className:"header-search-input"})]}),e.jsxs("div",{className:"header-actions",children:[ie==="extract"&&e.jsx("span",{className:"editor-lock-badge",title:"Geniş rejim məcburi aktivdir",children:"Geniş Rejim: Məcburi"}),ie==="extract"&&e.jsx("button",{type:"button",className:"editor-secondary-btn",onClick:Zl,title:"Paneldə gizlədilən bütün bölmələri yenidən göstər",children:"Gizlədilənləri Aç"}),e.jsx("button",{className:`save-btn ${g?"saving":""}`,onClick:Et,disabled:g,children:g?"Gözləyin...":e.jsxs(e.Fragment,{children:[e.jsx(la,{size:16})," Saxla"]})})]})]}),e.jsxs("div",{className:"mode-switcher",children:[e.jsx("button",{className:`mode-btn ${ie==="extract"?"active":""}`,onClick:()=>Pe("extract"),children:"Ana Səhifə"}),e.jsx("button",{className:`mode-btn ${ie==="events"?"active":""}`,onClick:()=>Pe("events"),children:"Tədbirlər"}),e.jsx("button",{className:`mode-btn ${ie==="event-management"?"active":""}`,onClick:()=>Pe("event-management"),children:"Tedbir Yönetimi"}),e.jsx("button",{className:`mode-btn ${ie==="news"?"active":""}`,onClick:()=>Pe("news"),children:"Xəbərlər"}),e.jsx("button",{className:`mode-btn ${ie==="drivers"?"active":""}`,onClick:()=>Pe("drivers"),children:"Sürücülər"}),e.jsx("button",{className:`mode-btn ${ie==="videos"?"active":""}`,onClick:()=>Pe("videos"),children:"Videolar"}),e.jsx("button",{className:`mode-btn ${ie==="photos"?"active":""}`,onClick:()=>Pe("photos"),children:"Fotolar"})]}),ie==="extract"&&e.jsx("div",{className:"editor-view-note",children:"Geniş rejim məcburi aktivdir: texniki ID, sıralama, silmə və gizlətmə alətləri hər zaman görünür."})]}),ie==="event-management"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsx("div",{className:"list-header",style:{marginBottom:"1rem"},children:e.jsx("h3",{children:"Tedbir Yönetimi"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("button",{className:`page-nav-item ${Oi==="modal"?"active":""}`,onClick:()=>oa("modal"),style:{width:"100%",textAlign:"left"},children:[e.jsx(Vt,{size:14})," Yarışda İştirak"]}),e.jsxs("button",{className:`page-nav-item ${Oi==="pilot"?"active":""}`,onClick:()=>oa("pilot"),style:{width:"100%",textAlign:"left"},children:[e.jsx(Ct,{size:14})," Pilot Qeydiyyatı"]})]})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Ht,{size:22})," Tedbir Yönetimi"]}),e.jsx("p",{style:{color:"#64748b"},children:"Tədbir modalı və pilot qeydiyyat formu mətnlərini buradan dəyişin."})]}),Oi==="modal"?e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MODAL BAŞLIĞI"}),e.jsx("input",{type:"text",value:ne("MODAL_TITLE","YARIŞDA İŞTİRAK"),onChange:t=>ge("MODAL_TITLE","İştirak Modal Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PİLOT KART BAŞLIĞI"}),e.jsx("input",{type:"text",value:ne("JOIN_AS_PILOT","PİLOT KİMİ QATIL"),onChange:t=>ge("JOIN_AS_PILOT","Pilot Kart Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PİLOT KART TƏSVİRİ"}),e.jsx("input",{type:"text",value:ne("JOIN_PILOT_DESC","TEXNİKİ REQLAMENTƏ UYĞUN OLARAQ"),onChange:t=>ge("JOIN_PILOT_DESC","Pilot Kart Təsviri",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"İZLƏYİCİ KART BAŞLIĞI"}),e.jsx("input",{type:"text",value:ne("JOIN_AS_SPECTATOR","İZLƏYİCİ KİMİ QATIL"),onChange:t=>ge("JOIN_AS_SPECTATOR","İzləyici Kart Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"İZLƏYİCİ KART TƏSVİRİ"}),e.jsx("input",{type:"text",value:ne("JOIN_SPECTATOR_DESC","YARIŞI TRİBUNADAN İZLƏ"),onChange:t=>ge("JOIN_SPECTATOR_DESC","İzləyici Kart Təsviri",t.target.value)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"İZLƏYİCİ YÖNLƏNDİRMƏ URL"}),e.jsx("input",{type:"text",value:ne("SPECTATOR_TICKET_URL","https://iticket.az"),onChange:t=>Yl("SPECTATOR_TICKET_URL","İzləyici Bilet Linki",t.target.value,t.target.value),placeholder:"https://..."})]})]}):e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"GERİ DÜYMƏSİ"}),e.jsx("input",{type:"text",value:ne("BTN_BACK","GERİ QAYIT"),onChange:t=>ge("BTN_BACK","Geri Düyməsi",t.target.value)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PİLOT QEYDİYYATI BAŞLIĞI"}),e.jsx("input",{type:"text",value:ne("PILOT_REG_TITLE","PİLOT QEYDİYYATI"),onChange:t=>ge("PILOT_REG_TITLE","Pilot Qeydiyyatı Başlığı",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AD VƏ SOYAD LABEL"}),e.jsx("input",{type:"text",value:ne("FIELD_NAME","AD VƏ SOYAD"),onChange:t=>ge("FIELD_NAME","Ad Soyad Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AD VƏ SOYAD PLACEHOLDER"}),e.jsx("input",{type:"text",value:ne("PLACEHOLDER_NAME","Tam ad daxil edin"),onChange:t=>ge("PLACEHOLDER_NAME","Ad Soyad Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TELEFON LABEL"}),e.jsx("input",{type:"text",value:ne("FIELD_PHONE","TELEFON"),onChange:t=>ge("FIELD_PHONE","Telefon Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TELEFON PLACEHOLDER"}),e.jsx("input",{type:"text",value:ne("PLACEHOLDER_PHONE","+994 -- --- -- --"),onChange:t=>ge("PLACEHOLDER_PHONE","Telefon Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AVTOMOBİL LABEL"}),e.jsx("input",{type:"text",value:ne("FIELD_CAR_MODEL","AVTOMOBİLİN MARKA/MODELİ"),onChange:t=>ge("FIELD_CAR_MODEL","Avtomobil Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AVTOMOBİL PLACEHOLDER"}),e.jsx("input",{type:"text",value:ne("PLACEHOLDER_CAR","Məs: Toyota LC 105"),onChange:t=>ge("PLACEHOLDER_CAR","Avtomobil Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏKƏR LABEL"}),e.jsx("input",{type:"text",value:ne("FIELD_TIRE_SIZE","TƏKƏR ÖLÇÜSÜ"),onChange:t=>ge("FIELD_TIRE_SIZE","Təkər Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏKƏR PLACEHOLDER"}),e.jsx("input",{type:"text",value:ne("PLACEHOLDER_TIRE","Məs: 35 DÜYM"),onChange:t=>ge("PLACEHOLDER_TIRE","Təkər Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MÜHƏRRİK LABEL"}),e.jsx("input",{type:"text",value:ne("FIELD_ENGINE","MÜHƏRRİK HƏCMİ"),onChange:t=>ge("FIELD_ENGINE","Mühərrik Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MÜHƏRRİK PLACEHOLDER"}),e.jsx("input",{type:"text",value:ne("PLACEHOLDER_ENGINE","Məs: 4.4L"),onChange:t=>ge("PLACEHOLDER_ENGINE","Mühərrik Placeholder",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KLUB LABEL"}),e.jsx("input",{type:"text",value:ne("FIELD_CLUB","TƏMSİL ETDİYİ KLUB"),onChange:t=>ge("FIELD_CLUB","Klub Label",t.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TAMAMLAMA DÜYMƏSİ"}),e.jsx("input",{type:"text",value:ne("BTN_COMPLETE_REG","QEYDİYYATI TAMAMLA"),onChange:t=>ge("BTN_COMPLETE_REG","Qeydiyyatı Tamamla Düyməsi",t.target.value)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,children:"Yadda Saxla"})})]})})]}):ie==="news"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Xəbərlər"}),e.jsx("button",{className:"add-section-btn",onClick:bl,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Ya.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:nt?"Axtarışa uyğun xəbər tapılmadı.":'Hələ heç bir xəbər yoxdur. Yeni xəbər yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):Ya.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${c===t.id?"active":""}`,onClick:()=>gl(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Ct,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>_l(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Te,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:c!==null&&C.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Ct,{size:22})," Xəbəri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[C.title," // ID: ",C.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"BAŞLIQ (AZ)"}),e.jsx("input",{type:"text",value:C.title,onChange:t=>xt("title",t.target.value,C.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:C.date,onChange:t=>xt("date",t.target.value,C.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:C.category,onChange:t=>xt("category",t.target.value,C.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:C.status,onChange:t=>xt("status",t.target.value,C.id),children:[e.jsx("option",{value:"draft",children:"Qaralama"}),e.jsx("option",{value:"published",children:"Dərc edilib"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:C.img?e.jsx("img",{src:C.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:C.img,onChange:t=>xt("img",t.target.value,C.id)}),e.jsx("input",{type:"file",id:"news-full-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await He(a);r&&xt("img",r,C.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("news-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"MƏZMUN"}),e.jsx(bi,{id:"news-full-desc",value:gi(C.description||""),onChange:t=>xt("description",t,C.id)})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,children:"Yadda Saxla"})}),e.jsxs("div",{className:"edit-grid grid-2",style:{marginTop:"1.25rem"},children:[e.jsxs("div",{className:"form-group full-span",style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"14px",background:"#f8fafc"},children:[e.jsx("label",{style:{color:"#0f172a"},children:"SECTION 1: TƏDBİRƏ QOŞUL DÜYMƏSİ"}),e.jsx("input",{type:"text",value:ne("BTN_JOIN_EVENT","TƏDBİRƏ QOŞUL"),onChange:t=>{Ve<0||De(Ve,"BTN_JOIN_EVENT","value",t.target.value)},placeholder:"TƏDBİRƏ QOŞUL"}),e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#64748b"},children:"Tədbir detalında böyük narıncı düymənin mətnini buradan dəyişin."})]}),e.jsxs("div",{className:"form-group full-span",style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"14px",background:"#f8fafc"},children:[e.jsx("label",{style:{color:"#0f172a"},children:"SECTION 2: SUALINIZ VAR KARTI"}),e.jsxs("div",{style:{display:"grid",gap:"10px"},children:[e.jsx("input",{type:"text",value:ne("SIDEBAR_QUESTION_TITLE","SUALINIZ VAR?"),onChange:t=>{Ve<0||De(Ve,"SIDEBAR_QUESTION_TITLE","value",t.target.value)},placeholder:"SUALINIZ VAR?"}),e.jsx("textarea",{rows:3,value:ne("SIDEBAR_QUESTION_DESC","YARIŞLA BAĞLI ƏLAVƏ SUALLARINIZ ÜÇÜN BİZİMLƏ ƏLAQƏ SAXLAYIN."),onChange:t=>{Ve<0||De(Ve,"SIDEBAR_QUESTION_DESC","value",t.target.value)},placeholder:"Kart təsviri",style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:1.4,resize:"vertical"}}),e.jsx("input",{type:"text",value:ne("BTN_CONTACT","ƏLAQƏ"),onChange:t=>{Ve<0||De(Ve,"BTN_CONTACT","value",t.target.value)},placeholder:"ƏLAQƏ"})]}),e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#64748b"},children:"Sağ tərəfdəki “Sualınız var?” kartının başlıq, təsvir və düymə mətnləri."})]})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ct,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən xəbər seçin və ya yeni yaradın."})]})})]}):ie==="events"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Tədbirlər"}),e.jsx("button",{className:"add-section-btn",onClick:hl,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:qa.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:nt?"Axtarışa uyğun tədbir tapılmadı.":'Hələ heç bir tədbir yoxdur. Yeni tədbir yaratmaq üçün yuxarıdakı "+" düyməsini basın.'}):qa.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${G===t.id?"active":""}`,onClick:()=>xl(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsx(Ht,{size:14})," ",t.title,e.jsx("div",{style:{fontSize:"10px",color:"#999",marginLeft:"24px"},children:t.date})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>fl(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Te,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:G!==null&&B.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsxs("h2",{style:{fontSize:"2rem",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Ht,{size:22})," Tədbiri Redaktə Et"]}),e.jsxs("p",{style:{color:"#64748b"},children:[B.title," // ID: ",B.id]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TƏDBİR ADI"}),e.jsx("input",{type:"text",value:B.title,onChange:t=>_e("title",t.target.value,B.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TARİX"}),e.jsx("input",{type:"date",value:B.date,onChange:t=>_e("date",t.target.value,B.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MƏKAN"}),e.jsx("input",{type:"text",value:B.location,onChange:t=>_e("location",t.target.value,B.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"KATEQORİYA"}),e.jsx("input",{type:"text",value:B.category,onChange:t=>_e("category",t.target.value,B.id)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"VƏZİYYƏT"}),e.jsxs("select",{value:B.status,onChange:t=>_e("status",os(t.target.value,B.date),B.id),children:[e.jsx("option",{value:"planned",children:"Gələcək"}),e.jsx("option",{value:"past",children:"Keçmiş"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"QEYDİYYAT STATUSU"}),e.jsxs("select",{value:B.registrationEnabled===!1?"inactive":"active",onChange:t=>_e("registrationEnabled",t.target.value==="active",B.id),children:[e.jsx("option",{value:"active",children:"Aktiv (Qeydiyyat Açıq)"}),e.jsx("option",{value:"inactive",children:"Deaktiv (Qeydiyyat Bağlı)"})]})]}),B.status==="past"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"COVER ŞƏKİLİ"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:B.img?e.jsx("img",{src:B.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:B.img,onChange:t=>_e("img",t.target.value,B.id),placeholder:"Cover şəkil URL"}),e.jsx("input",{type:"file",id:"event-past-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await He(a);r&&_e("img",r,B.id)}}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-past-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"YOUTUBE LİNKİ"}),e.jsx("input",{type:"text",value:B.youtubeUrl||"",onChange:t=>_e("youtubeUrl",t.target.value,B.id),placeholder:"https://www.youtube.com/watch?v=..."}),e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#64748b"},children:"Keçmiş tədbir üçün ad, cover və YouTube linki kifayətdir."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"ŞƏKİL"}),e.jsx("div",{style:{width:"100%",height:"180px",borderRadius:"10px",overflow:"hidden",border:"1px solid #e2e8f0",background:"#f8fafc",marginBottom:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:B.img?e.jsx("img",{src:B.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{color:"#94a3b8",fontSize:"12px"},children:"Şəkil seçilməyib"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:B.img,onChange:t=>_e("img",t.target.value,B.id)}),e.jsx("input",{type:"file",id:"event-full-img",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await He(a);r&&_e("img",r,B.id)}}}),e.jsx("button",{onClick:()=>document.getElementById("event-full-img")?.click(),className:"btn-secondary",children:"Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"TƏSVİR"}),e.jsx(bi,{id:"event-full-desc",value:gi(B.description||""),onChange:t=>_e("description",t,B.id)})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"PDF URL"}),e.jsxs("div",{className:"input-row",children:[e.jsx("input",{type:"text",value:B.pdfUrl||"",onChange:t=>_e("pdfUrl",t.target.value,B.id),placeholder:"https://.../rules.pdf"}),e.jsx("input",{type:"file",id:"event-full-pdf",accept:".pdf,application/pdf",style:{display:"none"},onChange:async t=>{const a=t.target.files?.[0];if(!a)return;if(a.type!=="application/pdf"&&!a.name.toLowerCase().endsWith(".pdf")){A.error("Yalnız PDF faylı yüklənə bilər");return}const r=await Fi(a,{loadingText:"PDF yüklənir...",successText:"PDF uğurla yükləndi",errorText:"PDF yüklənərkən xəta baş verdi"});r&&_e("pdfUrl",r,B.id),t.target.value=""}}),e.jsx("button",{type:"button",onClick:()=>document.getElementById("event-full-pdf")?.click(),className:"btn-secondary",children:"PDF Yüklə"})]})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{children:"QAYDALAR"}),e.jsx(bi,{id:"event-full-rules",value:gi(B.rules||""),onChange:t=>_e("rules",t,B.id)})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,children:"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ht,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən tədbir seçin və ya yeni yaradın."})]})})]}):ie==="drivers"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Kateqoriyalar"}),e.jsxs("div",{style:{display:"flex",gap:"4px"},children:[e.jsx("button",{className:"add-section-btn",onClick:Ml,title:"Kateqoriya əlavə et",children:e.jsx(pe,{size:16})}),e.jsx("button",{className:"delete-section-btn",onClick:Bl,title:"Seçilmiş kateqoriyanı sil",style:{background:"none",border:"none",color:"#ff4d4f",cursor:"pointer",padding:"4px"},children:e.jsx(Te,{size:16})})]})]}),e.jsx("select",{value:xe||"",onChange:t=>Il(t.target.value),style:{width:"100%",padding:"10px",marginBottom:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"},children:we.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),xe&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"11px",fontWeight:800,color:"#64748b",textTransform:"uppercase"},children:"Kateqoriya adı"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:e.jsx("input",{type:"text",value:we.find(t=>t.id===xe)?.name||"",onChange:t=>Pl(t.target.value),placeholder:"Kateqoriya adı",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontWeight:"bold"}})})]}),e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Sürücülər"}),e.jsx("button",{className:"add-section-btn",onClick:Ol,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 400px)"},children:xe&&(we.find(t=>t.id===xe)?.drivers||[]).filter(t=>Re(t.name,t.license,t.team,t.rank,t.points,t.wins)).length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:nt?"Axtarışa uyğun sürücü tapılmadı.":"Bu kateqoriyada sürücü yoxdur."}):(we.find(t=>t.id===xe)?.drivers||[]).filter(t=>Re(t.name,t.license,t.team,t.rank,t.points,t.wins)).map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${yt===t.id?"active":""}`,onClick:()=>Cl(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left"},children:[e.jsxs("span",{style:{fontWeight:"900",color:"var(--primary)",marginRight:"8px"},children:["#",t.rank]})," ",t.name]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),kl(t.id)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Te,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:yt!==null&&ke.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:ke.name}),e.jsxs("p",{style:{color:"#64748b"},children:[we.find(t=>t.id===xe)?.name," // RANK #",ke.rank]})]}),e.jsxs("div",{className:"edit-grid grid-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"SÜRÜCÜNÜN ADI VƏ SOYADI"}),e.jsx("input",{type:"text",value:ke.name,onChange:t=>ht("name",t.target.value),placeholder:"Məs: Əli Məmmədov",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARIŞ SIRALAMASI (RANK)"}),e.jsx("input",{type:"number",value:ke.rank,readOnly:!0,style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",background:"#f8fafc",color:"#94a3b8",cursor:"not-allowed"}}),e.jsx("p",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"6px",fontWeight:"bold"},children:"ℹ️ Bu sıra ballara görə avtomatik hesablanır"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT LİSENZİYASI"}),e.jsx("input",{type:"text",value:ke.license,onChange:t=>ht("license",t.target.value),placeholder:"Məs: A-SİNFİ",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"TƏMSİL ETDİYİ KOMANDA"}),e.jsx("input",{type:"text",value:ke.team,onChange:t=>ht("team",t.target.value),placeholder:"Məs: FORSAJ RACING",style:{width:"100%",padding:"14px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"15px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"QALİBİYYƏT (WINS)"}),e.jsx("input",{type:"number",value:ke.wins,onChange:t=>ht("wins",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"XAL (POINTS)"}),e.jsx("input",{type:"number",value:ke.points,onChange:t=>ht("points",parseInt(t.target.value)),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group full-span",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"PİLOT ŞƏKLİ"}),e.jsxs("div",{className:"input-row",children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",overflow:"hidden",background:"#f1f5f9",border:"2px solid var(--primary)"},children:ke.img?e.jsx("img",{src:ke.img,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ye,{size:24,style:{opacity:.2}})})}),e.jsxs("div",{className:"input-row",style:{flex:1},children:[e.jsx("input",{type:"text",value:ke.img||"",onChange:t=>ht("img",t.target.value),placeholder:"Şəkil URL və ya yol...",style:{flex:1,padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}}),e.jsx("input",{type:"file",id:"driver-img-upload",style:{display:"none"},accept:"image/*",onChange:async t=>{const a=t.target.files?.[0];if(a){const r=await He(a);r&&ht("img",r)}}}),e.jsx("button",{onClick:()=>document.getElementById("driver-img-upload")?.click(),style:{background:"#f1f5f9",border:"1px solid #e2e8f0",padding:"12px",borderRadius:"8px",cursor:"pointer"},children:"Yüklə"})]})]})]})]}),e.jsxs("div",{className:"editor-savebar",children:[e.jsx("button",{className:"btn-primary",onClick:Dl,disabled:g,children:g?"Gözləyin...":"Sürücünü Yadda Saxla"}),e.jsx("button",{className:"btn-secondary",onClick:zl,disabled:Mi||g,children:Mi?"Göndərilir...":"Sıralama Bildirişi Göndər"})]})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Gt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən sürücü seçin."})]})})]}):ie==="videos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"Videolar"}),e.jsx("button",{className:"add-section-btn",onClick:Ll,children:e.jsx(pe,{size:16})})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 300px)"},children:Ka.length===0?e.jsx("div",{style:{padding:"2rem 1rem",textAlign:"center",color:"#94a3b8",fontSize:"0.875rem"},children:nt?"Axtarışa uyğun video tapılmadı.":"Heç bir video əlavə edilməyib."}):Ka.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${oe===t.id?"active":""}`,onClick:()=>Ia(t.id),style:{width:"100%",paddingRight:"40px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"16px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>{a.stopPropagation(),Rl(t.id,a)},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Te,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:oe!==null&&Be.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Video Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[Be.title," // ID: ",Be.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO BAŞLIĞI"}),e.jsx("input",{type:"text",value:Be.title,onChange:t=>li("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YOUTUBE URL"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ze,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),e.jsx("input",{type:"text",value:Be.youtubeUrl,onChange:t=>li("youtubeUrl",t.target.value),placeholder:"https://www.youtube.com/watch?v=...",style:{width:"100%",padding:"12px 12px 12px 40px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"6px"},children:"YouTube linkini daxil etdikdə şəkil və ID avtomatik təyin olunacaq."})]}),e.jsxs("div",{className:"edit-grid grid-2-compact",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"MÜDDƏT (MƏS: 05:20)"}),e.jsx("input",{type:"text",value:Be.duration,onChange:t=>li("duration",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"VİDEO ID (AVTOMATİK)"}),e.jsx("input",{type:"text",value:Be.videoId,readOnly:!0,style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",background:"#f8fafc",color:"#94a3b8"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"YARADILMA TARİXİ"}),e.jsx("input",{type:"text",value:Be.created_at||"",onChange:t=>li("created_at",t.target.value),placeholder:"2026-02-16T10:30:00.000Z",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ÖNİZLƏMƏ (THUMBNAIL)"}),e.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",borderRadius:"12px",overflow:"hidden",background:"#000",border:"1px solid #e2e8f0",position:"relative"},children:[Be.thumbnail?e.jsx("img",{src:Be.thumbnail,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Wi,{size:48,style:{opacity:.1,color:"white"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"YouTube linki daxil edin"})]}),Be.videoId&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",cursor:"pointer"},onClick:()=>window.open(Be.youtubeUrl,"_blank"),children:e.jsx("div",{style:{background:"#FF4D00",color:"white",padding:"12px",borderRadius:"50%",boxShadow:"0 0 20px rgba(255,77,0,0.4)"},children:e.jsx(br,{size:24,fill:"currentColor"})})})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,disabled:g,children:g?"Gözləyin...":"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Wi,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən video seçin və ya yeni əlavə edin."})]})})]}):ie==="photos"?e.jsxs("div",{className:"editor-layout with-sidebar",children:[e.jsxs("aside",{className:"page-list",children:[e.jsxs("div",{className:"list-header",style:{marginBottom:"1rem"},children:[e.jsx("h3",{style:{marginBottom:"0.75rem"},children:"Foto Arxiv"}),e.jsxs("div",{style:{display:"grid",gap:"8px"},children:[e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b"},children:"EVENT ALBOMU"}),e.jsxs("select",{value:vt,onChange:t=>Sl(t.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"",children:"Event seçilməyib"}),me.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]}),e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b",marginTop:"4px"},children:"YENİ ALBOM"}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("input",{type:"text",value:ca,onChange:t=>ua(t.target.value),placeholder:"Məs: Bakı Ralli 2026",style:{flex:1,minWidth:0,padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("button",{type:"button",onClick:yl,style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Seç"})]}),e.jsx("label",{style:{fontSize:"11px",fontWeight:700,color:"#64748b",marginTop:"4px"},children:"ALBOM FİLTRİ"}),e.jsxs("select",{value:zi,onChange:t=>Bt(t.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:[e.jsx("option",{value:"all",children:"Bütün albomlar"}),Wl.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("div",{style:{display:"flex",gap:"6px",marginTop:"6px"},children:[e.jsxs("button",{className:"add-section-btn",onClick:Tl,title:"Yeni şəkil əlavə et",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[e.jsx(pe,{size:14}),"Yeni"]}),e.jsx("button",{type:"button",onClick:()=>pa.current?.click(),style:{flex:1,padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",background:"#fff",cursor:"pointer",fontSize:"12px",fontWeight:700},children:"Çoxlu Yüklə"}),e.jsx("input",{ref:pa,type:"file",accept:"image/*",multiple:!0,style:{display:"none"},onChange:Nl})]})]})]}),e.jsx("div",{style:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:Ga.length===0?e.jsx("p",{style:{padding:"20px",color:"#94a3b8",textAlign:"center",fontSize:"13px"},children:nt?"Axtarışa uyğun şəkil tapılmadı.":"Şəkil yoxdur"}):Ga.map(t=>e.jsxs("div",{className:"page-nav-wrapper",style:{position:"relative",marginBottom:"4px"},children:[e.jsxs("button",{className:`page-nav-item ${pt===t.id?"active":""}`,onClick:()=>vl(t.id),style:{width:"100%",paddingRight:"40px",display:"flex",alignItems:"center",gap:"8px",textAlign:"left"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",overflow:"hidden",flexShrink:0,background:"#eee"},children:t.url?e.jsx("img",{src:t.url,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(Ye,{size:12,style:{margin:"6px",opacity:.3}})}),e.jsxs("div",{style:{minWidth:0,display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title}),e.jsx("span",{style:{fontSize:"10px",color:"#94a3b8",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ee(t.album)})]})]}),e.jsx("button",{className:"delete-section-btn",onClick:a=>El(t.id,a),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#ff4d4f",opacity:.5,cursor:"pointer"},children:e.jsx(Te,{size:14})})]},t.id))})]}),e.jsx("main",{className:"editor-canvas editor-canvas-flat",children:pt!==null&&$e.id!==void 0?e.jsxs("div",{className:"editor-workspace",children:[e.jsxs("div",{className:"canvas-header canvas-header-block",children:[e.jsx("h2",{style:{fontSize:"2rem"},children:"Şəkil Redaktəsi"}),e.jsxs("p",{style:{color:"#64748b"},children:[$e.title," // ID: ",$e.id]})]}),e.jsxs("div",{className:"edit-grid grid-1",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ŞƏKİL BAŞLIĞI"}),e.jsx("input",{type:"text",value:$e.title,onChange:t=>ri("title",t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",fontWeight:"bold"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"ALBOM"}),e.jsx("input",{type:"text",value:$e.album||"",onChange:t=>ri("album",t.target.value),placeholder:"Məs: Bakı Ralli 2026",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"EVENT BAĞLANTISI (İSTƏYƏ BAĞLI)"}),e.jsxs("select",{value:vt,onChange:t=>jl(t.target.value),style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"Event seçilməyib"}),me.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"12px",color:"#64748b"},children:"FOTO"}),e.jsxs("div",{style:{width:"100%",minHeight:"300px",borderRadius:"12px",overflow:"hidden",background:"#f8fafc",border:"1px dashed #cbd5e1",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[$e.url?e.jsx("img",{src:$e.url,alt:"",style:{maxWidth:"100%",maxHeight:"400px",objectFit:"contain"}}):e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[e.jsx(Ye,{size:48,style:{opacity:.1}}),e.jsx("p",{style:{color:"#64748b",fontSize:"12px"},children:"Şəkil seçilməyib"})]}),e.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem"},children:[e.jsx("input",{type:"file",id:"gallery-photo-upload",style:{display:"none"},accept:"image/*",onChange:Al}),e.jsxs("button",{onClick:()=>document.getElementById("gallery-photo-upload")?.click(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(pe,{size:18})," Şəkil Yüklə"]}),e.jsx("input",{type:"text",value:$e.url||"",onChange:t=>ri("url",t.target.value),placeholder:"URL və ya yol...",style:{padding:"10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",width:"250px"}})]})]})]})]}),e.jsx("div",{className:"editor-savebar",children:e.jsx("button",{className:"btn-primary",onClick:Et,disabled:g,children:g?"Gözləyin...":"Yadda Saxla"})})]}):e.jsxs("div",{className:"editor-empty",children:[e.jsx(Ye,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən şəkil seçin və ya yeni əlavə edin."})]})})]}):e.jsx("div",{className:"editor-layout",children:e.jsx("main",{className:"editor-canvas",style:{width:"100%"},children:Ul?e.jsxs("div",{className:"edit-fields",style:{width:"100%"},children:[Da&&e.jsx("div",{className:"canvas-header",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"Ana Səhifə Blokları"}),e.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:ao.map(t=>e.jsx("button",{type:"button",className:`mode-btn ${ma===t.id?"active":""}`,onClick:()=>Pt(t.id),style:{minWidth:"120px"},children:t.label},t.id))})]})}),Ne==="abouttab"&&e.jsx("div",{className:"canvas-header",children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:"HAQQIMIZDA"})}),za.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Seçilən sekmədə göstəriləcək məzmun tapılmadı."}),za.map(({page:t,pageIdx:a})=>{const r=t.id==="marquee",l=r&&!!ve[t.id],n=(t.sections||[]).filter(d=>xs(d)||t.id==="about"&&ft(d.id)||t.id==="partners"||t.id==="rulespage"&&Hi.test(d.id)||t.id==="rulespage"&&d.id.startsWith("RULES_")?!1:Re(d.id,d.label,d.value,d.url)).sort((d,f)=>Se(d.order,0)-Se(f.order,0)),u=(t.images||[]).filter(d=>Re(d.id,d.alt,d.path)).sort((d,f)=>Se(d.order,0)-Se(f.order,0)),m=t.id==="about"?(()=>{const d=new Map;return(t.sections||[]).forEach(f=>{if(!ft(f.id))return;const P=ms(f.id)||f.id,Q=d.get(P)||{label:"",value:""};f.id.startsWith(tt)&&(Q.label=f.value||""),f.id.startsWith(it)&&(Q.value=f.value||""),d.set(P,Q)}),Array.from(d.entries()).sort(([f],[P])=>f.localeCompare(P,void 0,{numeric:!0})).map(([f,P])=>({suffix:f,...P})).filter(f=>Re(f.suffix,f.label,f.value))})():[],x=t.id==="rulespage"?Ge(t).filter(d=>Re(d.id,d.title,d.icon,d.docName,d.docButton,d.docUrl,...(d.items||[]).flatMap(f=>[f.title,f.desc]))):[],h=t.id==="partners"?Tt(t).filter(d=>{const f=lt(d),P=(t.images||[]).find(Q=>Q.id===f);return Re(d.index,d.name,d.tag,d.icon,d.useImage,d.imageId,P?.path,P?.alt)}):[];return nt&&n.length===0&&u.length===0&&m.length===0&&x.length===0&&h.length===0?null:e.jsxs("div",{className:"field-group",children:[e.jsx("div",{className:"canvas-header",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("h2",{style:{fontSize:"1.05rem",fontWeight:800,color:"var(--text-main)"},children:$t[t.id]||t.title}),yi(t.id)&&e.jsx("p",{className:"page-help-note",children:yi(t.id)})]})}),r&&e.jsxs("div",{className:"marquee-control-panel",children:[e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Marquee aktivdir"}),e.jsx("div",{className:"marquee-control-desc",children:"Frontenddə sürüşən yazı göstərilsin"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Marquee aktivdir",children:[e.jsx("input",{type:"checkbox",checked:t.active!==!1,onChange:d=>{const f=[...i];f[a]&&(f[a].active=d.target.checked,s(f))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]}),e.jsxs("div",{className:"marquee-control-item",children:[e.jsxs("div",{className:"marquee-control-copy",children:[e.jsx("div",{className:"marquee-control-title",children:"Paneldə gizlə"}),e.jsx("div",{className:"marquee-control-desc",children:"Bu kartı editorda daralt və yadda saxla"})]}),e.jsxs("label",{className:"marquee-switch","aria-label":"Paneldə gizlə",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:d=>{Ae(f=>({...f,[t.id]:d.target.checked}))}}),e.jsx("span",{className:"marquee-switch-slider"})]})]})]}),(t.id!=="marquee"||!l)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.9rem"},children:[t.id==="about"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Statistikalar"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Bi(a),children:[e.jsx(pe,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:m.map(d=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:d.label,onChange:f=>Jt(d.suffix,"label",f.target.value,a),placeholder:"Statistika adı",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:d.value,onChange:f=>Jt(d.suffix,"value",f.target.value,a),placeholder:"Dəyər",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{type:"button",onClick:()=>va(d.suffix,a),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Te,{size:14})})]},d.suffix))})]}),t.id==="rulespage"&&e.jsxs("div",{className:"field-item-wrapper",style:{position:"relative",background:"#fcfcfd",padding:"1rem",borderRadius:"12px",border:"1px solid #f0f0f2"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:800},children:"Qaydalar Sekmələri"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>Aa(a),children:[e.jsx(pe,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:x.map((d,f)=>{const P=f>0,Q=f<x.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"10px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px 160px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:d.title,onChange:w=>Ue(f,"title",w.target.value,a),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:d.id,onChange:w=>Ue(f,"id",w.target.value,a),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:d.icon,onChange:w=>Ue(f,"icon",w.target.value,a),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:Gi.map(w=>e.jsx("option",{value:w,children:w},w))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{type:"button",title:"Yuxarı",onClick:()=>ai(f,"up",a),disabled:!P,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:P?"#334155":"#cbd5e1"},children:e.jsx(qt,{size:14})}),e.jsx("button",{type:"button",title:"Aşağı",onClick:()=>ai(f,"down",a),disabled:!Q,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:Q?"#334155":"#cbd5e1"},children:e.jsx(Kt,{size:14})}),e.jsx("button",{type:"button",title:"Sekməni sil",onClick:()=>Na(f,a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Te,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:d.docName||"",onChange:w=>Ue(f,"docName",w.target.value,a),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:d.docButton||"",onChange:w=>Ue(f,"docButton",w.target.value,a),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(ze,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:d.docUrl||"",onChange:w=>Ue(f,"docUrl",w.target.value,a),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-${a}-${f}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async w=>{const le=w.target.files?.[0];le&&(await _a(le,f,a),w.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-${a}-${f}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(d.items||[]).map((w,le)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:w.title,onChange:ye=>si(f,le,"title",ye.target.value,a),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{type:"button",title:"Maddəni sil",onClick:()=>Ra(f,le,a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Te,{size:14})})]}),e.jsx("textarea",{rows:3,value:w.desc,onChange:ye=>si(f,le,"desc",ye.target.value,a),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-tab-item-group-${d.index}-${w.index}`)),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>La(f,a),children:[e.jsx(pe,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-group-${d.index}-${d.id}`)})})]}),t.id==="partners"&&Fa(t,a),n.map((d,f)=>oi(d,f,a,t))]}),t.id!=="partners"&&e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:700},children:"Şəkillər"}),e.jsxs("button",{type:"button",className:"add-field-minimal",onClick:()=>{const d=[...i],f=d[a];f&&(f.images.push({id:`img-${f.images.length}-${Date.now()}`,path:"",alt:"",type:"local",order:f.images.length}),s(d))},children:[e.jsx(pe,{size:14})," Yeni Şəkil"]})]}),e.jsxs("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1rem"},children:[u.length===0&&e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Bu bölmədə şəkil yoxdur."}),u.map(d=>e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",padding:"0.75rem",background:"#fff"},children:[e.jsx("div",{style:{height:"120px",background:"#f8fafc",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:d.path?e.jsx("img",{src:d.path,alt:d.alt||d.id,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:"Önizləmə yoxdur"})}),e.jsx("input",{type:"text",value:d.path,placeholder:"Tam şəkil linki",onChange:f=>{const P=[...i],Q=P[a];if(!Q)return;const w=Q.images.findIndex(le=>le.id===d.id);w!==-1&&(Q.images[w].path=f.target.value,s(P))},style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px",marginBottom:"8px"}}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{id:`group-file-up-${t.id}-${d.id}`,type:"file",accept:"image/*",style:{display:"none"},onChange:async f=>{const P=f.target.files?.[0];if(!P)return;const Q=await He(P);if(!Q)return;const w=[...i],le=w[a];if(!le)return;const ye=le.images.findIndex(ot=>ot.id===d.id);ye!==-1&&(le.images[ye].path=Q,le.images[ye].type="local",s(w))}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`group-file-up-${t.id}-${d.id}`)?.click(),style:{fontSize:"11px",padding:"6px 10px"},children:"Fayldan yüklə"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>Ui(a,d.id),style:{fontSize:"11px",padding:"6px 10px"},children:"Kitabxanadan seç"})]}),e.jsx("input",{type:"text",value:d.alt,placeholder:"Alt mətni",onChange:f=>fa(a,d.id,f.target.value),style:{width:"100%",fontSize:"12px",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"6px"}})]},`${t.id}-${d.id}`))]})]})]}),l&&e.jsx("div",{className:"empty-fields-tip",style:{textAlign:"center",padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"10px",color:"#64748b"},children:"Marquee bölməsi paneldə gizlədildi. Yuxarıdakı checkbox ilə geri aça bilərsiniz."})]},t.id)})]}):Y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"canvas-header",children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:800,color:"var(--text-main)"},children:$t[Y.id]||Y.title}),yi(Y.id)&&e.jsx("p",{className:"page-help-note",children:yi(Y.id)})]}),e.jsxs("div",{className:"canvas-actions",children:[Y.id==="about"&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>Bi(),style:{background:"#f5f3ff",color:"#7c3aed",border:"1px solid #ddd6fe"},children:[e.jsx(Gt,{size:14})," Statistika Əlavə Et"]}),(Y.id==="about"||Y.id==="values")&&e.jsxs("button",{className:"add-field-minimal",onClick:()=>ya(),style:{background:"#f0fdf4",color:"#16a34a",border:"1px solid #bbf7d0"},children:[e.jsx(pe,{size:14})," Yeni Dəyər Əlavə Et"]}),e.jsx("div",{style:{width:"1px",height:"24px",background:"#e2e8f0",margin:"0 4px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"4px 12px",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:800,color:"#64748b"},children:"VƏZİYYƏT:"}),e.jsx("button",{onClick:()=>{const t=[...i];t[o].active=Y?.active===!1,s(t),A.success(t[o].active?"Bölmə aktivləşdirildi":"Bölmə deaktiv edildi")},style:{width:"36px",height:"18px",borderRadius:"9px",background:Y?.active!==!1?"#10b981":"#cbd5e1",position:"relative",cursor:"pointer",border:"none",transition:"background 0.3s"},children:e.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:Y?.active!==!1?"20px":"2px",transition:"left 0.3s"}})})]})]})]}),e.jsxs("div",{className:"edit-fields",children:[Y.id==="about"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Gt,{size:16})," Statistikalar"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Bi(),children:[e.jsx(pe,{size:14})," Yeni Statistika"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Ma.length>0?Ma.map(t=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px auto",gap:"8px",alignItems:"center",padding:"10px",border:"1px solid #e2e8f0",borderRadius:"10px",background:"#fff"},children:[e.jsx("input",{type:"text",value:t.label,onChange:a=>Jt(t.suffix,"label",a.target.value),placeholder:"Statistika adı (Məs: PİLOTLAR)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.value,onChange:a=>Jt(t.suffix,"value",a.target.value),placeholder:"Dəyər (Məs: 140+)",style:{padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("button",{onClick:()=>va(t.suffix),title:"Statistikanı sil",style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Te,{size:14})})]},t.suffix)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:fe?"Axtarışa uyğun statistika tapılmadı.":'Hələ statistika yoxdur. "Yeni Statistika" ilə əlavə edin.'})})]}),(Y.id==="about"||Y.id==="values")&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ai,{size:16})," Əsas Dəyərlər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ya(),children:[e.jsx(pe,{size:14})," Yeni Dəyər"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Pa.length>0?Pa.map(t=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"12px",background:"#fff",display:"flex",flexDirection:"column",gap:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"8px"},children:[e.jsxs("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:700},children:["Dəyər ID: ",t.suffix]}),e.jsx("button",{title:"Dəyəri sil",onClick:()=>ll(t.suffix),style:{background:"#fff",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"8px",width:"34px",height:"34px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Te,{size:14})})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(54px, 1fr))",gap:"8px"},children:ds.map(a=>{const r=$i[a],l=t.icon===a;return e.jsx("button",{type:"button",title:a,onClick:()=>Pi(t.suffix,"icon",a),style:{height:"44px",border:l?"1px solid #f97316":"1px solid #e2e8f0",borderRadius:"10px",background:l?"#fff7ed":"#fff",color:l?"#ea580c":"#475569",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(r,{size:18})},`core-${t.suffix}-${a}`)})}),e.jsx("input",{type:"text",value:t.title,onChange:a=>Pi(t.suffix,"title",a.target.value),placeholder:"Dəyər başlığı (Məs: TƏHLÜKƏSİZLİK)",style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:700}}),e.jsx("textarea",{rows:3,value:t.desc,onChange:a=>Pi(t.suffix,"desc",a.target.value),placeholder:"Dəyər təsviri",style:{width:"100%",padding:"10px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",lineHeight:1.4,resize:"vertical"}})]},`core-value-${t.suffix}`)):e.jsx("div",{style:{padding:"1rem",border:"1px dashed #cbd5e1",borderRadius:"8px",color:"#64748b",fontSize:"13px"},children:fe?"Axtarışa uyğun dəyər tapılmadı.":'Hələ dəyər yoxdur. "Yeni Dəyər" ilə əlavə edin.'})})]}),Y.id==="partners"&&Fa(Y,o),Y.id==="rulespage"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Vt,{size:16})," Qaydalar Sekmələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>Aa(),children:[e.jsx(pe,{size:14})," Yeni Sekmə"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Ba.map((t,a)=>{const r=a>0,l=a<Ba.length-1;return e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",background:"#fff"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px 170px auto",gap:"8px",marginBottom:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:t.title,onChange:n=>Ue(a,"title",n.target.value),placeholder:"Sekmə başlığı",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("input",{type:"text",value:t.id,onChange:n=>Ue(a,"id",n.target.value),placeholder:"Sekmə ID",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("select",{value:t.icon,onChange:n=>Ue(a,"icon",n.target.value),style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},children:Gi.map(n=>e.jsx("option",{value:n,children:n},n))}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı",onClick:()=>ai(a,"up"),disabled:!r,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:r?"#334155":"#cbd5e1"},children:e.jsx(qt,{size:14})}),e.jsx("button",{title:"Aşağı",onClick:()=>ai(a,"down"),disabled:!l,style:{width:"30px",height:"30px",border:"1px solid #e2e8f0",background:"#fff",borderRadius:"8px",color:l?"#334155":"#cbd5e1"},children:e.jsx(Kt,{size:14})}),e.jsx("button",{title:"Sekməni sil",onClick:()=>Na(a),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Te,{size:14})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 180px",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:t.docName||"",onChange:n=>Ue(a,"docName",n.target.value),placeholder:"Sənəd adı (Məs: PILOT_PROTOKOLU.PDF)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{type:"text",value:t.docButton||"",onChange:n=>Ue(a,"docButton",n.target.value),placeholder:"Düymə mətni (Məs: PDF YÜKLƏ)",style:{padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(ze,{size:14,style:{color:"#94a3b8"}}),e.jsx("input",{type:"text",value:t.docUrl||"",onChange:n=>Ue(a,"docUrl",n.target.value),placeholder:"Sənəd linki (Məs: /uploads/pilot.pdf və ya https://...)",style:{width:"100%",padding:"9px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"}}),e.jsx("input",{id:`rules-doc-upload-current-${a}`,type:"file",accept:".pdf,application/pdf",style:{display:"none"},onChange:async n=>{const u=n.target.files?.[0];u&&(await _a(u,a),n.target.value="")}}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>document.getElementById(`rules-doc-upload-current-${a}`)?.click(),children:"PDF Yüklə"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(t.items||[]).map((n,u)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"8px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"text",value:n.title,onChange:m=>si(a,u,"title",m.target.value),placeholder:"Maddə başlığı",style:{padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",fontWeight:700}}),e.jsx("button",{title:"Maddəni sil",onClick:()=>Ra(a,u),style:{width:"30px",height:"30px",border:"1px solid #fee2e2",background:"#fff",borderRadius:"8px",color:"#ef4444"},children:e.jsx(Te,{size:14})})]}),e.jsx("textarea",{rows:3,value:n.desc,onChange:m=>si(a,u,"desc",m.target.value),placeholder:"Maddə təsviri",style:{width:"100%",padding:"8px 10px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px",lineHeight:1.4,resize:"vertical"}})]},`rules-item-${t.index}-${n.index}`)),e.jsxs("button",{className:"add-field-minimal",onClick:()=>La(a),children:[e.jsx(pe,{size:14})," Maddə Əlavə Et"]})]})]},`rules-tab-${t.index}-${t.id}`)})})]}),Y.id!=="rulespage"&&Y.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Os,{size:16})," Mətn Sahələri"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ga("text"),children:[e.jsx(pe,{size:14})," Mətn Əlavə Et"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:jt.length===0&&fe?e.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #e2e8f0",borderRadius:"8px"},children:"Bu səhifədə sorğuya uyğun mətn tapılmadı."}):Y?.id==="contactpage"?Hl.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((a,r)=>oi(a,r))]},t.title)):Y?.id==="privacypolicypage"||Y?.id==="termsofservicepage"?Vl.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"#f8fafc",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px",padding:"4px 2px 8px 2px",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#334155",fontWeight:900,textTransform:"uppercase"},children:t.title}),e.jsx("div",{style:{fontSize:"11px",color:"#64748b",fontWeight:600},children:t.subtitle})]}),t.sections.map((a,r)=>oi(a,r))]},t.title)):jt.map((t,a)=>oi(t,a))})]}),Y.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("div",{className:"field-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("label",{children:[e.jsx(Ye,{size:16})," Bölmədəki Şəkillər"]}),e.jsxs("button",{className:"add-field-minimal",onClick:()=>ga("image"),children:[e.jsx(pe,{size:14})," Yeni Şəkil Yeri"]})]}),ni.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:800,color:"#64748b",marginBottom:"8px"},children:"Komponent Daxili Önizləmə (Sıra ilə)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"10px"},children:ni.map((t,a)=>e.jsxs("div",{style:{border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden",background:"#fff"},children:[e.jsx("div",{style:{height:"84px",background:"#f8fafc"},children:t.path?e.jsx("img",{src:t.path,alt:t.alt||`Preview ${a+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontSize:"11px"},children:"Şəkil yoxdur"})}),e.jsxs("div",{style:{padding:"6px 8px",fontSize:"10px",color:"#475569",fontWeight:700},children:["#",a+1,` • ${t.id}`]})]},`preview-${t.id}`))})]}),e.jsx("div",{className:"images-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"1.5rem"},children:ni.length>0?ni.map((t,a)=>{const r=Y?.images||[],l=r.findIndex(m=>m.id===t.id),n=l>0,u=l>=0&&l<r.length-1;return e.jsxs("div",{className:"image-edit-card",style:{border:"1px solid #eee",borderRadius:"12px",overflow:"hidden",background:"#fff",position:"relative"},children:[e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"field-delete-btn",onClick:()=>ba("image",t.id),style:{position:"absolute",right:"8px",top:"8px",zIndex:10,background:"rgba(255,255,255,0.9)",border:"1px solid #fee2e2",color:"#ef4444",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(Te,{size:12})}),e.jsxs("div",{style:{position:"absolute",right:"40px",top:"8px",zIndex:10,display:"flex",gap:"6px"},children:[e.jsx("button",{title:"Yuxarı daşı",onClick:()=>Xt("image",t.id,"up"),disabled:!n,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:n?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:n?"pointer":"not-allowed"},children:e.jsx(qt,{size:12})}),e.jsx("button",{title:"Aşağı daşı",onClick:()=>Xt("image",t.id,"down"),disabled:!u,style:{background:"rgba(255,255,255,0.9)",border:"1px solid #e2e8f0",color:u?"#334155":"#cbd5e1",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:u?"pointer":"not-allowed"},children:e.jsx(Kt,{size:12})})]})]}),e.jsx("div",{style:{height:"120px",background:"#f8fafc",position:"relative",overflow:"hidden"},children:t.path&&(t.path.startsWith("http")||t.path.startsWith("/"))?e.jsx("img",{src:t.path,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f1f5f9"},children:[e.jsx(Ye,{size:32,style:{opacity:.1}}),e.jsx("span",{style:{fontSize:"10px",color:"#999",position:"absolute",bottom:"10px"},children:"Yol yoxdur"})]})}),e.jsxs("div",{style:{padding:"0.75rem"},children:[e.jsxs("div",{style:{fontSize:"10px",color:"#94a3b8",fontWeight:700,marginBottom:"6px"},children:["Sıra: ",a+1]}),e.jsxs("div",{style:{display:"flex",gap:"0.25rem",marginBottom:"4px"},children:[e.jsx("input",{type:"text",placeholder:"Resur yolu...",value:t.path,onChange:m=>{if(o<0||o>=i.length)return;const x=[...i],h=x[o];if(!h)return;const d=h.images.findIndex(f=>f.id===t.id);d!==-1&&(h.images[d].path=m.target.value,s(x))},style:{fontSize:"0.75rem",flex:1,padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}}),e.jsx("button",{onClick:()=>Ui(o,t.id),title:"Sistemdən seç",style:{padding:"0 8px",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer"},children:e.jsx(ze,{size:14})}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",id:`file-up-${t.id}`,style:{display:"none"},accept:"image/*",onChange:m=>pl(m,o,t.id)}),e.jsx("button",{onClick:()=>document.getElementById(`file-up-${t.id}`)?.click(),title:"Kompüterdən yüklə",style:{padding:"0 8px",height:"100%",background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center"},children:e.jsx(pe,{size:14})})]})]}),e.jsx("input",{type:"text",placeholder:"Alt mətni...",value:t.alt,onChange:m=>fa(o,t.id,m.target.value),style:{fontSize:"0.75rem",width:"100%",padding:"0.4rem",border:"1px solid #eee",borderRadius:"4px"}})]})]},t.id)}):e.jsx("div",{className:"empty-fields-tip",style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",background:"#f8fafc",borderRadius:"12px",border:"1px dashed #cbd5e1",color:"#64748b"},children:fe?"Sorğuya uyğun şəkil tapılmadı.":"Bu bölmədə redaktə ediləcək şəkil yoxdur."})})]}),Y.id!=="partners"&&e.jsxs("div",{className:"field-group",children:[e.jsxs("label",{children:[e.jsx(Ye,{size:16})," Yeni Şəkil Yüklə"]}),e.jsxs("div",{className:"upload-dropzone",children:[e.jsx(pe,{size:24}),e.jsx("p",{children:"Şəkil yükləmək üçün seçin"}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=async a=>{const r=a.target.files?.[0];if(!r)return;const l=await He(r);if(l&&o>=0&&o<i.length){const n=[...i],u=n[o];if(u){const m=`img-${u.images.length}-${Date.now()}`;u.images.push({id:m,path:l,alt:"",type:"local"}),s(n),A.success("Yeni şəkil əlavə edildi")}}},t.click()},children:"Cihazdan Yüklə"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const t=`img-${(Y.images||[]).length}`;E({pageIdx:o,imgId:t}),W(!0),N(!0)},children:"Kitabxanadan Seç"})]})]})]})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#94a3b8",gap:"1rem"},children:[e.jsx(Vt,{size:48,style:{opacity:.2}}),e.jsx("p",{children:"Redaktə etmək üçün sol tərəfdən bir komponent seçin."})]})})}),F&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Yeni Bölmə Əlavə Et"}),e.jsx("button",{onClick:()=>O(!1),children:e.jsx(Zi,{size:20})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bölmə Başlığı"}),e.jsx("input",{type:"text",value:S,onChange:t=>ae(t.target.value),placeholder:"Məs: Xidmətlərimiz, Kampaniyalar...",autoFocus:!0})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>O(!1),children:"Ləğv et"}),e.jsx("button",{className:"btn-primary",onClick:sl,children:"Əlavə et"})]})]})}),K&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-card fade-in",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Sistem Şəkilləri"}),e.jsx("button",{onClick:()=>N(!1),children:e.jsx(Zi,{size:20})})]}),e.jsx("div",{className:"modal-body",style:{maxHeight:"60vh",overflowY:"auto"},children:e.jsx("div",{className:"image-selector-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem"},children:X.length>0?X.map((t,a)=>e.jsxs("div",{className:"selector-image-card",onClick:()=>ml(t),style:{cursor:"pointer",border:"2px solid #f1f5f9",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s"},children:[e.jsx("div",{style:{aspectRatio:"1/1",background:"#f8fafc"},children:e.jsx("img",{src:t,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"0.5rem",fontSize:"10px",color:"#64748b",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:t.split("/").pop()})]},a)):e.jsx("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Sistemdə heç bir şəkil tapılmadı."})})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-secondary",onClick:()=>N(!1),children:"Bağla"})})]})})]})},ro=({currentUser:i})=>{const[s,o]=v.useState([]),[p,g]=v.useState(!0),[T,b]=v.useState(!1),[j,R]=v.useState(null),k=async()=>{try{const O=kt();if(!O){qe();return}const K=await fetch("/api/users",{headers:{Authorization:`Bearer ${O}`}});if(K.status===401||K.status===403){qe(),A.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(!K.ok)throw new Error("Yükləmə uğursuz oldu");const N=await K.json();o(N||[])}catch{A.error("İstifadəçiləri yükləmək mümkün olmadı")}finally{g(!1)}};v.useEffect(()=>{k()},[]);const U=async O=>{if(O.preventDefault(),!j?.username||!j?.name||!j?.id&&!j?.password){A.error("Zəhmət olmasa bütün sahələri doldurun");return}try{const K=kt();if(!K){qe();return}const N=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify(j)});if(N.status===401||N.status===403){qe(),A.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(N.ok)A.success(j.id?"İstifadəçi yeniləndi":"Yeni istifadəçi yaradıldı"),b(!1),R(null),k();else{const $=await N.json();A.error($.error||"Xəta baş verdi")}}catch{A.error("Serverlə bağlantı kəsildi")}},M=async O=>{if(window.confirm("Bu istifadəçini silmək istədiyinizə əminsiniz?"))try{const K=kt();if(!K){qe();return}const N=await fetch(`/api/users/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}});if(N.status===401||N.status===403){qe(),A.error("Sessiya müddəti bitib. Yenidən daxil olun.");return}if(N.ok)A.success("İstifadəçi silindi"),k();else{const $=await N.json();A.error($.error||"Silmək mümkün olmadı")}}catch{A.error("Serverlə bağlantı kəsildi")}},F=(O=null)=>{R(O?{...O}:{username:"",name:"",password:"",role:"secondary"}),b(!0)};return p?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"users-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admin Hesabları"}),e.jsx("p",{children:"Sistemi idarə edən bütün administratorların siyahısı və səlahiyyətləri"})]}),i.role==="master"&&e.jsxs("button",{className:"add-user-btn",onClick:()=>F(),children:[e.jsx(Sr,{size:18})," Yeni idarəçi"]})]}),e.jsx("div",{className:"users-grid",children:s.map(O=>e.jsxs("div",{className:"user-card",children:[e.jsxs("div",{className:"user-avatar",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${O.name}&background=${O.role==="master"?"3b82f6":"f59e0b"}&color=fff`,alt:O.name}),e.jsxs("div",{className:`role-badge ${O.role||"secondary"}`,children:[e.jsx(Ai,{size:10})," ",O.role==="master"?"Baş admin":"Redaktor"]})]}),e.jsxs("div",{className:"user-details",children:[e.jsx("h3",{children:O.name}),e.jsxs("span",{children:["@",O.username||"username"]})]}),i.role==="master"&&e.jsxs("div",{className:"user-actions",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F(O),title:"Düzəliş et",children:e.jsx(Tr,{size:16})}),e.jsx("button",{className:"delete-btn",onClick:()=>M(O.id.toString()),title:"Sil",children:e.jsx(Te,{size:16})})]})]},O.id))}),T&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:j?.id?"İstifadəçini redaktə et":"Yeni idarəçi hesabı"}),e.jsx("button",{onClick:()=>b(!1),children:e.jsx(Zi,{size:20})})]}),e.jsxs("form",{onSubmit:U,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qt,{size:14})," Tam Ad"]}),e.jsx("input",{type:"text",value:j?.name||"",onChange:O=>R({...j,name:O.target.value}),placeholder:"Məs: Əli Məmmədov",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qt,{size:14})," İstifadəçi Adı"]}),e.jsx("input",{type:"text",value:j?.username||"",onChange:O=>R({...j,username:O.target.value}),placeholder:"Məs: alimm",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Xi,{size:14})," Şifrə ",j?.id&&e.jsx("span",{className:"helper-text",children:"(Dəyişmək istəmirsinizsə boş saxlayın)"})]}),e.jsx("input",{type:"password",value:j?.password||"",onChange:O=>R({...j,password:O.target.value}),placeholder:"••••••••",required:!j?.id})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Ai,{size:14})," Yetki (Rol)"]}),e.jsxs("select",{value:j?.role||"secondary",onChange:O=>R({...j,role:O.target.value}),children:[e.jsx("option",{value:"master",children:"Baş Admin (Tam səlahiyyət)"}),e.jsx("option",{value:"secondary",children:"Redaktor (Məhdud səlahiyyət)"})]})]}),j?.role==="master"&&e.jsxs("div",{className:"role-warning",children:[e.jsx(Er,{size:14})," Baş Admin bütün sistem daxilində tam səlahiyyətə malikdir."]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>b(!1),children:"Ləğv et"}),e.jsxs("button",{type:"submit",className:"save-btn",children:[e.jsx(la,{size:18})," Yadda Saxla"]})]})]})]})})]})},no=({language:i})=>{const[s,o]=v.useState(!1),p=async()=>{o(!0);const T=A.loading(q(i,"Front qovluğu skan edilir...","Сканируется папка front..."));try{if(!(await fetch("/api/extract-content",{method:"POST"})).ok)throw new Error(q(i,"Skan xətası","Ошибка сканирования"));A.success(q(i,"Skan tamamlandı! Panel yenilənir...","Сканирование завершено! Панель обновляется..."),{id:T}),setTimeout(()=>window.location.reload(),1500)}catch{A.error(q(i,"Skan uğursuz oldu!","Сканирование не удалось!"),{id:T})}finally{o(!1)}},g=[{id:1,title:q(i,"Sitemap Faylını Yaradın","Создайте файл Sitemap"),description:q(i,"public/sitemap.json faylına menyu strukturunuzu əlavə edin və ya front-dan gətirin.","Добавьте структуру меню в public/sitemap.json или импортируйте из front."),path:"public/sitemap.json",icon:jr},{id:2,title:q(i,"Front Layihəsini Sinxronlaşdırın","Синхронизируйте Front-проект"),description:q(i,"/front qovluğundakı React layihəsini skan edərək bütün səhifələri menyuya çıxarın.","Просканируйте React-проект в /front и добавьте все страницы в меню."),path:"/front/src/pages",icon:Ar},{id:3,title:q(i,"Sistem Ayarlarını Tənzimləyin","Настройте системные параметры"),description:q(i,"Saytın ümumi tənzimləmələrini, loqo və əlaqə məlumatlarını idarə edin.","Управляйте общими настройками сайта, логотипом и контактной информацией."),path:q(i,"Sistem Ayarları","Системные настройки"),icon:Ls}];return e.jsxs("div",{className:"setup-guide",children:[e.jsxs("div",{className:"setup-header",children:[e.jsxs("div",{className:"setup-brand",children:[e.jsx("div",{className:"octo-logo",children:"🏎️"}),e.jsx("h2",{children:q(i,"Forsaj Club İdarəetmə","Управление Forsaj Club")})]}),e.jsx("h1",{children:q(i,"Xoş Gəlmisiniz! Paneli Qurmağa Başlayaq","Добро пожаловать! Давайте настроим панель")}),e.jsx("p",{children:q(i,"Forsaj Club platformanız üçün premium admin paneli artıq hazırdır. Aşağıdakı addımları izləyərək front layihənizi adminlə birləşdirin.","Премиум админ-панель для Forsaj Club готова. Выполните шаги ниже, чтобы связать front-проект с админкой.")})]}),e.jsxs("div",{className:"setup-grid",children:[e.jsx("div",{className:"steps-container",children:g.map(T=>e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-icon",children:e.jsx(T.icon,{size:26})}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:T.title}),e.jsx("p",{children:T.description}),e.jsx("span",{className:"step-badge",children:T.path})]})]},T.id))}),e.jsxs("div",{className:"setup-sidebar-actions",children:[e.jsxs("div",{className:"action-card primary",children:[e.jsx(Nr,{size:32}),e.jsx("h4",{children:q(i,"Yeni Səhifə Əlavə Et","Добавить новую страницу")}),e.jsx("p",{children:q(i,"Dinamik olaraq yeni admin səhifəsi yaradın.","Создайте новую страницу админки динамически.")})]}),e.jsxs("div",{className:"action-card secondary",children:[e.jsx(ks,{size:32}),e.jsx("h4",{children:q(i,"Front Skaner","Сканер Front")}),e.jsx("p",{children:q(i,"/front qosulub. Skanlamağa hazırdır.","/front подключен. Готов к сканированию.")}),e.jsx("button",{className:`scan-btn ${s?"loading":""}`,onClick:p,disabled:s,children:s?e.jsx(Ms,{className:"animate-spin"}):q(i,"İndi Skan Et","Сканировать сейчас")})]})]})]}),e.jsx("div",{className:"setup-footer",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:q(i,"Məlumat:","Информация:")})," ",q(i,"/front qovluğu aşkar edildi. Sitemap avtomatik generasiya olunduqda bu ekran Dashboard ilə əvəzlənəcək.","Папка /front обнаружена. После автогенерации sitemap этот экран будет заменен Dashboard.")]})})]})},oo=({onLogin:i,language:s,onLanguageChange:o})=>{const[p,g]=v.useState(!0),[T,b]=v.useState(""),[j,R]=v.useState(""),[k,U]=v.useState(""),[M,F]=v.useState(!1);v.useEffect(()=>{(async()=>{try{(await(await fetch("/api/check-setup")).json()).needsSetup&&g(!1)}catch(N){console.error("Setup check failed",N)}})()},[]);const O=async K=>{K.preventDefault();const N=T.trim(),$=k.trim();if(!N||!j.trim()){A.error(q(s,"İstifadəçi adı və şifrə mütləqdir","Логин и пароль обязательны"));return}if(!p&&!$){A.error(q(s,"Tam ad mütləqdir","Полное имя обязательно"));return}if(!p&&j.length<6){A.error(q(s,"Şifrə ən azı 6 simvol olmalıdır","Пароль должен содержать минимум 6 символов"));return}F(!0);try{const V=await fetch(p?"/api/login":"/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p?{username:N,password:j}:{username:N,password:j,name:$})}),D=await V.json();if(!V.ok)throw new Error(D.error||(p?q(s,"Giriş uğursuz oldu","Ошибка входа"):q(s,"Quraşdırma uğursuz oldu","Ошибка настройки")));p?(localStorage.setItem("forsaj_admin_token",D.token),localStorage.setItem("forsaj_admin_user",JSON.stringify(D.user)),i(D.user),A.success(q(s,"Xoş gəldiniz!","Добро пожаловать!"))):(A.success(q(s,"Baza uğurla başladıldı! İndi daxil ola bilərsiniz.","Система успешно инициализирована. Теперь можно войти.")),g(!0))}catch(W){A.error(W.message||q(s,"Əməliyyat uğursuz oldu","Операция не выполнена"))}finally{F(!1)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-card fade-in",children:[e.jsxs("div",{className:"login-lang-switch","aria-label":"Login language switch",children:[e.jsx("button",{type:"button",className:`login-lang-btn ${s==="az"?"active":""}`,onClick:()=>o("az"),children:"AZ"}),e.jsx("button",{type:"button",className:`login-lang-btn ${s==="ru"?"active":""}`,onClick:()=>o("ru"),children:"RU"})]}),e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"login-logo",children:p?e.jsx(Lr,{size:40,className:"logo-icon"}):e.jsx(Xi,{size:40,className:"logo-icon"})}),e.jsx("h1",{children:p?q(s,"Forsaj İdarəetmə Paneli","Панель управления Forsaj"):q(s,"Sistem Quraşdırılması","Настройка системы")}),e.jsx("p",{children:p?q(s,"Sistemə daxil olmaq üçün məlumatlarınızı daxil edin","Введите данные для входа в систему"):q(s,"İlkin Baş Admin hesabını yaradaraq sistemi başladın","Создайте первого главного администратора для запуска системы")})]}),e.jsxs("form",{className:"login-form",onSubmit:O,children:[!p&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qt,{size:16})," ",q(s,"Tam Adınız","Ваше полное имя")]}),e.jsx("input",{type:"text",value:k,onChange:K=>U(K.target.value),placeholder:q(s,"Məs: Əli Məmmədov","Например: Али Мамедов"),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Qt,{size:16})," ",q(s,"İstifadəçi Adı","Имя пользователя")]}),e.jsx("input",{type:"text",value:T,onChange:K=>b(K.target.value),placeholder:q(s,"Məs: admin","Например: admin"),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx(Xi,{size:16})," ",q(s,"Şifrə","Пароль")]}),e.jsx("input",{type:"password",value:j,onChange:K=>R(K.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:M,children:M?e.jsxs("div",{className:"loader-container",children:[e.jsx(Ms,{className:"animate-spin",size:20}),e.jsx("span",{children:q(s,"Gözləyin...","Подождите...")})]}):p?q(s,"Daxil ol","Войти"):q(s,"Sistemi başlat","Запустить систему")})]}),e.jsx("div",{className:"login-footer",children:e.jsx("p",{children:q(s,"© 2026 Forsaj Club. Platformanın təhlükəsizliyi üçün mütəmadi olaraq şifrənizi yeniləyin.","© 2026 Forsaj Club. Для безопасности платформы регулярно обновляйте пароль.")})})]})})},co="modulepreload",uo=function(i){return"/admin/"+i},vs={},po=function(s,o,p){let g=Promise.resolve();if(o&&o.length>0){let R=function(k){return Promise.all(k.map(U=>Promise.resolve(U).then(M=>({status:"fulfilled",value:M}),M=>({status:"rejected",reason:M}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),j=b?.nonce||b?.getAttribute("nonce");g=R(o.map(k=>{if(k=uo(k),k in vs)return;vs[k]=!0;const U=k.endsWith(".css"),M=U?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${M}`))return;const F=document.createElement("link");if(F.rel=U?"stylesheet":co,U||(F.as="script"),F.crossOrigin="",F.href=k,j&&F.setAttribute("nonce",j),document.head.appendChild(F),U)return new Promise((O,K)=>{F.addEventListener("load",O),F.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${k}`)))})}))}function T(b){const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=b,window.dispatchEvent(j),!j.defaultPrevented)throw b}return g.then(b=>{for(const j of b||[])j.status==="rejected"&&T(j.reason);return s().catch(T)})},ys={source:"Mənbə",email:"E-poçt",phone:"Telefon",mobile:"Mobil",contact:"Əlaqə",message:"Mesaj",note:"Qeyd",event:"Tədbir",car:"Avtomobil",tire:"Təkər",engine:"Mühərrik",club:"Klub",city:"Şəhər",country:"Ölkə",name:"Ad",fullname:"Ad Soyad"},mo=i=>String(i||"").trim().toLowerCase(),xo=i=>{const s=mo(i);return ys[s]?ys[s]:String(i||"").replace(/[_-]+/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,o=>o.toLocaleUpperCase("az-AZ"))},Ss=i=>{const s=new Date(i);return Number.isNaN(s.getTime())?String(i||""):s.toLocaleString("az-AZ",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},ho=i=>i==="unread"?"Oxunmamış":"Oxunmuş",fo=()=>{const[i,s]=v.useState([]),[o,p]=v.useState(null),[g,T]=v.useState(!0),[b,j]=v.useState("all"),R=async()=>{const N=localStorage.getItem("forsaj_admin_token");try{const $=await fetch("/api/applications",{headers:{Authorization:`Bearer ${N}`}});if($.ok){const W=await $.json();s(W)}}catch{A.error("Müraciətlər yüklənərkən xəta baş verdi")}finally{T(!1)}};v.useEffect(()=>{R()},[]);const k=async N=>{const $=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${N}/read`,{method:"POST",headers:{Authorization:`Bearer ${$}`}})).ok&&(s(X=>X.map(V=>V.id===N?{...V,status:"read"}:V)),o?.id===N&&p(X=>X?{...X,status:"read"}:null))}catch(W){console.error(W)}},U=async N=>{if(!window.confirm("Bu müraciəti silmək istədiyinizə əminsiniz?"))return;const $=localStorage.getItem("forsaj_admin_token");try{(await fetch(`/api/applications/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${$}`}})).ok&&(s(X=>X.filter(V=>V.id!==N)),o?.id===N&&p(null),A.success("Müraciət silindi"))}catch{A.error("Silinmə zamanı xəta baş verdi")}},M=i.filter(N=>b==="unread"?N.status==="unread":b==="read"?N.status==="read":!0),F=N=>{const $=String(N||"").trim();if(!$)return{contentText:"",parsedFields:{}};try{const W=JSON.parse($);if(Array.isArray(W))return{contentText:W.map(X=>String(X??"")).join(" | "),parsedFields:{"Məzmun - Siyahı":JSON.stringify(W)}};if(W&&typeof W=="object"){const X={};for(const[V,D]of Object.entries(W))X[`Məzmun - ${xo(String(V).trim())}`]=String(D??"");return{contentText:Object.entries(W).map(([V,D])=>`${V}: ${String(D??"")}`).join(" | "),parsedFields:X}}return{contentText:String(W),parsedFields:{}}}catch{return{contentText:$,parsedFields:{}}}},O=async()=>{if(!M.length){A.error("Export üçün müraciət tapılmadı");return}try{const N=await po(()=>import("./xlsx-CNerDvZX.js"),[]),$=M.map((Z,ve)=>{const{contentText:Ae,parsedFields:Oe}=F(Z.content);return{Sıra:ve+1,ID:Z.id,Status:ho(Z.status),Göndərən:Z.name,Əlaqə:Z.contact,"Müraciət Növü":Z.type,Tarix:Ss(Z.created_at),"Məzmun (Qısa)":Ae,...Oe}}),W=["Sıra","ID","Status","Göndərən","Əlaqə","Müraciət Növü","Tarix","Məzmun (Qısa)"],X=Array.from($.reduce((Z,ve)=>(Object.keys(ve).forEach(Ae=>Z.add(Ae)),Z),new Set)).filter(Z=>!W.includes(Z)),V=[...W,...X],D=N.utils.json_to_sheet($,{header:V});D["!autofilter"]={ref:`A1:${N.utils.encode_col(V.length-1)}1`},D["!freeze"]={xSplit:0,ySplit:1},D["!cols"]=V.map(Z=>Z==="Məzmun (Qısa)"?{wch:48}:Z.startsWith("Məzmun - ")?{wch:28}:Z==="Tarix"?{wch:18}:Z==="Status"||Z==="Müraciət Növü"?{wch:16}:Z==="Göndərən"||Z==="Əlaqə"?{wch:24}:Z==="Sıra"||Z==="ID"?{wch:8}:{wch:20});const E=[{Məlumat:"Export tarixi",Dəyər:Ss(new Date().toISOString())},{Məlumat:"Filtr",Dəyər:b==="all"?"Hamısı":b==="unread"?"Oxunmamış":"Oxunmuş"},{Məlumat:"Müraciət sayı",Dəyər:String(M.length)}],S=N.utils.json_to_sheet(E);S["!cols"]=[{wch:20},{wch:36}];const ae=N.utils.book_new();N.utils.book_append_sheet(ae,S,"Xülasə"),N.utils.book_append_sheet(ae,D,"Müraciətlər");const fe=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");N.writeFile(ae,`muracietler-${b}-${fe}.xlsx`),A.success("XLSX faylı yükləndi")}catch(N){console.error(N),A.error("XLSX export zamanı xəta baş verdi")}},K=N=>{try{const $=JSON.parse(N);return e.jsx("div",{className:"app-details-grid",children:Object.entries($).map(([W,X])=>e.jsxs("div",{className:"detail-item",children:[e.jsxs("span",{className:"detail-label",children:[W.toUpperCase(),":"]}),e.jsx("span",{className:"detail-value",children:String(X)})]},W))})}catch{return e.jsx("div",{className:"detail-text",children:N})}};return g?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"applications-manager fade-in",children:[e.jsxs("div",{className:"manager-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Müraciətlər"}),e.jsx("p",{children:"İstifadəçilər tərəfindən göndərilən formlar və qeydiyyatlar"})]}),e.jsxs("div",{className:"filter-tabs",children:[e.jsx("button",{className:b==="all"?"active":"",onClick:()=>j("all"),children:"Hamısı"}),e.jsx("button",{className:b==="unread"?"active":"",onClick:()=>j("unread"),children:"Oxunmamış"}),e.jsx("button",{className:b==="read"?"active":"",onClick:()=>j("read"),children:"Oxunmuş"})]}),e.jsxs("button",{className:"btn-export",onClick:O,children:[e.jsx(Rr,{size:16}),"Excelə Aktar"]})]}),e.jsxs("div",{className:"manager-body",children:[e.jsx("div",{className:"applications-list",children:M.length===0?e.jsx("div",{className:"empty-list",children:"Heç bir müraciət tapılmadı"}):M.map(N=>e.jsxs("div",{className:`application-item ${N.status} ${o?.id===N.id?"selected":""}`,onClick:()=>{p(N),N.status==="unread"&&k(N.id)},children:[e.jsx("div",{className:"app-item-icon",children:N.status==="unread"?e.jsx(Cs,{className:"icon-unread"}):e.jsx(_r,{className:"icon-read"})}),e.jsxs("div",{className:"app-item-main",children:[e.jsxs("div",{className:"app-item-header",children:[e.jsx("span",{className:"app-item-name",children:N.name}),e.jsx("span",{className:"app-item-date",children:new Date(N.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"app-item-type",children:N.type})]}),e.jsx(Ir,{size:16,className:"chevron"})]},N.id))}),e.jsx("div",{className:"application-details",children:o?e.jsxs("div",{className:"details-card fade-in",children:[e.jsxs("div",{className:"details-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Müraciət Təfərrüatları"}),e.jsx("span",{className:`status-badge ${o.status}`,children:o.status==="unread"?"Yeni":"Oxunub"})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-delete",onClick:()=>U(o.id),children:e.jsx(Te,{size:18})})})]}),e.jsxs("div",{className:"details-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Qt,{size:16})," Göndərən"]}),e.jsx("p",{children:o.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Is,{size:16})," Əlaqə"]}),e.jsx("p",{children:o.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsxs("label",{children:[e.jsx(Ct,{size:16})," Kateqoriya"]}),e.jsx("p",{children:o.type})]})]}),e.jsxs("div",{className:"details-content",children:[e.jsx("label",{children:"Məzmun"}),e.jsx("div",{className:"content-box",children:K(o.content)})]})]}):e.jsxs("div",{className:"details-placeholder",children:[e.jsx(Rs,{size:48}),e.jsx("p",{children:"Baxmaq üçün siyahıdan müraciət seçin"})]})})]})]})},Ts="forsaj_general_hidden_cards",go={general:"SİSTEM AYARLARI",marquee:"MARQUEE"},bo=["SOCIAL_INSTAGRAM","SOCIAL_YOUTUBE","SOCIAL_FACEBOOK"],vo=[{id:"seo-basic",label:"SEO əsas"},{id:"seo-social",label:"OG / Twitter"},{id:"seo-verify",label:"Təsdiq kodları"},{id:"contact-details",label:"Əlaqə"},{id:"departments",label:"Şöbə e-poçtları"},{id:"smtp-settings",label:"SMTP"},{id:"branding",label:"Brendinq"},{id:"social-links",label:"Sosial linklər"},{id:"marquee-settings",label:"Marquee"},{id:"stats",label:"Statistika"}],Es=i=>{const s=(i||"").trim();return s?/^[a-z][a-z0-9+.-]*:/i.test(s)?s:s.startsWith("//")?`https:${s}`:/^[\w.-]+\.[a-z]{2,}(?:[/?#]|$)/i.test(s)?`https://${s}`:s:""},yo=()=>{const[i,s]=v.useState([]),[o,p]=v.useState(!1),[g,T]=v.useState(!0),[b,j]=v.useState(!1),[R,k]=v.useState(()=>{try{const c=localStorage.getItem(Ts),_=c?JSON.parse(c):[];return Array.isArray(_)?_:[]}catch{return[]}}),U=sa(),F=new URLSearchParams(U.search).get("tab")==="hidden",O=c=>R.includes(c),K=c=>F?O(c):!O(c),N=c=>`settings-card shadow-sm${K(c)?"":" settings-card-hidden"}`,$=c=>{k(_=>_.includes(c)?_:[..._,c])},W=c=>{k(_=>_.filter(C=>C!==c))},X=c=>{const _=O(c),C=F&&_;return e.jsx("button",{type:"button",className:"card-visibility-btn",onClick:()=>_?W(c):$(c),title:C?"Kartı geri gətir":"Kartı gizlət","aria-label":C?"Kartı geri gətir":"Kartı gizlət",children:C?e.jsx(Ns,{size:16}):e.jsx(Cr,{size:16})})},V=async()=>{try{const c=await fetch("/api/site-content");if(!c.ok)throw new Error("site-content fetch failed");const _=await c.json();s(Array.isArray(_)?_:[])}catch{A.error("Ayarlar yüklənərkən xəta baş verdi")}finally{T(!1)}};v.useEffect(()=>{V()},[]),v.useEffect(()=>{localStorage.setItem(Ts,JSON.stringify(R))},[R]),v.useEffect(()=>{if(g)return;const _=new URLSearchParams(U.search).get("tab"),J=_?{seo:"seo-basic",general:"branding",contact:"contact-details",social:"social-links",stats:"stats",marquee:"marquee-settings"}[_]:"";J&&setTimeout(()=>{const ee=document.querySelector(`[data-settings-section="${J}"]`);ee&&ee.scrollIntoView({behavior:"smooth",block:"start"})},50)},[U.search,g]);const D=(c,_)=>{let C=c.findIndex(J=>J.id===_);return C===-1&&(c.push({id:_,title:go[_]||_.toUpperCase(),sections:[],images:[],active:!0}),C=c.length-1),Array.isArray(c[C].sections)||(c[C].sections=[]),Array.isArray(c[C].images)||(c[C].images=[]),C},E=(c,_,C=!1,J="general")=>{const ee=[...i],ce=D(ee,J);if(C){const oe=ee[ce].images.findIndex(Ze=>Ze.id===c);oe===-1?ee[ce].images.push({id:c,path:_,alt:c,type:"local"}):ee[ce].images[oe].path=_}else{const oe=ee[ce].sections.findIndex(Ze=>Ze.id===c);oe===-1?ee[ce].sections.push({id:c,type:"text",label:c,value:_}):ee[ce].sections[oe].value=_}s(ee)},S=(c,_=!1,C="general")=>{const J=i.find(oe=>oe.id===C);if(!J)return"";const ee=Array.isArray(J.sections)?J.sections:[],ce=Array.isArray(J.images)?J.images:[];return _?ce.find(oe=>oe.id===c)?.path||"":ee.find(oe=>oe.id===c)?.value||""},ae=(c,_=!0)=>{const C=i.find(J=>J.id===c);return!C||C.active===void 0?_:!!C.active},fe=(c,_)=>{const C=[...i],J=D(C,c);C[J].active=_,s(C)},Z=()=>{const c=i.find(_=>_.id==="marquee");return c&&(c.sections?.find(_=>_.id==="MARQUEE_TEXT")?.value||c.sections?.[0]?.value)||""},ve=c=>{const _=[...i],C=D(_,"marquee"),J=_[C].sections,ee=J.findIndex(ce=>ce.id==="MARQUEE_TEXT");ee>=0?J[ee].value=c:J.length>0?J[0].value=c:J.push({id:"MARQUEE_TEXT",type:"text",label:"MARQUEE_TEXT",value:c}),s(_)},Ae=c=>{const _=i.find(C=>C.id==="marquee");return _&&_.sections?.find(C=>C.id===c)?.value||""},Oe=(c,_)=>{const C=[...i],J=D(C,"marquee"),ee=C[J].sections,ce=ee.findIndex(oe=>oe.id===c);ce>=0?ee[ce].value=_:ee.push({id:c,type:"text",label:c,value:_}),s(C)},Me=()=>Ae("MARQUEE_LINK"),me=c=>Oe("MARQUEE_LINK",c),Fe=()=>{const c=(Ae("MARQUEE_LINK_ACTIVE")||"").toString().trim().toLowerCase();return c==="1"||c==="true"||c==="yes"||c==="on"},G=c=>{Oe("MARQUEE_LINK_ACTIVE",c?"1":"0")},re=c=>Es(S(c)),B=c=>c.map(_=>_?.id!=="general"||!Array.isArray(_.sections)?_:{..._,sections:_.sections.map(C=>bo.includes(C?.id)?{...C,value:Es(C?.value||"")}:C)}),Le=async(c,_,C="general")=>{const J=c.target.files?.[0];if(!J)return;const ee=new FormData;ee.append("image",J);const ce=A.loading("Şəkil yüklənir...");try{const oe=await fetch("/api/upload-image",{method:"POST",body:ee});if(!oe.ok)throw new Error("image upload failed");const Ze=await oe.json();E(_,Ze.url,!0,C),A.success("Şəkil yükləndi",{id:ce})}catch{A.error("Yükləmə xətası",{id:ce})}},Ke=async()=>{p(!0);const c=A.loading("Yadda saxlanılır..."),_=B(i);s(_);try{if(!(await fetch("/api/save-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).ok)throw new Error("save-content failed");A.success("Ayarlar qeyd edildi!",{id:c})}catch{A.error("Xəta baş verdi",{id:c})}finally{p(!1)}},We=c=>{const _=document.querySelector(`[data-settings-section="${c}"]`);_&&_.scrollIntoView({behavior:"smooth",block:"start"})};return g?e.jsx("div",{className:"loading-state",children:"Yüklənir..."}):e.jsxs("div",{className:"general-settings fade-in",children:[e.jsxs("div",{className:"settings-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Sistem Ayarları"}),e.jsx("p",{children:F?"Gizlədilmiş ayar kartları":"SEO, Brendinq və ümumi sayt tənzimləmələri"})]}),e.jsxs("button",{className:"save-btn",onClick:Ke,disabled:o,children:[e.jsx(la,{size:18}),e.jsx("span",{children:"Yadda Saxla"})]})]}),F&&R.length===0&&e.jsx("div",{className:"hidden-settings-empty",children:"Gizlənmiş kart yoxdur. Kartları gizlətmək üçün normal görünüşdə kartın üzərinə gəlib göz ikonuna klikləyin."}),!F&&e.jsx("div",{className:"settings-quick-nav",children:vo.map(c=>e.jsx("button",{type:"button",className:"quick-nav-btn",onClick:()=>We(c.id),children:c.label},c.id))}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:N("seo-basic"),"data-settings-section":"seo-basic",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ze,{size:20,className:"text-blue-500"}),e.jsx("h2",{children:"SEO və axtarış motoru"})]}),e.jsx("p",{className:"card-description",children:"Axtarış nəticələrində görünən əsas meta məlumatlar."})]}),X("seo-basic")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta başlıq (sayt adı)"}),e.jsx("input",{type:"text",value:S("SEO_TITLE"),onChange:c=>E("SEO_TITLE",c.target.value),placeholder:"Məs: Forsaj Club - Offroad & Motorsport"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Meta təsvir"}),e.jsx("textarea",{value:S("SEO_DESCRIPTION"),onChange:c=>E("SEO_DESCRIPTION",c.target.value),placeholder:"Sayt haqqında qısa məlumat..."}),e.jsx("small",{className:"field-help",children:"Tövsiyə: 140-160 simvol arası qısa təsvir."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Açar sözlər"}),e.jsx("input",{type:"text",value:S("SEO_KEYWORDS"),onChange:c=>E("SEO_KEYWORDS",c.target.value),placeholder:"offroad, baki, yarış, mitsubishi, pajero"}),e.jsx("small",{className:"field-help",children:"Açar sözləri vergül ilə ayırın."})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Kanonik URL"}),e.jsx("input",{type:"text",value:S("SEO_CANONICAL_URL"),onChange:c=>E("SEO_CANONICAL_URL",c.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Robots direktivi"}),e.jsx("input",{type:"text",value:S("SEO_ROBOTS"),onChange:c=>E("SEO_ROBOTS",c.target.value),placeholder:"index,follow"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Müəllif"}),e.jsx("input",{type:"text",value:S("SEO_AUTHOR"),onChange:c=>E("SEO_AUTHOR",c.target.value),placeholder:"Forsaj Club"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Dil (html lang)"}),e.jsx("input",{type:"text",value:S("SEO_LANGUAGE"),onChange:c=>E("SEO_LANGUAGE",c.target.value),placeholder:"az"}),e.jsx("small",{className:"field-help",children:"Məs: `az`, `en`, `tr`."})]})]})]}),e.jsxs("div",{className:N("seo-social"),"data-settings-section":"seo-social",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ze,{size:20,className:"text-cyan-500"}),e.jsx("h2",{children:"Sosial paylaşım SEO (OG / Twitter)"})]}),e.jsx("p",{className:"card-description",children:"Link paylaşılarkən görünən başlıq, təsvir və şəkil."})]}),X("seo-social")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG başlıq"}),e.jsx("input",{type:"text",value:S("SEO_OG_TITLE"),onChange:c=>E("SEO_OG_TITLE",c.target.value),placeholder:"Sosial şəbəkə başlığı"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG təsvir"}),e.jsx("textarea",{value:S("SEO_OG_DESCRIPTION"),onChange:c=>E("SEO_OG_DESCRIPTION",c.target.value),placeholder:"Sosial şəbəkə paylaşım təsviri"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG URL"}),e.jsx("input",{type:"text",value:S("SEO_OG_URL"),onChange:c=>E("SEO_OG_URL",c.target.value),placeholder:"https://forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter kart növü"}),e.jsx("input",{type:"text",value:S("SEO_TWITTER_CARD"),onChange:c=>E("SEO_TWITTER_CARD",c.target.value),placeholder:"summary_large_image"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter hesabı (site)"}),e.jsx("input",{type:"text",value:S("SEO_TWITTER_SITE"),onChange:c=>E("SEO_TWITTER_SITE",c.target.value),placeholder:"@forsajclub"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Twitter müəllif"}),e.jsx("input",{type:"text",value:S("SEO_TWITTER_CREATOR"),onChange:c=>E("SEO_TWITTER_CREATOR",c.target.value),placeholder:"@forsajclub"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"OG şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"140px"},children:S("SEO_OG_IMAGE",!0)?e.jsx("img",{src:S("SEO_OG_IMAGE",!0),alt:"OG Şəkli"}):e.jsx("div",{className:"no-logo",children:"OG şəkli yoxdur"})}),e.jsxs("div",{className:"form-grid two-cols",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(hi,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>Le(c,"SEO_OG_IMAGE")})]}),e.jsx("input",{type:"text",value:S("SEO_OG_IMAGE",!0),onChange:c=>E("SEO_OG_IMAGE",c.target.value,!0),placeholder:"https://forsaj.az/og-cover.jpg"})]})]})]})]}),e.jsxs("div",{className:N("seo-verify"),"data-settings-section":"seo-verify",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ss,{size:20,className:"text-violet-500"}),e.jsx("h2",{children:"Axtarış motoru təsdiqləri"})]}),e.jsx("p",{className:"card-description",children:"Google, Bing və Yandex üçün doğrulama kodları."})]}),X("seo-verify")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Google təsdiq kodu"}),e.jsx("input",{type:"text",value:S("SEO_GOOGLE_VERIFICATION"),onChange:c=>E("SEO_GOOGLE_VERIFICATION",c.target.value),placeholder:"google-site-verification kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Bing təsdiq kodu"}),e.jsx("input",{type:"text",value:S("SEO_BING_VERIFICATION"),onChange:c=>E("SEO_BING_VERIFICATION",c.target.value),placeholder:"msvalidate.01 kodu"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yandex təsdiq kodu"}),e.jsx("input",{type:"text",value:S("SEO_YANDEX_VERIFICATION"),onChange:c=>E("SEO_YANDEX_VERIFICATION",c.target.value),placeholder:"yandex-verification kodu"})]})]})]}),e.jsxs("div",{className:N("contact-details"),"data-settings-section":"contact-details",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ye,{size:20,className:"text-red-500"}),e.jsx("h2",{children:"Əlaqə & Ünvan Məlumatları"})]}),e.jsx("p",{className:"card-description",children:"Footer və əlaqə hissəsində görünən ofis və əlaqə məlumatları."})]}),X("contact-details")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 1)"}),e.jsx("input",{type:"text",value:S("CONTACT_ADDRESS_1"),onChange:c=>E("CONTACT_ADDRESS_1",c.target.value),placeholder:"Məs: AZADLIQ 102, BAKI"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis Ünvan (Sətir 2)"}),e.jsx("input",{type:"text",value:S("CONTACT_ADDRESS_2"),onChange:c=>E("CONTACT_ADDRESS_2",c.target.value),placeholder:"Məs: AZƏRBAYCAN // SECTOR_01"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"İş Saatları"}),e.jsx("input",{type:"text",value:S("CONTACT_HOURS"),onChange:c=>E("CONTACT_HOURS",c.target.value),placeholder:"Məs: 09:00 - 18:00"})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə Nömrəsi"}),e.jsx("input",{type:"text",value:S("CONTACT_PHONE"),onChange:c=>E("CONTACT_PHONE",c.target.value),placeholder:"+994 50 000 00 00"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Əlaqə E-poçtu"}),e.jsx("input",{type:"text",value:S("CONTACT_EMAIL"),onChange:c=>E("CONTACT_EMAIL",c.target.value),placeholder:"info@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:N("departments"),"data-settings-section":"departments",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ls,{size:20,className:"text-purple-500"}),e.jsx("h2",{children:"Şöbə E-poçtları"})]}),e.jsx("p",{className:"card-description",children:"Müraciətlərin istiqamətinə uyğun e-poçt ünvanları."})]}),X("departments")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Baş Ofis (HQ)"}),e.jsx("input",{type:"text",value:S("DEPT_HQ_EMAIL"),onChange:c=>E("DEPT_HQ_EMAIL",c.target.value),placeholder:"hq@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Media və PR"}),e.jsx("input",{type:"text",value:S("DEPT_PR_EMAIL"),onChange:c=>E("DEPT_PR_EMAIL",c.target.value),placeholder:"pr@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Texniki Dəstək"}),e.jsx("input",{type:"text",value:S("DEPT_TECH_EMAIL"),onChange:c=>E("DEPT_TECH_EMAIL",c.target.value),placeholder:"tech@forsaj.az"})]})]})]}),e.jsxs("div",{className:N("smtp-settings"),"data-settings-section":"smtp-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ls,{size:20,className:"text-emerald-500"}),e.jsx("h2",{children:"SMTP Bildiriş Ayarları"})]}),e.jsx("p",{className:"card-description",children:"Form müraciətləri göndəriləndə e-poçt bildirişi üçün SMTP məlumatları."})]}),X("smtp-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP aktiv"}),e.jsxs("select",{value:S("SMTP_ENABLED")||"1",onChange:c=>E("SMTP_ENABLED",c.target.value),children:[e.jsx("option",{value:"1",children:"Aktiv"}),e.jsx("option",{value:"0",children:"Deaktiv"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP Host"}),e.jsx("input",{type:"text",value:S("SMTP_HOST"),onChange:c=>E("SMTP_HOST",c.target.value),placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP Port"}),e.jsx("input",{type:"number",value:S("SMTP_PORT")||"587",onChange:c=>E("SMTP_PORT",c.target.value),placeholder:"587"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Təhlükəsizlik (SSL/TLS)"}),e.jsxs("select",{value:S("SMTP_SECURE")||"0",onChange:c=>E("SMTP_SECURE",c.target.value),children:[e.jsx("option",{value:"0",children:"Yox (STARTTLS/587)"}),e.jsx("option",{value:"1",children:"Bəli (SSL/465)"})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP istifadəçi"}),e.jsx("input",{type:"text",value:S("SMTP_USER"),onChange:c=>E("SMTP_USER",c.target.value),placeholder:"noreply@forsaj.az"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"SMTP şifrə / app password"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:b?"text":"password",value:S("SMTP_PASS"),onChange:c=>E("SMTP_PASS",c.target.value),placeholder:"********"}),e.jsx("button",{type:"button",className:"social-test-link",onClick:()=>j(c=>!c),children:b?"Gizlət":"Göstər"})]})]})]}),e.jsxs("div",{className:"form-grid two-cols",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Göndərən ünvanı (From)"}),e.jsx("input",{type:"text",value:S("SMTP_FROM"),onChange:c=>E("SMTP_FROM",c.target.value),placeholder:"Forsaj Club <noreply@forsaj.az>"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Qəbul edən ünvan(lar) (To)"}),e.jsx("input",{type:"text",value:S("SMTP_TO"),onChange:c=>E("SMTP_TO",c.target.value),placeholder:"admin@forsaj.az, support@forsaj.az"})]})]})]})]}),e.jsxs("div",{className:N("branding"),"data-settings-section":"branding",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(Ye,{size:20,className:"text-orange-500"}),e.jsx("h2",{children:"Brendinq & Loqo"})]}),e.jsx("p",{className:"card-description",children:"Light/Dark loqoları yükləyin, görünüşü dərhal önizləyin."})]}),X("branding")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"logo-upload-grid",children:[e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Əsas Loqo (Light)"}),e.jsx("div",{className:"logo-preview",children:S("SITE_LOGO_LIGHT",!0)?e.jsx("img",{src:S("SITE_LOGO_LIGHT",!0),alt:"Logo Light"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(hi,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>Le(c,"SITE_LOGO_LIGHT")})]})]}),e.jsxs("div",{className:"logo-box",children:[e.jsx("label",{children:"Alternativ Loqo (Dark)"}),e.jsx("div",{className:"logo-preview dark-bg",children:S("SITE_LOGO_DARK",!0)?e.jsx("img",{src:S("SITE_LOGO_DARK",!0),alt:"Logo Dark"}):e.jsx("div",{className:"no-logo",children:"Loqo yoxdur"})}),e.jsxs("label",{className:"upload-btn",children:[e.jsx(hi,{size:14})," Yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>Le(c,"SITE_LOGO_DARK")})]})]})]})})]}),e.jsxs("div",{className:N("social-links"),"data-settings-section":"social-links",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ze,{size:20,className:"text-pink-500"}),e.jsx("h2",{children:"Sosial Media Linkləri"})]}),e.jsx("p",{className:"card-description",children:"Sosial hesabları daxil edin və “Test et” ilə yoxlayın."})]}),X("social-links")]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Instagram"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:S("SOCIAL_INSTAGRAM"),onChange:c=>E("SOCIAL_INSTAGRAM",c.target.value),placeholder:"https://instagram.com/forsajclub"}),e.jsx("a",{href:re("SOCIAL_INSTAGRAM")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${re("SOCIAL_INSTAGRAM")?"":" disabled"}`,onClick:c=>{re("SOCIAL_INSTAGRAM")||c.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Youtube"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:S("SOCIAL_YOUTUBE"),onChange:c=>E("SOCIAL_YOUTUBE",c.target.value),placeholder:"https://youtube.com/@forsajclub"}),e.jsx("a",{href:re("SOCIAL_YOUTUBE")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${re("SOCIAL_YOUTUBE")?"":" disabled"}`,onClick:c=>{re("SOCIAL_YOUTUBE")||c.preventDefault()},children:"Test et"})]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Facebook"}),e.jsxs("div",{className:"social-input-row",children:[e.jsx("input",{type:"text",value:S("SOCIAL_FACEBOOK"),onChange:c=>E("SOCIAL_FACEBOOK",c.target.value),placeholder:"https://facebook.com/forsajclub"}),e.jsx("a",{href:re("SOCIAL_FACEBOOK")||"#",target:"_blank",rel:"noopener noreferrer",className:`social-test-link${re("SOCIAL_FACEBOOK")?"":" disabled"}`,onClick:c=>{re("SOCIAL_FACEBOOK")||c.preventDefault()},children:"Test et"})]}),e.jsx("small",{className:"field-help",children:"Domen ilə başlayan linklərdə (`instagram.com/...`) `https://` avtomatik əlavə ediləcək."})]})]})]}),e.jsxs("div",{className:N("marquee-settings"),"data-settings-section":"marquee-settings",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(As,{size:20,className:"text-amber-500"}),e.jsx("h2",{children:"Marquee Ayarları"})]}),e.jsx("p",{className:"card-description",children:"Ana səhifənin üst hissəsindəki hərəkətli elan xəttini idarə edin."})]}),X("marquee-settings")]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:ae("marquee",!0),onChange:c=>fe("marquee",c.target.checked)}),e.jsx("span",{children:"Marquee aktivdir (səhifədə göstər)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee mətni"}),e.jsx("textarea",{value:Z(),onChange:c=>ve(c.target.value),placeholder:"Məs: FORSAJ CLUB // OFFROAD MOTORSPORT HUB"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Link əlavə et"}),e.jsx("input",{type:"text",value:Me(),onChange:c=>me(c.target.value),placeholder:"Məs: /events və ya https://forsaj.az/events"})]}),e.jsx("div",{className:"field-group",children:e.jsxs("label",{className:"toggle-row",children:[e.jsx("input",{type:"checkbox",checked:Fe(),onChange:c=>G(c.target.checked)}),e.jsx("span",{children:"Link aktivdir (aktiv/deaktiv)"})]})}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Marquee arxa plan şəkli"}),e.jsx("div",{className:"logo-preview",style:{minHeight:"90px"},children:S("marquee-image",!0,"marquee")?e.jsx("img",{src:S("marquee-image",!0,"marquee"),alt:"Marquee Background"}):e.jsx("div",{className:"no-logo",children:"Arxa plan şəkli yoxdur"})}),e.jsxs("div",{className:"form-grid two-cols",style:{marginTop:"10px"},children:[e.jsxs("label",{className:"upload-btn",children:[e.jsx(hi,{size:14})," Şəkil yüklə",e.jsx("input",{type:"file",hidden:!0,onChange:c=>Le(c,"marquee-image","marquee")})]}),e.jsx("input",{type:"text",value:S("marquee-image",!0,"marquee"),onChange:c=>E("marquee-image",c.target.value,!0,"marquee"),placeholder:"https://forsaj.az/marquee-bg.jpg"})]})]})]})]}),e.jsxs("div",{className:N("stats"),"data-settings-section":"stats",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-title-wrap",children:[e.jsxs("div",{className:"card-title-row",children:[e.jsx(ss,{size:20,className:"text-green-500"}),e.jsx("h2",{children:"Sayt Statistikaları"})]}),e.jsx("p",{className:"card-description",children:"Ana səhifədə göstərilən qısa statistik göstəricilər."})]}),X("stats")]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"stats-edit-grid",children:[e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Pilot Sayı"}),e.jsx("input",{type:"text",value:S("STATS_PILOTS"),onChange:c=>E("STATS_PILOTS",c.target.value),placeholder:"Susmaya görə: 140+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Yarış Sayı"}),e.jsx("input",{type:"text",value:S("STATS_RACES"),onChange:c=>E("STATS_RACES",c.target.value),placeholder:"Susmaya görə: 50+"})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Gənc İştirakçı"}),e.jsx("input",{type:"text",value:S("STATS_YOUTH"),onChange:c=>E("STATS_YOUTH",c.target.value),placeholder:"Susmaya görə: 20+"})]})]})})]})]})]})},je=i=>i.toLocaleLowerCase("az").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),So={DASHBOARD:"Panel Ana Səhifə","ANA SƏHİFƏ":"Ana Səhifə / Naviqasiya / Footer","SAYT MƏZMUNU":"Ana Səhifə / Naviqasiya / Footer",HAQQIMIZDA:"Haqqımızda",XƏBƏRLƏR:"Xəbərlər",TƏDBİRLƏR:"Tədbirlər",SÜRÜCÜLƏR:"Sürücülər",QALEREYA:"Qalereya",QAYDALAR:"Qaydalar",ƏLAQƏ:"Əlaqə","ADMİN HESABLARI":"İstifadəçi İdarəsi","SİSTEM AYARLARI":"Sistem Ayarları",SOSYAL:"Sosyal","MƏXFİLİK SİYASƏTİ":"PRIVACY POLICY","XİDMƏT ŞƏRTLƏRİ":"TERMS OF SERVICE"},To={"Ümumi Görünüş":"Ana Səhifə Blokları",Naviqasiya:"Menyu və Naviqasiya","Giriş Hissəsi":"Hero Bölməsi","Sürüşən Yazı":"Marquee Yazısı","Sayt Sonu":"Footer","Xəbər Siyahısı":"Xəbər Məzmunu","Xəbər Səhifəsi":"Xəbər Səhifəsi Mətni","Tədbir Təqvimi":"Tədbir Siyahısı","Tədbir Səhifəsi":"Tədbir Səhifəsi Mətni","Sürücü Reytinqi":"Sürücü Cədvəli","Sürücülər Səhifəsi":"Sürücülər Səhifəsi Mətni"},Eo=i=>{const s=So[i.title]||i.title;return{...i,title:s,children:i.children?.map(o=>({...o,title:To[o.title]||o.title}))}},Ot=i=>i&&(i==="/frontend-settings"||i==="/admin/frontend-settings"||i==="/general-settings"||i==="/admin/general-settings"?"/general-settings?tab=general":i),el=i=>({...i,path:Ot(i.path),children:i.children?.map(el)}),Qi=(i=[])=>{const s=new Map;return i.forEach(o=>{const p=`${je(o.title||"")}|${je(o.path||"")}`;p&&s.set(p,o)}),Array.from(s.values())},tl=i=>({title:i.title||"",path:i.path||"",icon:i.icon||"",badgeText:i.badge?.text||"",badgeColor:i.badge?.color||"",children:Array.isArray(i.children)?i.children.map(tl):[]}),jo=i=>JSON.stringify((i||[]).map(tl)),js=i=>{const s=je(i?.title||""),o=je(Ot(i?.path)||"");return s==="sistem ayarlari"||o==="/frontend-settings"||o==="/admin/frontend-settings"||o==="/general-settings"||o==="/admin/general-settings"||o.startsWith("/general-settings?")},Ao=()=>{const[i,s]=v.useState(null),[o,p]=v.useState([]),[g,T]=v.useState(0),[b,j]=v.useState(!0),[R,k]=v.useState(()=>Fr()),U=v.useRef(""),M={loading:R==="ru"?"Загрузка...":"Yüklənir...",notFound:R==="ru"?"Страница не найдена":"Səhifə tapılmadı"},F=K=>{k(K),Yr(K)};if(v.useEffect(()=>{document.documentElement.lang=R==="ru"?"ru":"az"},[R]),v.useEffect(()=>{const K=localStorage.getItem(Ws),N=kt();if(K&&N)try{s(JSON.parse(K))}catch{qe(),s(null)}else qe(),s(null);j(!1)},[]),v.useEffect(()=>{const K=()=>s(null);return window.addEventListener(aa,K),()=>window.removeEventListener(aa,K)},[]),v.useEffect(()=>{(async()=>{const N=kt();if(!N){qe();return}try{let $=g;const W=await fetch("/api/applications/unread-count",{headers:{Authorization:`Bearer ${N}`}});if(W.status===401||W.status===403){qe();return}if(W.ok){const{count:V}=await W.json();$=Number(V)||0,T($)}const X=await fetch(`/api/sitemap?v=${Date.now()}`);if(X.ok){const V=await X.json();let D=Array.isArray(V)?V:[];D=D.map(G=>Eo(G)).map(G=>el(G));const E=D.find(G=>G.path==="/applications");E?$>0?E.badge={text:$.toString(),color:"bg-red-500"}:delete E.badge:D=[...D,{title:"Müraciətlər",path:"/applications",icon:"Inbox",badge:$>0?{text:$.toString(),color:"bg-red-500"}:void 0}];const S=[{title:"SEO Ayarları",path:"/general-settings?tab=seo",icon:"Globe"},{title:"Ümumi Parametrlər",path:"/general-settings?tab=general",icon:"Sliders"},{title:"Əlaqə və Sosial",path:"/general-settings?tab=contact",icon:"Phone"},{title:"Marquee Ayarları",path:"/general-settings?tab=marquee",icon:"Activity"},{title:"Tətbiq Ayarları",path:"/general-settings?tab=stats",icon:"Activity"},{title:"Gizlənən Ayarlar",path:"/general-settings?tab=hidden",icon:"Eye"}],ae=D.filter(G=>js(G));D=D.filter(G=>!js(G));const Z={title:"Sistem Ayarları",icon:"Settings",path:"/general-settings?tab=general",children:Qi([...S,...ae.flatMap(G=>G.children||[])])},ve=D.findIndex(G=>je(G.path||"")==="/users-management");if(ve>=0?D.splice(ve+1,0,Z):D.push(Z),!D.some(G=>je(G.title||"")==="sosyal"||je(Ot(G.path)||"")==="/general-settings?tab=social")){const G={title:"Sosyal",icon:"Globe",path:"/general-settings?tab=social"},re=D.findIndex(Le=>je(Le.title||"")==="sistem ayarlari"||je(Ot(Le.path)||"")==="/general-settings?tab=general"),B=D.findIndex(Le=>je(Le.path||"")==="/applications");re>=0?D.splice(re+1,0,G):B>=0?D.splice(B,0,G):D.push(G)}const Oe=(G,re=[])=>{const B=je(Ot(G.path)||""),Le=je(G.title||"");if(D.some(_=>je(_.title||"")===Le||je(Ot(_.path)||"")===B))return;const We=D.findIndex(_=>{const C=je(_.title||"");return re.some(J=>C===je(J))});if(We>=0){D.splice(We+1,0,G);return}const c=D.findIndex(_=>je(_.path||"")==="/applications");if(c>=0){D.splice(c,0,G);return}D.push(G)};Oe({title:"PRIVACY POLICY",icon:"FileText",path:"/?page=privacypolicypage"},["Qaydalar","QAYDALAR"]),Oe({title:"TERMS OF SERVICE",icon:"FileText",path:"/?page=termsofservicepage"},["PRIVACY POLICY"]);const Me=new Map;for(const G of D){const re=je(G.title||"");if(!re)continue;const B=Me.get(re);if(!B){Me.set(re,{...G,children:Qi(G.children||[])});continue}Me.set(re,{...B,path:B.path||G.path,icon:B.icon||G.icon,badge:B.badge||G.badge,children:Qi([...B.children||[],...G.children||[]])})}const me=Array.from(Me.values()),Fe=jo(me);Fe!==U.current&&(U.current=Fe,p(me))}}catch($){console.error("Fetch data failed",$)}finally{j(!1)}})()},[i]),b)return e.jsx("div",{style:{display:"flex",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",background:"#f4f6f9",color:"#3b82f6",fontSize:"1.2rem",fontWeight:"600"},children:M.loading});const O=!o||o.length===0;return e.jsx(ir,{basename:"/admin",children:e.jsxs("div",{className:"app-container",children:[e.jsx(Gr,{language:R}),e.jsx(zn,{containerStyle:{zIndex:10001},position:"top-right",reverseOrder:!1}),i?e.jsxs(e.Fragment,{children:[e.jsx(Kr,{menuItems:o,user:i,onLogout:()=>{qe(),s(null)},language:R,onLanguageChange:F}),e.jsxs("main",{className:"main-content",children:[e.jsx($r,{user:i,language:R}),e.jsx("div",{className:"content-body",children:e.jsx(ar,{children:O?e.jsx(Rt,{path:"*",element:e.jsx(no,{language:R})}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{path:"/",element:e.jsx(lo,{})}),e.jsx(Rt,{path:"/applications",element:e.jsx(fo,{})}),e.jsx(Rt,{path:"/general-settings",element:e.jsx(yo,{})}),e.jsx(Rt,{path:"/users-management",element:e.jsx(ro,{currentUser:i})}),e.jsx(Rt,{path:"*",element:e.jsx("div",{className:"fade-in",children:e.jsx("h1",{children:M.notFound})})})]})})})]})]}):e.jsx(oo,{onLogin:s,language:R,onLanguageChange:F})]})})};sr.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(Ao,{})}));
